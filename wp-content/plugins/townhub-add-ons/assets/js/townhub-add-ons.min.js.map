{"version":3,"sources":["../../../../jses/addons.js"],"names":["a","define","amd","module","exports","require","jQuery","extend","fn","validate","b","length","debug","window","console","warn","c","data","attr","validator","settings","onsubmit","on","submitButton","currentTarget","hasClass","cancelSubmit","d","e","submitHandler","formSubmitted","name","val","appendTo","currentForm","call","remove","preventDefault","form","pendingRequest","focusInvalid","valid","is","each","element","concat","errorList","rules","f","g","h","i","j","hasAttribute","closest","staticRules","normalizeRule","messages","split","normalizeRules","classRules","attributeRules","dataRules","required","remote","expr","pseudos","blank","trim","filled","unchecked","prop","defaults","init","format","arguments","makeArray","unshift","apply","constructor","Array","slice","replace","RegExp","groups","errorClass","pendingClass","validClass","errorElement","focusCleanup","errorContainer","errorLabelContainer","ignore","ignoreTitle","onfocusin","lastActive","unhighlight","hideThese","errorsFor","onfocusout","checkable","submitted","optional","onkeyup","which","elementValue","inArray","keyCode","invalid","onclick","parentNode","highlight","type","findByName","addClass","removeClass","setDefaults","email","url","date","dateISO","number","digits","equalTo","maxlength","minlength","rangelength","range","max","min","step","autoCreateRanges","prototype","labelContainer","errorContext","containers","add","valueCache","pending","reset","invalidHandler","checkForm","errorMap","triggerHandler","showErrors","prepareForm","currentElements","elements","check","clean","validationTargetFor","prepareElement","push","numberOfInvalids","toHide","map","message","successList","grep","defaultShowErrors","resetForm","hideErrors","removeData","removeAttr","resetElements","objectLength","not","text","addWrapper","hide","size","findLastActive","filter","focus","trigger","find","error","errors","join","resetInternals","toShow","validity","badInput","substr","lastIndexOf","normalizer","TypeError","method","parameters","methods","formatAndAdd","k","log","id","customDataMessage","charAt","toUpperCase","substring","toLowerCase","customMessage","String","findDefined","defaultMessage","title","test","wrapper","parent","showLabel","success","validElements","show","invalidElements","idOrName","html","wrap","append","errorPlacement","insertAfter","parents","escapeCssMeta","match","getLength","nodeName","depend","dependTypes","string","startRequest","stopRequest","submit","previousValue","old","destroy","off","classRuleSettings","creditcard","addClassRules","normalizeAttributeRule","Number","isNaN","getAttribute","param","depends","isFunction","isArray","addMethod","Date","toString","l","Math","round","pow","m","Error","originalMessage","ajax","mode","port","dataType","context","ajaxPrefilter","abort","ajaxSettings","$","twittie","options","Object","callback","list","username","linking","tweet","twit","dating","twt_date","time","parse","months","_date","getDate","getMonth","getFullYear","dateFormat","len","templating","temp","template","temp_variables","loadingText","that","getJSON","apiPath","action","hashtag","count","exclude_replies","hideReplies","twt","fadeOut","statuses","undefined","temp_data","id_str","user_name","user","created_at","retweeted","screen_name","retweeted_status","avatar","profile_image_url","location","protocol","list_ticker","speed","effect","obj","children","setInterval","first_li","eq","second_li","slideUp","slideDown","fadeIn","niceSelect","$select","$dropdown","next","open","create_nice_select","css","document","after","_townhub_add_ons","search","$options","$selected","$selected_html","$selected_option","$selected_text","$select_placeholder","$option","display","event","toggleClass","stopPropagation","target","$selected_values","prev","$focused_option","$next","nextAll","first","$prev","prevAll","$self","$text","$matchReg","$this","$optionText","$matchCheck","style","createElement","cssText","pointerEvents","downCount","offset","container","currentDate","utc","getTime","getTimezoneOffset","new_date","countdown","target_date","current_date","difference","clearInterval","interval","_second","_minute","_hour","_day","days","floor","hours","minutes","seconds","ref_days","ref_hours","ref_minutes","ref_seconds","create","F","loadAPI","tag","head","getElementsByTagName","origin","src","appendChild","iframeIsReady","YT","loadingPlayer","dfd","Deferred","onYouTubeIframeAPIReady","resolve","done","YTPlayer","player","ratio","videoId","mute","repeat","width","playButtonClass","pauseButtonClass","muteButtonClass","volumeUpClass","volumeDownClass","start","pauseOnScroll","fitToBackground","playerVars","iv_load_policy","modestbranding","autoplay","controls","showinfo","wmode","branding","autohide","events","node","userOptions","self","$body","$node","$window","onPlayerReady","seekTo","height","ceil","ID","holderID","createBackgroundVideo","createContainerVideo","resize","bind","state","getPlayerState","pauseVideo","scrollStopped","playVideo","$YTPlayerString","pWidth","pHeight","$YTPlayerPlayer","left","top","Player","getPlayer","scroll","clearTimeout","setTimeout","el","t","s","share","r","networks","o","theme","orientation","u","affix","margin","urlToShare","p","encodeURIComponent","forEach","n","networkDefs","indexOf","click","facebook","twitter","linkedin","in1","w","tumblr","digg","googleplus","reddit","pinterest","posterous","stumbleupon","autoShow","useIn1","csse","i18n","gregorian","short","full","weekdays","pickers","picker","picker_ctrl","pick_dragged","pick_drag_offset","pick_drag_temp","is_click","is_ie","navigator","userAgent","parseInt","is_touch","is_fx_mobile","fx","fxmobile","is_jumpable","jump","key","y","is_locked","unix_current","get_unix","get_current_full","unix_today","get_today_full","lock","picker_alrt","disabledays","is_int","is_date","value","get_current","current","get_today","today","get_jumped","key_values","get_closest_jumped","int","arr","abs","get_clear","get_days_array","lang","get_ul","get_picker_els","get_eq","ul","picker_large_onoff","large","picker_render_calendar","picker_translate_onoff","picker_offset","input","outerWidth","outerHeight","picker_translate","v","keys","picker_set_lang","picker_set","picker_day_offset","picker_show","picker_hide","picker_render_ul","class","picker_ul_transition","index","empty","_C","_S","_L","_NUM","setMonth","setDate","getDay","picker_fills","input_change_value","li","clone","insertBefore","picker_values_increase","picker_ul_turn","input_fill","input_ordinal_suffix","get_day","str","change","ui_event","picker_node_el","has","jumped_array","jumped","originalEvent","touches","pageY","dateDropper","picker_default_date","picker_disabled_days","picker_format","picker_fx","picker_fx_class","picker_fx_mobile","picker_init_set","picker_lang","picker_large","picker_large_class","picker_lock","picker_jump","picker_max_year","picker_min_year","picker_modal","picker_theme","picker_translate_mode","translate","regex","matches","blur","timeDropper","callbackFnk","_td_input","_td_input_on","_td_mobile","_td_num","_td_id","_td_alert","_td_event","_td_options","autoswitch","meridians","mousewheel","setCurrentTime","init_animation","primaryColor","borderColor","backgroundColor","textColor","_td_color","col","amt","usePound","num","_td_container","_td_overlay","_td_c","_td_init_deg","_td_event_deg","_td_wheel_deg","_td_h","_td_m","_td_define_deg","deg","_td_rotation","A","center","x","tmp","rad2deg","PI","move","pageX","atan2","wheelDelta","_td_init","_td_span_h","_td_span_m","reg","am","st","getHours","getMinutes","factory","registeredInModuleLoader","OldCookies","Cookies","api","noConflict","result","attributes","converter","path","expires","toUTCString","JSON","stringify","write","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","jar","decode","cookies","parts","json","read","set","get","withConverter","parseFloat","byRow","property","matchHeight","_groups","_apply","version","_throttle","_maintainScroll","_beforeUpdate","_afterUpdate","_rows","_parse","_parseOptions","scrollTop","overflow","_applyDataApi","_update","units","country","forecast","_name","once","parseWeatherResult","city","sys","now","main","temp_min","temp_max","desc","weather","description","capitalize","code","wind","humidity","pressure","sunrise","timeformat","sunset","day","strings","forecast_arr","dt","icon","dval","query","results","channel","item","condition","low","high","direction","atmosphere","astronomy","chanceflurries","chancerain","chancesleet","chancesnow","chancetstorms","clear","cloudy","flurries","fog","hazy","mostlycloudy","mostlysunny","partlycloudy","partlysunny","sleet","rain","snow","sunny","tstorms","unknown","current_observation","display_location","temp_c","simpleforecast","forecastday","celsius","temp_f","fahrenheit","wind_kph","wind_mph","wind_degrees","relative_humidity","pressure_mb","pressure_in","sun_phase","minute","hour","epoch","conditions","remove_duplicates_es6","unique_array","zmw","displayCityNameOnly","apikey","view","render","loadingAnimation","openweathermap","yahoo","wunderground","loading","fetchWeather","then","ajaxData","lat","lon","when","res","cod","_weather","reject","fail","response","prependTo","CTH_FILTERS","CTH_ACTIONS","_cth_add","function_to_add","priority","lists","func","pri","cth_add_filter","cth_add_action","_cth_do","args","hook","shift","cth_apply_filters","varargs","cth_do_action","cth_do_add_hooks","className","E","isPlainObject","loadHTML","clickToHide","arrow","userContainer","elementType","originalElement","elem","N","before","run","cssElem","classes","fields","styleSheet","autoHide","autoHideDelay","arrowShow","arrowSize","breakNewLines","elementPosition","globalPosition","showAnimation","showDuration","hideAnimation","hideDuration","gap","S","T","C","L","getStyle","userFields","setGlobalPosition","getPosition","body","contains","prepend","setElementPosition","O","M","_","D","P","H","B","position","innerHeight","innerWidth","updateClasses","autohideTimer","jquery","addStyle","removeStyle","pluginOptions","insertCSS","base","padding","border","color","info","loginCaptcha","regCaptcha","submitCaptcha","cthCaptchaCallback","getElementById","grecaptcha","gcaptcha_key","cthMobileDetect","Android","BlackBerry","iOS","Opera","Windows","any","trueMobile","pathname","hostname","hash","animate","queue","duration","easing","tdOpt","minutesInterval","lb_24h","td_color","epi","ready","ticker","posted_on","reply","retweet","favorite","sub_form","pl_w","dataString","serialize","noredirect","href","redirect","last_response","bodyjson","wn","Instafeed","params","option","resolution","sortBy","links","mock","useHttp","unique","_genKey","hasNext","nextUrl","header","instanceName","script","clientId","accessToken","_buildUrl","anchor","childNodeCount","childNodeIndex","childNodesArr","eMsg","fragment","htmlString","httpProtocol","image","imageObj","imageString","imageUrl","images","img","imgHeight","imgOrient","imgUrl","imgWidth","len1","len2","parsedLimit","reverse","sortSettings","targetEl","tmpEl","meta","error_message","pagination","next_url","sort","random","_sortBy","limit","createDocumentFragment","_filter","_makeTemplate","model","link","caption","_getObjectProperty","likes","comments","innerHTML","childNodes","removeChild","_error","endpoint","final","tagName","locationId","userId","S4","output","pattern","ref","varName","varValue","object","piece","pieces","sorter","valueA","valueB","filteredImages","root","clientID","getval","instafeed_ops","err","lightGallery","selector","cssEasing","download","loop","counter","feed","$radio","disable_bubble","randomValue","bArray","sArray","button","post_id","nonce","iscomment","is_comment","beforeSend","status","like_text","like","unlike_text","unlike","$wrap","slideToggle","$tab_a","siblings","currentEntry","currentRepeat","removeText","newEntry","tmplName","tmplData","variable","evaluate","interpolate","modal","$modal","listing","to_user","invoice","$invoice_details","_nonce","invoice_tmpl","jqXHR","textStatus","errorThrown","login_err","gcaptcha","login_msg","redirection","login_delay","reg_err","reg_msg","duplicate","merge","pushStack","cardRaining","cr","rating","stars","sub","cardRainingVis","getBoundsRadius","bounds","ne_lat","getNorthEast","ne_lng","lng","c_lat","getCenter","c_lng","r_km","acos","sin","cos","fetchAddress","coordinates","fetch","address","display_name","inrange","valid_coords","number_lat","number_lng","free_map","singleMapOSM","$that","mapCenter","loc","zoomLevel","map_zoom","sview","ol","View","proj","fromLonLat","zoom","sFeature","Feature","geometry","geom","Point","transform","mkIcon","Style","Icon","anchorXUnits","anchorYUnits","marker","crossOrigin","setStyle","svectorLayer","layer","Vector","source","features","osm_single_map","Map","layers","Tile","preload","OSM","loadTilesWhileAnimating","onOSMDragMarker","submitMapOSM","center_lng","center_lat","interactions","defaultInteractions","appOSM","Drag","mainOSMApp","maxZoom","popup","olPopup","vectorSource","clusterSource","vectorLayer","layerRoute","extent","multiLineString","info_tmpl","styleCache","posts","initLayerRoute","initPopup","initView","initVectorSource","initCluster","initVectorLayer","initMap","fitMap","mapInteraction","map_opts","overlays","interaction","dragPan","listingsOSMMap","mapevt","CustomEvent","detail","dispatchEvent","getView","fit","getSize","toDefaultMap","Overlay","autoPan","autoPanAnimation","MultiLineString","stroke","Stroke","zIndex","updateWhileAnimating","createEmpty","iconFeature","locationData","iconStyle","setId","addFeature","getGeometry","getExtent","Cluster","_self","updateWhileInteracting","feature","_fts","Circle","radius","fill","Fill","Text","font","locationURL","locationCategories","locationImg","locationTitle","locationAddress","locationPhone","locationRating","statusText","price_to","price_from","cats","phone","select","Select","mapBrowserEvent","singleClick","features_","forEachFeatureAtPixel","pixel","feature_","getZoom","ft","cluster","displayOverlapping","setPosition","coordinate","addInteraction","coord","getCoordinates","px","getPixelFromCoordinate","points","generatePointsCircle","setCoordinates","row","cd_end","getCoordinateFromPixel","appendLineString","LineString","setGeometry","centerPixel","separation","twoPi","start_angle","circumference","legLength","angleStep","angle","updateMap","oldVectorLayer","changed","getLayers","removed","mainOSMMapEle","load","_townhub_add_ons_locs","inherits","PointerInteraction","Pointer","handleDownEvent","handleDragEvent","handleMoveEvent","handleUpEvent","coordinate_","cursor_","previousCursor_","evt","deltaX","deltaY","getTargetElement","cursor","markerIcon","google","maps","boxText","boxOptions","content","disableAutoPan","alignBottom","maxWidth","pixelOffset","Size","boxStyle","closeBoxMargin","closeBoxURL","infoBoxClearance","isHidden","pane","enableEventPropagation","mapHasIdled","initMainMap","locsArr","bounds_changed","LatLngBounds","locations","mapZoomAttr","mainMapEle","mapScrollAttr","scrollEnabled","setZoom","currentMarker","allMarkers","mapOptions","scrollwheel","LatLng","mapTypeId","MapTypeId","gmap_type","zoomControl","mapTypeControl","scaleControl","panControl","navigationControl","streetViewControl","animation","Animation","BOUNCE","gestureHandling","styles","addListener","oms","OverlappingMarkerSpiderfier","markersWontMove","markersWontHide","ZoomControl","Marker","DROP","attachMarkerInfoContent","addMarker","fitBounds","panToBounds","clusterStyles","cssClass","imagePath","minClusterSize","markerCluster","MarkerClusterer","addDomListener","setCenter","getBounds","doAjaxSearch","address_lat","address_lng","ldistance","setAnimation","listingsMap","singleMap","myLatLng","single_map","submitMap","submit_map","submit_marker","draggable","latLng","isFullScreen","fullScreen","mozFullScreen","webkitIsFullScreen","latlng","infoContent","theMap","ib","InfoBox","panTo","panBy","close","zoomControlDiv","ControlPosition","BOTTOM_LEFT","classList","RIGHT_CENTER","controlWrapper","zoomInButton","zoomOutButton","AjaxHelper","config","initConfig","ajaxParams","actionPrefix","send","FormData","successCallback","errorCallback","placesAutocompleteOptions","types","country_restrictions","countries","componentRestrictions","place_lng","language","submitLocationEle","submitLocationAutocomplete","places","Autocomplete","submitAddressEle","submitAddressAutocomplete","place","getPlace","feasView","feaTmpl","addFeaTmpl","feas","_townhub_submit","add_feas","addfeas","newRes","fea","field","feasHTML","addFeasHTML","addFeatures","files","md_limit","alert","md_limit_msg","file","md_limit_size","md_limit_size_msg","reader","FileReader","onload","readAsDataURL","$btn","lid","confirm","lfeatured","notify","onListingsChanged","listing_grid_wrap_cols","cat","subCatsView","subCatsHTML","subcats","gplace_event","curr_event","currentLocationEle","paged","$slider","sliderItems","listingTypeTmpls","listing_types","typeID","slick","infinite","slidesToShow","slidesToScroll","dots","arrows","centerMode","centerPadding","responsive","breakpoint","getFormDataObj","dataArray","paramObj","kv","hasOwnProperty","ajax_count","vars","serializeArray","getPreciseLocation","Promise","geolocation","getCurrentPosition","coords","latitude","longitude","getLocationDataResult","location_result","address_format","result_parts","part","location_type","extractAddressComponent","addresses","address_component","address_components","long_name","extractOSMAddress","county","postcode","village","city_district","addCurrentCity","geocoder","Geocoder","geocode","getCurrentGeoLocation","mainSearchLocationEle","addEventListener","locationAutocomplete","oninput","parent_wrap","drawMapCircle","distance","cityCircle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","$form","$fileInputs","cache","contentType","processData","$photowrap","$qItem","$qty","qtyval","lb_delay","slid","toggle","formatDate","modify","fullm","_getMonthNum","fulld","_getDateNum","month","ckinval","ckoutval","daterangepicker","autoUpdateInput","autoApply","parentEl","locale","cancelLabel","startDate","endDate","minDate","ev","checkin","checkout","bkid","bktitle","lb_approved","msgid","msgtitle","noti_key","initHiddenGal","dynamicgal","eval","dynamic","dynamicEl","roomid","right","opacity","rid","_wpnonce","initIsotope","masonry","percentPosition","columnWidth","itemSelector","transitionDuration","imagesLoaded","mouseenter","countDate","$el","flatWeatherPlugin","vid","mt","ql","pos","ftb","rep","setPlaybackQuality","video","quality","bvmc","bvfc","vch","shrcn","shs","showShare","hideShare","CLASSES","MASONRY","PANEL","PAD","masonryConfig","sm","columns","md","lg","four","five","six","seven","eight","nine","ten","Masonry","layout","panels","querySelectorAll","heights","debounce","__reInit","instance","fillers","removeAttribute","panel","getComputedStyle","cssOrder","order","msFlexOrder","marginTop","marginBottom","maxHeight","currentSize","_getLayoutSize","remainder","idx","pad","__reset","__populateHeights","__setLayout","__pad","manWrap","remainder_panel","listingsMasonry","querySelector","sortable","file_frame","is_multiple","fieldname","wp","media","frames","multiple","selection","attachment","toJSON","tmpl","post","$selectedli","replaceWith","img_id","total","values","toFixed","remov","valq","price","checked","initImagesCollage","tcp","dpl","dpt","dzi","select2_renderSelections","$select2","$container","$tags","$input","last","selectionHandler","found_index","splice","elementorFrontend","hooks","firstLoaded","CTHSelect2Inited","addAction","$scope","testimonials_slider","collage_images","CTHControlSelect2ItemView","elementor","modules","Select2","onReady","rawValue","getControlValue","ui","select2","getSelect2Options"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAIA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAIA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA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","file":"themename-add-ons.min.js","sourcesContent":["/*! jQuery Validation Plugin - v1.17.0 - 7/29/2017\n * https://jqueryvalidation.org/\n * Copyright (c) 2017 Jörn Zaefferer; Licensed MIT */ \n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):\"object\"==typeof module&&module.exports?module.exports=a(require(\"jquery\")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn(\"Nothing selected, can't validate, returning nothing.\"));var c=a.data(this[0],\"validator\");return c?c:(this.attr(\"novalidate\",\"novalidate\"),c=new a.validator(b,this[0]),a.data(this[0],\"validator\",c),c.settings.onsubmit&&(this.on(\"click.validate\",\":submit\",function(b){c.submitButton=b.currentTarget,a(this).hasClass(\"cancel\")&&(c.cancelSubmit=!0),void 0!==a(this).attr(\"formnovalidate\")&&(c.cancelSubmit=!0)}),this.on(\"submit.validate\",function(b){function d(){var d,e;return c.submitButton&&(c.settings.submitHandler||c.formSubmitted)&&(d=a(\"<input type='hidden'/>\").attr(\"name\",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),!c.settings.submitHandler||(e=c.settings.submitHandler.call(c,c.currentForm,b),d&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is(\"form\")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,b||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(null!=j&&(!j.form&&j.hasAttribute(\"contenteditable\")&&(j.form=this.closest(\"form\")[0],j.name=this.attr(\"name\")),null!=j.form)){if(b)switch(d=a.data(j.form,\"validator\").settings,e=d.rules,f=a.validator.staticRules(j),b){case\"add\":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case\"remove\":return c?(i={},a.each(c.split(/\\s/),function(a,b){i[b]=f[b],delete f[b]}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g)),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr.pseudos||a.expr[\":\"],{blank:function(b){return!a.trim(\"\"+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(\"\"+c)},unchecked:function(b){return!a(b).prop(\"checked\")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp(\"\\\\{\"+a+\"\\\\}\",\"g\"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:\"error\",pendingClass:\"pending\",validClass:\"valid\",errorElement:\"label\",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:\":hidden\",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&\"\"===this.elementValue(b)||a.inArray(c.keyCode,d)!==-1||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){\"radio\"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){\"radio\"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:\"This field is required.\",remote:\"Please fix this field.\",email:\"Please enter a valid email address.\",url:\"Please enter a valid URL.\",date:\"Please enter a valid date.\",dateISO:\"Please enter a valid date (ISO).\",number:\"Please enter a valid number.\",digits:\"Please enter only digits.\",equalTo:\"Please enter the same value again.\",maxlength:a.validator.format(\"Please enter no more than {0} characters.\"),minlength:a.validator.format(\"Please enter at least {0} characters.\"),rangelength:a.validator.format(\"Please enter a value between {0} and {1} characters long.\"),range:a.validator.format(\"Please enter a value between {0} and {1}.\"),max:a.validator.format(\"Please enter a value less than or equal to {0}.\"),min:a.validator.format(\"Please enter a value greater than or equal to {0}.\"),step:a.validator.format(\"Please enter a multiple of {0}.\")},autoCreateRanges:!1,prototype:{init:function(){function b(b){!this.form&&this.hasAttribute(\"contenteditable\")&&(this.form=a(this).closest(\"form\")[0],this.name=a(this).attr(\"name\"));var c=a.data(this.form,\"validator\"),d=\"on\"+b.type.replace(/^validate/,\"\"),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){\"string\"==typeof c&&(c=c.split(/\\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on(\"focusin.validate focusout.validate keyup.validate\",\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']\",b).on(\"click.validate\",\"select, option, [type='radio'], [type='checkbox']\",b),this.settings.invalidHandler&&a(this.currentForm).on(\"invalid-form.validate\",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler(\"invalid-form\",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=g.check(e)&&h))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr(\"aria-invalid\",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData(\"previousValue\").removeAttr(\"aria-invalid\");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,\"\"),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)void 0!==a[b]&&null!==a[b]&&a[b]!==!1&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(\"\"),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(\":visible\").focus().trigger(\"focusin\")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find(\"input, select, textarea, [contenteditable]\").not(\":submit, :reset, :image, :disabled\").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr(\"name\");return!d&&b.settings.debug&&window.console&&console.error(\"%o has no name assigned\",this),this.hasAttribute(\"contenteditable\")&&(this.form=a(this).closest(\"form\")[0],this.name=d),!(d in c||!b.objectLength(a(this).rules()))&&(c[d]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(\" \").join(\".\");return a(this.settings.errorElement+\".\"+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type;return\"radio\"===f||\"checkbox\"===f?this.findByName(b.name).filter(\":checked\").val():\"number\"===f&&\"undefined\"!=typeof b.validity?b.validity.badInput?\"NaN\":e.val():(c=b.hasAttribute(\"contenteditable\")?e.text():e.val(),\"file\"===f?\"C:\\\\fakepath\\\\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf(\"/\"),d>=0?c.substr(d+1):(d=c.lastIndexOf(\"\\\\\"),d>=0?c.substr(d+1):c)):\"string\"==typeof c?c.replace(/\\r/g,\"\"):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f,g=a(b).rules(),h=a.map(g,function(a,b){return b}).length,i=!1,j=this.elementValue(b);if(\"function\"==typeof g.normalizer?f=g.normalizer:\"function\"==typeof this.settings.normalizer&&(f=this.settings.normalizer),f){if(j=f.call(b,j),\"string\"!=typeof j)throw new TypeError(\"The normalizer should return a string value.\");delete g.normalizer}for(d in g){e={method:d,parameters:g[d]};try{if(c=a.validator.methods[d].call(this,j,b,e.parameters),\"dependency-mismatch\"===c&&1===h){i=!0;continue}if(i=!1,\"pending\"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(k){throw this.settings.debug&&window.console&&console.log(\"Exception occurred when checking element \"+b.id+\", check the '\"+e.method+\"' method.\",k),k instanceof TypeError&&(k.message+=\".  Exception occurred when checking element \"+b.id+\", check the '\"+e.method+\"' method.\"),k}}if(!i)return this.objectLength(g)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data(\"msg\"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data(\"msg\")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){\"string\"==typeof c&&(c={method:c});var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],\"<strong>Warning: No message defined for \"+b.name+\"</strong>\"),e=/\\$?\\{(\\d+)\\}/g;return\"function\"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,\"{$1}\"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr(\"aria-describedby\");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a(\"<\"+this.settings.errorElement+\">\").attr(\"id\",i+\"-error\").addClass(this.settings.errorClass).html(c||\"\"),d=h,this.settings.wrapper&&(d=h.hide().show().wrap(\"<\"+this.settings.wrapper+\"/>\").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,a(b)):d.insertAfter(b),h.is(\"label\")?h.attr(\"for\",i):0===h.parents(\"label[for='\"+this.escapeCssMeta(i)+\"']\").length&&(f=h.attr(\"id\"),j?j.match(new RegExp(\"\\\\b\"+this.escapeCssMeta(f)+\"\\\\b\"))||(j+=\" \"+f):j=f,a(b).attr(\"aria-describedby\",j),e=this.groups[b.name],e&&(g=this,a.each(g.groups,function(b,c){c===e&&a(\"[name='\"+g.escapeCssMeta(b)+\"']\",g.currentForm).attr(\"aria-describedby\",h.attr(\"id\"))})))),!c&&this.settings.success&&(h.text(\"\"),\"string\"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr(\"aria-describedby\"),e=\"label[for='\"+c+\"'], label[for='\"+c+\"'] *\";return d&&(e=e+\", #\"+this.escapeCssMeta(d).replace(/\\s+/g,\", #\")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\\\!\"#$%&'()*+,.\\/:;<=>?@\\[\\]^`{|}~])/g,\"\\\\$1\")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find(\"[name='\"+this.escapeCssMeta(b)+\"']\")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case\"select\":return a(\"option:selected\",c).length;case\"input\":if(this.checkable(c))return this.findByName(c.name).filter(\":checked\").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{\"boolean\":function(a){return a},string:function(b,c){return!!a(b,c.form).length},\"function\":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&\"dependency-mismatch\"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.submitButton&&a(\"input:hidden[name='\"+this.submitButton.name+\"']\",this.currentForm).remove(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler(\"invalid-form\",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return c=\"string\"==typeof c&&c||\"remote\",a.data(b,\"previousValue\")||a.data(b,\"previousValue\",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(\".validate\").removeData(\"validator\").find(\".validate-equalTo-blur\").off(\".validate-equalTo\").removeClass(\"validate-equalTo-blur\")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr(\"class\");return d&&a.each(d.split(\" \"),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&\"range\"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute(\"type\");for(c in a.validator.methods)\"required\"===c?(d=b.getAttribute(c),\"\"===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute(\"type\");for(c in a.validator.methods)d=f.data(\"rule\"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,\"validator\");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case\"string\":f=!!a(e.depends,c.form).length;break;case\"function\":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:(a.data(c.form,\"validator\").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&\"normalizer\"!==d?e(c):e}),a.each([\"minlength\",\"maxlength\"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each([\"rangelength\",\"range\"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:\"string\"==typeof b[this]&&(c=b[this].replace(/[\\[\\]]/g,\"\").split(/[\\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if(\"string\"==typeof b){var c={};a.each(b.split(/\\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return\"dependency-mismatch\";if(\"select\"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[\\/?#]\\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e,f=a(c).attr(\"type\"),g=\"Step attribute on input type \"+f+\" is not supported.\",h=[\"text\",\"number\",\"range\"],i=new RegExp(\"\\\\b\"+f+\"\\\\b\"),j=f&&!i.test(h.join()),k=function(a){var b=(\"\"+a).match(/(?:\\.(\\d+))?$/);return b&&b[1]?b[1].length:0},l=function(a){return Math.round(a*Math.pow(10,e))},m=!0;if(j)throw new Error(g);return e=k(d),(k(b)>e||l(b)%l(d)!==0)&&(m=!1),this.optional(c)||m},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(\".validate-equalTo-blur\").length&&e.addClass(\"validate-equalTo-blur\").on(\"blur.validate-equalTo\",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return\"dependency-mismatch\";e=\"string\"==typeof e&&e||\"remote\";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d=\"string\"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:\"abort\",port:\"validate\"+c.name,dataType:\"json\",data:g,context:f.currentForm,success:function(a){var d,g,h,j=a===!0||\"true\"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),\"pending\")}}});var b,c={};return a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;\"abort\"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=(\"mode\"in d?d:a.ajaxSettings).mode,f=(\"port\"in d?d:a.ajaxSettings).port;return\"abort\"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a});\n\n/**\n * Tweetie: A simple Twitter feed plugin\n * Author: Sonny T. <hi@sonnyt.com>, sonnyt.com \n */\n/* \nadded action:settings.action variable to the original version (WordPress)   \nreplace http: on avatar image with window.location.protocol\n*/\n(function ($) {  \n    'use strict';\n    \n\n    $.fn.twittie = function () {\n        var options = (arguments[0] instanceof Object) ? arguments[0] : {},\n            callback = (typeof arguments[0] === 'function') ? arguments[0] : arguments[1]; \n\n        // Default settings\n        var settings = $.extend({\n            'username': null,\n            'list': null,\n            'hashtag': null,\n            'count': 10,\n            'hideReplies': false,\n            'dateFormat': '%b/%d/%Y',\n            'template': '{{date}} - {{tweet}}',\n            'apiPath' : 'api/tweet.php',\n            'loadingText': 'Loading...'\n        }, options);\n\n        \n\n        if (settings.list && !settings.username) {\n            $.error('If you want to fetch tweets from a list, you must define the username of the list owner.');\n        }\n\n        /**\n         * Applies @reply, #hash and http links\n         * @param  {String} tweet A single tweet\n         * @return {String}       Fixed tweet\n         *\n         * Thanks to @Wachem enhanced linking.\n         */\n        var linking = function (tweet) {\n            var twit = tweet.replace(/(https?:\\/\\/([-\\w\\.]+)+(:\\d+)?(\\/([\\w\\/_\\.]*(\\?\\S+)?)?)?)/ig,'<a href=\"$1\" target=\"_blank\" title=\"Visit this link\">$1</a>')\n                 .replace(/#([a-zA-Z0-9_]+)/g,'<a href=\"https://twitter.com/search?q=%23$1&amp;src=hash\" target=\"_blank\" title=\"Search for #$1\">#$1</a>')\n                 .replace(/@([a-zA-Z0-9_]+)/g,'<a href=\"https://twitter.com/$1\" target=\"_blank\" title=\"$1 on Twitter\">@$1</a>');\n\n            return twit;\n        };\n\n        /**\n         * Formating a date\n         * @param  {String} twt_date Twitter date\n         * @return {String}          Formatted date\n         */\n        var dating = function (twt_date) {\n            // fix for IE\n            var time = twt_date.split(' ');\n            twt_date = new Date(Date.parse(time[1] + ' ' + time[2] + ', ' + time[5] + ' ' + time[3] + ' UTC'));\n\n            var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n            var _date = {\n                '%d': twt_date.getDate(),\n                '%m': twt_date.getMonth()+1,\n                '%b': months[twt_date.getMonth()].substr(0, 3),\n                '%B': months[twt_date.getMonth()],\n                '%y': String(twt_date.getFullYear()).slice(-2),\n                '%Y': twt_date.getFullYear()\n            };\n\n            var date = settings.dateFormat;\n            var format = settings.dateFormat.match(/%[dmbByY]/g);\n\n            for (var i = 0, len = format.length; i < len; i++) {\n                date = date.replace(format[i], _date[format[i]]);\n            }\n\n            return date;\n        };\n\n        /**\n         * Templating a tweet using '{{ }}' braces\n         * @param  {Object} data Tweet details are passed\n         * @return {String}      Templated string\n         */\n        var templating = function (data) {\n            var temp = settings.template;\n            var temp_variables = ['id','id_str','date', 'tweet', 'avatar', 'url', 'retweeted', 'screen_name', 'user_name'];\n\n            for (var i = 0, len = temp_variables.length; i < len; i++) {\n                temp = temp.replace(new RegExp('{{' + temp_variables[i] + '}}', 'gi'), data[temp_variables[i]]);\n            }\n\n            return temp;\n        };\n\n        // Set loading\n       \tthis.html('<span>'+settings.loadingText+'</span>');\n\n        var that = this;\n\n        // Fetch tweets\n        $.getJSON(settings.apiPath, { action:settings.action , username: settings.username, list: settings.list, hashtag: settings.hashtag, count: settings.count, exclude_replies: settings.hideReplies }, function (twt) {\n            \n            if(!twt) return;\n            that.find('span').fadeOut('fast', function () {\n                that.html('<ul></ul>');\n\n                for (var i = 0; i < settings.count; i++) {\n                    var tweet = false;\n                    if(twt[i]) {\n                        tweet = twt[i];\n                    } else if(twt.statuses !== undefined && twt.statuses[i]) {\n                        tweet = twt.statuses[i];\n                    } else {\n                        break;\n                    }\n\n                    var temp_data = {\n                        id: tweet.id,\n                        id_str: tweet.id_str,\n                        user_name: tweet.user.name,\n                        date: dating(tweet.created_at),\n                        tweet: (tweet.retweeted) ? linking('RT @'+ tweet.user.screen_name +': '+ tweet.retweeted_status.text) : linking(tweet.text),\n                        avatar: '<img src=\"'+ tweet.user.profile_image_url.replace('http:',window.location.protocol) +'\" />',\n                        url: 'https://twitter.com/' + tweet.user.screen_name + '/status/' + tweet.id_str,\n                        retweeted: tweet.retweeted,\n                        screen_name: linking('@'+ tweet.user.screen_name)\n                    };\n\n                    that.find('ul').append('<li>' + templating(temp_data) + '</li>');\n                }\n\n                if (typeof callback === 'function') { callback(); }\n            });\n        });\n    };\n\n})(jQuery);\n/* List Ticker by Alex Fish \n// www.alexefish.com\n//\n// options:\n//\n// effect: fade/slide\n// speed: milliseconds\n*/\n\n(function($){\n  \"use strict\";\n  $.fn.list_ticker = function(options){\n    \n    var defaults = {\n      speed:4000,\n\t  effect:'slide'\n    };\n    \n    var options = $.extend(defaults, options);\n    \n    return this.each(function(){\n      \n      var obj = $(this);\n      var list = obj.children();\n      list.not(':first').hide();\n      \n      setInterval(function(){\n        \n        list = obj.children();\n        list.not(':first').hide();\n        \n        var first_li = list.eq(0)\n        var second_li = list.eq(1)\n\t\t\n\t\tif(options.effect == 'slide'){\n\t\t\tfirst_li.slideUp();\n\t\t\tsecond_li.slideDown(function(){\n\t\t\t\tfirst_li.remove().appendTo(obj);\n\t\t\t});\n\t\t} else if(options.effect == 'fade'){\n\t\t\tfirst_li.fadeOut(function(){\n\t\t\t\tsecond_li.fadeIn();\n\t\t\t\tfirst_li.remove().appendTo(obj);\n\t\t\t});\n\t\t}\n      }, options.speed)\n    });\n  };\n})(jQuery);\n\n(function($) {\n\n    $.fn.niceSelect = function(method) {\n\n        // Methods\n        if (typeof method == 'string') {\n            if (method == 'update') {\n                this.each(function() {\n                    var $select = $(this);\n                    var $dropdown = $(this).next('.nice-select');\n                    var open = $dropdown.hasClass('open');\n\n                    if ($dropdown.length) {\n                        $dropdown.remove();\n                        create_nice_select($select);\n\n                        if (open) {\n                            $select.next().trigger('click');\n                        }\n                    }\n                });\n            } else if (method == 'destroy') {\n                this.each(function() {\n                    var $select = $(this);\n                    var $dropdown = $(this).next('.nice-select');\n\n                    if ($dropdown.length) {\n                        $dropdown.remove();\n                        $select.css('display', '');\n                    }\n                });\n                if ($('.nice-select').length == 0) {\n                    $(document).off('.nice_select');\n                }\n            } else {\n                \n            }\n            return this;\n        }\n\n        // Hide native select\n        this.hide();\n\n        // Create custom markup\n        this.each(function() {\n            var $select = $(this);\n\n            if (!$select.next().hasClass('nice-select')) {\n                create_nice_select($select);\n            }\n        });\n\n        function create_nice_select($select) {\n            $select.after($('<div></div>')\n                .addClass('nice-select')\n                .addClass($select.attr('class') || '')\n                .addClass($select.attr('disabled') ? 'disabled' : '')\n                .addClass($select.attr('multiple') ? 'has-multiple' : '')\n                .attr('tabindex', $select.attr('disabled') ? null : '0')\n                .html($select.attr('multiple') ? '<span class=\"multiple-options\"></span><div class=\"nice-select-search-box\"><input type=\"text\" class=\"nice-select-search\" placeholder=\"'+_townhub_add_ons.search+'\"/></div><ul class=\"list\"></ul>' : '<span class=\"current\"></span><div class=\"nice-select-search-box\"><input type=\"text\" class=\"nice-select-search\" placeholder=\"'+_townhub_add_ons.search+'\"/></div><ul class=\"list\"></ul>')\n            );\n\n            var $dropdown = $select.next();\n            var $options = $select.find('option');\n            if ($select.attr('multiple')) {\n                var $selected = $select.find('option:selected');\n                var $selected_html = '';\n                $selected.each(function() {\n                    $selected_option = $(this);\n                    $selected_text = $selected_option.data('display') ||  $selected_option.text();\n                    $selected_html += '<span class=\"current\">' + $selected_text + '</span>';\n                });\n                $select_placeholder = $select.data('placeholder') || $select.attr('placeholder');\n                $select_placeholder = $select_placeholder == '' ? 'Select' : $select_placeholder;\n                $selected_html = $selected_html == '' ? $select_placeholder : $selected_html;\n                $dropdown.find('.multiple-options').html($selected_html);\n            } else {\n                var $selected = $select.find('option:selected');\n                $dropdown.find('.current').html($selected.data('display') ||  $selected.text());\n            }\n\n\n            $options.each(function(i) {\n                var $option = $(this);\n                var display = $option.data('display');\n\n                $dropdown.find('ul').append($('<li></li>')\n                    .attr('data-value', $option.val())\n                    .attr('data-display', (display || null))\n                    .addClass('option' +\n                        ($option.is(':selected') ? ' selected' : '') +\n                        ($option.is(':disabled') ? ' disabled' : ''))\n                    .html($option.text())\n                );\n            });\n        }\n\n        /* Event listeners */\n\n        // Unbind existing events in case that the plugin has been initialized before\n        $(document).off('.nice_select');\n\n        // Open/close\n        $(document).on('click.nice_select', '.nice-select', function(event) {\n            var $dropdown = $(this);\n\n            $('.nice-select').not($dropdown).removeClass('open');\n            $dropdown.toggleClass('open');\n\n            if ($dropdown.hasClass('open')) {\n                $dropdown.find('.option');\n                $dropdown.find('.nice-select-search').val('');\n                $dropdown.find('.nice-select-search').focus();\n                $dropdown.find('.focus').removeClass('focus');\n                $dropdown.find('.selected').addClass('focus');\n                $dropdown.find('ul li').show();\n            } else {\n                $dropdown.focus();\n            }\n        });\n\n        $(document).on('click', '.nice-select-search-box', function(event) {\n            event.stopPropagation();\n            return false;\n        });\n\n\n        // Close when clicking outside\n        $(document).on('click.nice_select', function(event) {\n            if ($(event.target).closest('.nice-select').length === 0) {\n                $('.nice-select').removeClass('open').find('.option');\n            }\n        });\n\n        // Option click\n        $(document).on('click.nice_select', '.nice-select .option:not(.disabled)', function(event) {\n            var $option = $(this);\n            var $dropdown = $option.closest('.nice-select');\n            if ($dropdown.hasClass('has-multiple')) {\n                if ($option.hasClass('selected')) {\n                    $option.removeClass('selected');\n                } else {\n                    $option.addClass('selected');\n                }\n                $selected_html = '';\n                $selected_values = [];\n                $dropdown.find('.selected').each(function() {\n                    $selected_option = $(this);\n                    var text = $selected_option.data('display') ||  $selected_option.text()\n                    $selected_html += '<span class=\"current\">' + text + '</span>';\n                    $selected_values.push($selected_option.data('value'));\n                });\n                $select_placeholder = $dropdown.prev('select').data('placeholder') || $dropdown.prev('select').attr('placeholder');\n                $select_placeholder = $select_placeholder == '' ? 'Select' : $select_placeholder;\n                $selected_html = $selected_html == '' ? $select_placeholder : $selected_html;\n                $dropdown.find('.multiple-options').html($selected_html);\n                $dropdown.prev('select').val($selected_values).trigger('change');\n            } else {\n                $dropdown.find('.selected').removeClass('selected');\n                $option.addClass('selected');\n                var text = $option.data('display') || $option.text();\n                $dropdown.find('.current').text(text);\n                $dropdown.prev('select').val($option.data('value')).trigger('change');\n            }\n        });\n\n        // Keyboard events\n        $(document).on('keydown.nice_select', '.nice-select', function(event) {\n            var $dropdown = $(this);\n            var $focused_option = $($dropdown.find('.focus') || $dropdown.find('.list .option.selected'));\n\n            // Space or Enter\n            if (event.keyCode == 32 || event.keyCode == 13) {\n                if ($dropdown.hasClass('open')) {\n                    $focused_option.trigger('click');\n                } else {\n                    $dropdown.trigger('click');\n                }\n                return false;\n                // Down\n            } else if (event.keyCode == 40) {\n                if (!$dropdown.hasClass('open')) {\n                    $dropdown.trigger('click');\n                } else {\n                    var $next = $focused_option.nextAll('.option:not(.disabled)').first();\n                    if ($next.length > 0) {\n                        $dropdown.find('.focus').removeClass('focus');\n                        $next.addClass('focus');\n                    }\n                }\n                return false;\n                // Up\n            } else if (event.keyCode == 38) {\n                if (!$dropdown.hasClass('open')) {\n                    $dropdown.trigger('click');\n                } else {\n                    var $prev = $focused_option.prevAll('.option:not(.disabled)').first();\n                    if ($prev.length > 0) {\n                        $dropdown.find('.focus').removeClass('focus');\n                        $prev.addClass('focus');\n                    }\n                }\n                return false;\n                // Esc\n            } else if (event.keyCode == 27) {\n                if ($dropdown.hasClass('open')) {\n                    $dropdown.trigger('click');\n                }\n                // Tab\n            } else if (event.keyCode == 9) {\n                if ($dropdown.hasClass('open')) {\n                    return false;\n                }\n            }\n        });\n        $(document).on('keydown.nice-select-search', '.nice-select', function() {\n            var $self = $(this);\n            var $text = $self.find('.nice-select-search').val();\n            var $options = $self.find('ul li');\n            if ($text == '')\n                $options.show();\n            else if ($self.hasClass('open')) {\n                $text = $text.toLowerCase();\n                var $matchReg = new RegExp($text);\n                if (0 < $options.length) {\n                    $options.each(function() {\n                        var $this = $(this);\n                        var $optionText = $this.text().toLowerCase();\n                        var $matchCheck = $matchReg.test($optionText);\n                        $matchCheck ? $this.show() : $this.hide();\n                    })\n                } else {\n                    $options.show();\n                }\n            }\n \n        });\n        // Detect CSS pointer-events support, for IE <= 10. From Modernizr.\n        var style = document.createElement('a').style;\n        style.cssText = 'pointer-events:auto';\n        if (style.pointerEvents !== 'auto') {\n            $('html').addClass('no-csspointerevents');\n        }\n\n        return this;\n\n    };\n\n}(jQuery));\n\n\n/**\n * downCount: Simple Countdown clock with offset\n * Author: Sonny T. <hi@sonnyt.com>, sonnyt.com\n * URL: https://github.com/sonnyt/downCount\n */\n\n(function ($) {\n\n    $.fn.downCount = function (options, callback) {\n        var settings = $.extend({\n                date: null,\n                offset: null\n            }, options);\n\n        // Throw error if date is not set\n        if (!settings.date) {\n            $.error('Date is not defined.');\n        }\n\n        // Throw error if date is set incorectly\n        if (!Date.parse(settings.date)) {\n            $.error('Incorrect date format, it should look like this, 12/24/2012 12:00:00.');\n        }\n\n        // Save container\n        var container = this;\n\n        /**\n         * Change client's local date to match offset timezone\n         * @return {Object} Fixed Date object.\n         */\n        var currentDate = function () {\n            // get client's current date\n            var date = new Date();\n\n            // turn date to utc\n            var utc = date.getTime() + (date.getTimezoneOffset() * 60000);\n\n            // set new Date object\n            var new_date = new Date(utc + (3600000*settings.offset))\n\n            return new_date;\n        };\n\n        /**\n         * Main downCount function that calculates everything\n         */\n        function countdown () {\n            var target_date = new Date(settings.date), // set target date\n                current_date = currentDate(); // get fixed current date\n\n            // difference of dates\n            var difference = target_date - current_date;\n\n            // if difference is negative than it's pass the target date\n            if (difference < 0) {\n                // stop timer\n                clearInterval(interval);\n\n                if (callback && typeof callback === 'function') callback();\n\n                return;\n            }\n\n            // basic math variables\n            var _second = 1000,\n                _minute = _second * 60,\n                _hour = _minute * 60,\n                _day = _hour * 24;\n\n            // calculate dates\n            var days = Math.floor(difference / _day),\n                hours = Math.floor((difference % _day) / _hour),\n                minutes = Math.floor((difference % _hour) / _minute),\n                seconds = Math.floor((difference % _minute) / _second);\n\n                // fix dates so that it will show two digets\n                days = (String(days).length >= 2) ? days : '0' + days;\n                hours = (String(hours).length >= 2) ? hours : '0' + hours;\n                minutes = (String(minutes).length >= 2) ? minutes : '0' + minutes;\n                seconds = (String(seconds).length >= 2) ? seconds : '0' + seconds;\n\n            // based on the date change the refrence wording\n            var ref_days = (days === 1) ? 'day' : 'days',\n                ref_hours = (hours === 1) ? 'hour' : 'hours',\n                ref_minutes = (minutes === 1) ? 'minute' : 'minutes',\n                ref_seconds = (seconds === 1) ? 'second' : 'seconds';\n\n            // set to DOM\n            container.find('.days').text(days);\n            container.find('.hours').text(hours);\n            container.find('.minutes').text(minutes);\n            container.find('.seconds').text(seconds);\n\n            container.find('.days_ref').text(ref_days);\n            container.find('.hours_ref').text(ref_hours);\n            container.find('.minutes_ref').text(ref_minutes);\n            container.find('.seconds_ref').text(ref_seconds);\n        };\n        \n        // start\n        var interval = setInterval(countdown, 1000);\n    };\n\n})(jQuery);\n\n\n/*\n * YoutubeBackground - A wrapper for the Youtube API - Great for fullscreen background videos or just regular videos.\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n *\n * Version:  1.0.5\n *\n */\n\n// Chain of Responsibility pattern. Creates base class that can be overridden.\nif (typeof Object.create !== \"function\") {\n  Object.create = function(obj) {\n    function F() {}\n    F.prototype = obj;\n    return new F();\n  };\n}\n\n(function($, window, document) {\n  var\n    loadAPI = function loadAPI(callback) {\n\n      // Load Youtube API\n      var tag = document.createElement('script'),\n      head = document.getElementsByTagName('head')[0];\n      \n      if(window.location.origin == 'file://') {\n        tag.src = 'http://www.youtube.com/iframe_api';\n      } else {\n        tag.src = '//www.youtube.com/iframe_api';\n      }\n      \n      head.appendChild(tag);\n\n      // Clean up Tags.\n      head = null;\n      tag = null;\n\n      iframeIsReady(callback);\n    },\n    iframeIsReady = function iframeIsReady(callback) {\n      // Listen for Gobal YT player callback\n      if (typeof YT === 'undefined' && typeof window.loadingPlayer === 'undefined') {\n        // Prevents Ready Event from being called twice\n        window.loadingPlayer = true;\n\n        \n        // Creates deferred so, other players know when to wait.\n        window.dfd = $.Deferred();\n        window.onYouTubeIframeAPIReady = function() {\n          window.onYouTubeIframeAPIReady = null;\n          window.dfd.resolve( \"done\" );\n          callback();\n        };\n      } else if (typeof YT === 'object')  {\n        callback();\n      } else {\n        window.dfd.done(function( name ) {\n          callback();\n        });\n      }\n    };\n\n  // YTPlayer Object\n  var YTPlayer = {\n    player: null,\n\n    // Defaults\n    defaults: {\n      ratio: 16 / 9,\n      videoId: 'LSmgKRx5pBo',\n      mute: true,\n      repeat: true,\n      width: $(window).width(),\n      playButtonClass: 'YTPlayer-play',\n      pauseButtonClass: 'YTPlayer-pause',\n      muteButtonClass: 'YTPlayer-mute',\n      volumeUpClass: 'YTPlayer-volume-up',\n      volumeDownClass: 'YTPlayer-volume-down',\n      start: 0,\n      pauseOnScroll: false,\n      fitToBackground: true,\n      playerVars: {\n        iv_load_policy: 3,\n        modestbranding: 1,\n        autoplay: 1,\n        controls: 0,\n        showinfo: 0,\n        wmode: 'opaque',\n        branding: 0,\n        autohide: 0\n      },\n      events: null\n    },\n\n    /**\n     * @function init\n     * Intializes YTPlayer object\n     */\n    init: function init(node, userOptions) {\n      var self = this;\n\n      self.userOptions = userOptions;\n\n      self.$body = $('body'),\n      self.$node = $(node),\n      self.$window = $(window);\n\n      // Setup event defaults with the reference to this\n      self.defaults.events = {\n        'onReady': function(e) {\n          self.onPlayerReady(e);\n\n          // setup up pause on scroll\n          if (self.options.pauseOnScroll) {\n            self.pauseOnScroll();\n          }\n\n          // Callback for when finished\n          if (typeof self.options.callback == 'function') {\n            self.options.callback.call(this);\n          }\n        },\n        'onStateChange': function(e) {\n          if (e.data === 1) {\n\n            self.$node.find('img').fadeOut(400);\n            self.$node.addClass('loaded');\n          } else if (e.data === 0 && self.options.repeat) { // video ended and repeat option is set true\n            self.player.seekTo(self.options.start);\n          }\n        }\n      }\n\n\n      self.options = $.extend(true, {}, self.defaults, self.userOptions);\n      self.options.height = Math.ceil(self.options.width / self.options.ratio);\n      self.ID = (new Date()).getTime();\n      self.holderID = 'YTPlayer-ID-' + self.ID;\n\n      if (self.options.fitToBackground) {\n        self.createBackgroundVideo();\n      } else {\n        self.createContainerVideo();\n      }\n      // Listen for Resize Event\n      self.$window.on('resize.YTplayer' + self.ID, function() {\n        self.resize(self);\n      });\n\n      loadAPI(self.onYouTubeIframeAPIReady.bind(self));\n\n      self.resize(self);\n\n      return self;\n    },\n\n\n    /**\n     * @function pauseOnScroll\n     * Adds window events to pause video on scroll.\n     */\n    pauseOnScroll: function pauseOnScroll() {\n      var self = this;\n      self.$window.on('scroll.YTplayer' + self.ID, function() {\n        var state = self.player.getPlayerState();\n        if (state === 1) {\n          self.player.pauseVideo();\n        }\n      });\n      self.$window.scrollStopped(function(){\n        var state = self.player.getPlayerState();\n        if (state === 2) {\n          self.player.playVideo();\n        }\n      });\n    },\n    /**\n     * @function createContainerVideo\n     * Adds HTML for video in a container\n     */\n    createContainerVideo: function createContainerVideo() {\n      var self = this;\n\n      /*jshint multistr: true */\n      var $YTPlayerString = $('<div id=\"ytplayer-container' + self.ID + '\" >\\\n                                    <div id=\"' + self.holderID + '\" class=\"ytplayer-player-inline\"></div> \\\n                                    </div> \\\n                                    <div id=\"ytplayer-shield\" class=\"ytplayer-shield\"></div>');\n\n      self.$node.append($YTPlayerString);\n      self.$YTPlayerString = $YTPlayerString;\n      $YTPlayerString = null;\n    },\n\n    /**\n     * @function createBackgroundVideo\n     * Adds HTML for video background\n     */\n    createBackgroundVideo: function createBackgroundVideo() {\n      /*jshint multistr: true */\n      var self = this,\n        $YTPlayerString = $('<div id=\"ytplayer-container' + self.ID + '\" class=\"ytplayer-container background\">\\\n                                    <div id=\"' + self.holderID + '\" class=\"ytplayer-player\"></div>\\\n                                    </div>\\\n                                    <div id=\"ytplayer-shield\" class=\"ytplayer-shield\"></div>');\n\n      self.$node.append($YTPlayerString);\n      self.$YTPlayerString = $YTPlayerString;\n      $YTPlayerString = null;\n    },\n\n    /**\n     * @function resize\n     * Resize event to change video size\n     */\n    resize: function resize(self) {\n      //var self = this;\n      var container = $(window);\n\n      if (!self.options.fitToBackground) {\n        container = self.$node;\n      }\n\n      var width = container.width(),\n        pWidth, // player width, to be defined\n        height = container.height(),\n        pHeight, // player height, tbd\n        $YTPlayerPlayer = $('#' + self.holderID);\n\n      // when screen aspect ratio differs from video, video must center and underlay one dimension\n      if (width / self.options.ratio < height) {\n        pWidth = Math.ceil(height * self.options.ratio); // get new player width\n        $YTPlayerPlayer.width(pWidth).height(height).css({\n          left: (width - pWidth) / 2,\n          top: 0\n        }); // player width is greater, offset left; reset top\n      } else { // new video width < window width (gap to right)\n        pHeight = Math.ceil(width / self.options.ratio); // get new player height\n        $YTPlayerPlayer.width(width).height(pHeight).css({\n          left: 0,\n          top: (height - pHeight) / 2\n        }); // player height is greater, offset top; reset left\n      }\n\n      $YTPlayerPlayer = null;\n      container = null;\n    },\n\n    /**\n     * @function onYouTubeIframeAPIReady\n     * @ params {object} YTPlayer object for access to options\n     * Youtube API calls this function when the player is ready.\n     */\n    onYouTubeIframeAPIReady: function onYouTubeIframeAPIReady() {\n      var self = this;\n      self.player = new window.YT.Player(self.holderID, self.options);  \n    },\n\n    /**\n     * @function onPlayerReady\n     * @ params {event} window event from youtube player\n     */\n    onPlayerReady: function onPlayerReady(e) {\n      if (this.options.mute) {\n        e.target.mute();\n      }\n      e.target.playVideo();\n    },\n\n    /**\n     * @function getPlayer\n     * returns youtube player\n     */\n    getPlayer: function getPlayer() {\n      return this.player;\n    },\n\n    /**\n     * @function destroy\n     * destroys all!\n     */\n    destroy: function destroy() {\n      var self = this;\n\n      self.$node\n        .removeData('yt-init')\n        .removeData('ytPlayer')\n        .removeClass('loaded');\n\n      self.$YTPlayerString.remove();\n\n      $(window).off('resize.YTplayer' + self.ID);\n      $(window).off('scroll.YTplayer' + self.ID);\n      self.$body = null;\n      self.$node = null;\n      self.$YTPlayerString = null;\n      self.player.destroy();\n      self.player = null;\n    }\n  };\n\n  // Scroll Stopped event.\n  $.fn.scrollStopped = function(callback) {\n    var $this = $(this), self = this;\n    $this.scroll(function(){\n      if ($this.data('scrollTimeout')) {\n        clearTimeout($this.data('scrollTimeout'));\n      }\n      $this.data('scrollTimeout', setTimeout(callback,250,self));\n    });\n  };\n\n  // Create plugin\n  $.fn.YTPlayer = function(options) {\n\n    return this.each(function() {\n      var el = this;\n\n      $(el).data(\"yt-init\", true);\n      var player = Object.create(YTPlayer);\n      player.init(el, options);\n      $.data(el, \"ytPlayer\", player);\n    });\n  };\n\n})(jQuery, window, document);\n\n /**\n * jQuery.share - social media sharing plugin\n * ---\n * @author Carol Skelly (http://in1.com)\n * @version 1.0\n * @license MIT license (http://opensource.org/licenses/mit-license.php)\n * ---\n */\n\n! function(t, e) {\n    var s = e.document;\n    t.fn.share = function(i) {\n        var r = {\n                init: function(i) {\n                    this.share.settings = t.extend({}, this.share.defaults, i);\n                    var r = (this.share.settings, this.share.settings.networks),\n                        o = this.share.settings.theme,\n                        a = this.share.settings.orientation,\n                        u = this.share.settings.affix,\n                        h = this.share.settings.margin,\n                        l = this.share.settings.title || t(s).attr(\"title\"),\n                        c = this.share.settings.urlToShare || t(location).attr(\"href\"),\n                        p = \"\";\n                    return t.each(t(s).find('meta[name=\"description\"]'), function(e, s) {\n                        p = t(s).attr(\"content\")\n                    }), this.each(function() {\n                        var s, i = t(this),\n                            m = i.attr(\"id\"),\n                            d = encodeURIComponent(c),\n                            f = l.replace(\"|\", \"\"),\n                            g = p.substring(0, 250);\n                        r.forEach(function(e) {\n                            if(typeof n.networkDefs[e] != 'undefined') s = n.networkDefs[e].url, s = s.replace(\"|u|\", d).replace(\"|t|\", f).replace(\"|d|\", g).replace(\"|140|\", f.substring(0, 130)), t(\"<a href='\" + s + \"' title='Share this page on \" + e + \"' class='pop share-\" + o + \" share-\" + o + \"-\" + e + \"'></a>\").appendTo(i)\n                        }), t(\"#\" + m + \".share-\" + o).css(\"margin\", h), \"horizontal\" != a ? t(\"#\" + m + \" a.share-\" + o).css(\"display\", \"block\") : t(\"#\" + m + \" a.share-\" + o).css(\"display\", \"inline-block\"), \"undefined\" != typeof u && (i.addClass(\"share-affix\"), -1 != u.indexOf(\"right\") ? (i.css(\"left\", \"auto\"), i.css(\"right\", \"0px\"), -1 != u.indexOf(\"center\") && i.css(\"top\", \"40%\")) : -1 != u.indexOf(\"left center\") && i.css(\"top\", \"40%\"), -1 != u.indexOf(\"bottom\") && (i.css(\"bottom\", \"0px\"), i.css(\"top\", \"auto\"), -1 != u.indexOf(\"center\") && i.css(\"left\", \"40%\"))), t(\".pop\").click(function() {\n                            return e.open(t(this).attr(\"href\"), \"t\", \"toolbar=0,resizable=1,status=0,width=640,height=528\"), !1\n                        })\n                    })\n                }\n            },\n            n = {\n                networkDefs: {\n                    facebook: {\n                        url: \"http://www.facebook.com/share.php?u=|u|\"\n                    },\n                    twitter: {\n                        url: \"https://twitter.com/share?via=in1.com&text=|140|\"\n                    },\n                    linkedin: {\n                        url: \"http://www.linkedin.com/shareArticle?mini=true&url=|u|&title=|t|&summary=|d|&source=in1.com\"\n                    },\n                    in1: {\n                        url: \"http://www.in1.com/cast?u=|u|\",\n                        w: \"490\",\n                        h: \"529\"\n                    },\n                    tumblr: {\n                        url: \"http://www.tumblr.com/share?v=3&u=|u|\"\n                    },\n                    digg: {\n                        url: \"http://digg.com/submit?url=|u|&title=|t|\"\n                    },\n                    googleplus: {\n                        url: \"https://plusone.google.com/_/+1/confirm?hl=en&url=|u|\"\n                    },\n                    reddit: {\n                        url: \"http://reddit.com/submit?url=|u|\"\n                    },\n                    pinterest: {\n                        url: \"http://pinterest.com/pin/create/button/?url=|u|&media=&description=|d|\"\n                    },\n                    posterous: {\n                        url: \"http://posterous.com/share?linkto=|u|&title=|t|\"\n                    },\n                    stumbleupon: {\n                        url: \"http://www.stumbleupon.com/submit?url=|u|&title=|t|\"\n                    },\n                    email: {\n                        url: \"mailto:?subject=|t|\"\n                    }\n                }\n            };\n        return r[i] ? r[i].apply(this, Array.prototype.slice.call(arguments, 1)) : \"object\" != typeof i && i ? void t.error('Method \"' + i + '\" does not exist in social plugin') : r.init.apply(this, arguments)\n    }, t.fn.share.defaults = {\n        networks: [\"in1\", \"facebook\", \"twitter\", \"linkedin\"],\n        theme: \"icon\",\n        autoShow: !0,\n        margin: \"3px\",\n        orientation: \"horizontal\",\n        useIn1: !0\n    }, t.fn.share.settings = {}\n}(jQuery, window);\n\n// calendar\n// dateDropper\n(function($) {\n    var\n        // CSS EVENT DETECT\n        csse = {\n            t : 'transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd',\n            a : 'webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend'\n        },\n        // I18N\n        i18n = {\n            'en' : {\n                name : 'English',\n                gregorian : false,\n                months : {\n                    short: [\n                        'Jan',\n                        'Feb',\n                        'Mar',\n                        'Apr',\n                        'May',\n                        'June',\n                        'July',\n                        'Aug',\n                        'Sept',\n                        'Oct',\n                        'Nov',\n                        'Dec'\n                    ],\n                    full : [\n                        'January',\n                        'February',\n                        'March',\n                        'April',\n                        'May',\n                        'June',\n                        'July',\n                        'August',\n                        'September',\n                        'October',\n                        'November',\n                        'December'\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'S',\n                        'M',\n                        'T',\n                        'W',\n                        'T',\n                        'F',\n                        'S'\n                    ],\n                    full : [\n                        'Sunday',\n                        'Monday',\n                        'Tuesday',\n                        'Wednesday',\n                        'Thursday',\n                        'Friday',\n                        'Saturday'\n                    ]\n                }\n            },\n            'ka' : {\n                name : 'Georgian',\n                gregorian : false,\n                months : {\n                    short: [\n                        'იან',\n                        'თებ',\n                        'მარტ',\n                        'აპრ',\n                        'მაი',\n                        'ივნ',\n                        'ივლ',\n                        'აგვ',\n                        'სექტ',\n                        'ოქტ',\n                        'ნოემბ',\n                        'დეკ'\n                    ],\n                    full : [\n                        'იანვარი',\n                        'თებერვალი',\n                        'მარტი',\n                        'აპრილი',\n                        'მაისი',\n                        'ივნისი',\n                        'ივლისი',\n                        'აგვისტო',\n                        'სექტემბერი',\n                        'ოქტომბერი',\n                        'ნოემბერი',\n                        'დეკემბერი'\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'კვ',\n                        'ორ',\n                        'სამ',\n                        'ოთხ',\n                        'ხუთ',\n                        'პარ',\n                        'შაბ'\n                    ],\n                    full : [\n                        'კვირა',\n                        'ორშაბათი',\n                        'სამშაბათი',\n                        'ოთხშაბათი',\n                        'ხუთშაბათი',\n                        'პარასკევი',\n                        'შაბათი'\n                    ]\n                }\n            },//\n            'it' : {\n                name : 'Italiano',\n                gregorian : true,\n                months : {\n                    short: [\n                        'Gen',\n                        'Feb',\n                        'Mar',\n                        'Apr',\n                        'Mag',\n                        'Giu',\n                        'Lug',\n                        'Ago',\n                        'Set',\n                        'Ott',\n                        'Nov',\n                        'Dic'\n                    ],\n                    full : [\n                        'Gennaio',\n                        'Febbraio',\n                        'Marzo',\n                        'Aprile',\n                        'Maggio',\n                        'Giugno',\n                        'Luglio',\n                        'Agosto',\n                        'Settembre',\n                        'Ottobre',\n                        'Novembre',\n                        'Dicembre'\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'D',\n                        'L',\n                        'M',\n                        'M',\n                        'G',\n                        'V',\n                        'S'\n                    ],\n                    full : [\n                        'Domenica',\n                        'Lunedì',\n                        'Martedì',\n                        'Mercoledì',\n                        'Giovedì',\n                        'Venerdì',\n                        'Sabato'\n                    ]\n                }\n            },\n            'fr' : {\n                name : 'Français',\n                gregorian : true,\n                months : {\n                    short: [\n                        'Jan',\n                        'Fév',\n                        'Mar',\n                        'Avr',\n                        'Mai',\n                        'Jui',\n                        'Jui',\n                        'Aoû',\n                        'Sep',\n                        'Oct',\n                        'Nov',\n                        'Déc'\n                    ],\n                    full : [\n                        'Janvier',\n                        'Février',\n                        'Mars',\n                        'Avril',\n                        'Mai',\n                        'Juin',\n                        'Juillet',\n                        'Août',\n                        'Septembre',\n                        'Octobre',\n                        'Novembre',\n                        'Décembre'\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'D',\n                        'L',\n                        'M',\n                        'M',\n                        'J',\n                        'V',\n                        'S'\n                    ],\n                    full : [\n                        'Dimanche',\n                        'Lundi',\n                        'Mardi',\n                        'Mercredi',\n                        'Jeudi',\n                        'Vendredi',\n                        'Samedi'\n                    ]\n                }\n            },\n            'zh' : {\n                name : '中文',\n                gregorian : true,\n                months : {\n                    short: [\n                        '一月',\n                        '二月',\n                        '三月',\n                        '四月',\n                        '五月',\n                        '六月',\n                        '七月',\n                        '八月',\n                        '九月',\n                        '十月',\n                        '十一月',\n                        '十二月'\n                    ],\n                    full : [\n                        '一月',\n                        '二月',\n                        '三月',\n                        '四月',\n                        '五月',\n                        '六月',\n                        '七月',\n                        '八月',\n                        '九月',\n                        '十月',\n                        '十一月',\n                        '十二月'\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        '天',\n                        '一',\n                        '二',\n                        '三',\n                        '四',\n                        '五',\n                        '六'\n                    ],\n                    full : [\n                        '星期天',\n                        '星期一',\n                        '星期二',\n                        '星期三',\n                        '星期四',\n                        '星期五',\n                        '星期六'\n                    ]\n                }\n            },\n            'ar' : {\n                name : 'العَرَبِيَّة',\n                gregorian : false,\n                months : {\n                    short: [\n                        'جانفي',\n                        'فيفري',\n                        'مارس',\n                        'أفريل',\n                        'ماي',\n                        'جوان',\n                        'جويلية',\n                        'أوت',\n                        'سبتمبر',\n                        'أكتوبر',\n                        'نوفمبر',\n                        'ديسمبر'\n                    ],\n                    full : [\n                        'جانفي',\n                        'فيفري',\n                        'مارس',\n                        'أفريل',\n                        'ماي',\n                        'جوان',\n                        'جويلية',\n                        'أوت',\n                        'سبتمبر',\n                        'أكتوبر',\n                        'نوفمبر',\n                        'ديسمبر'\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'S',\n                        'M',\n                        'T',\n                        'W',\n                        'T',\n                        'F',\n                        'S'\n                    ],\n                    full : [\n                        'الأحد',\n                        'الإثنين',\n                        'الثلثاء',\n                        'الأربعاء',\n                        'الخميس',\n                        'الجمعة',\n                        'السبت'\n                    ]\n                }\n            },\n            'fa' : {\n                name : 'فارسی',\n                gregorian : false,\n                months : {\n                    short: [\n                        'ژانویه',\n                        'فووریه',\n                        'مارچ',\n                        'آپریل',\n                        'می',\n                        'جون',\n                        'جولای',\n                        'آگوست',\n                        'سپتامبر',\n                        'اکتبر',\n                        'نوامبر',\n                        'دسامبر'\n                    ],\n                    full : [\n                        'ژانویه',\n                        'فووریه',\n                        'مارچ',\n                        'آپریل',\n                        'می',\n                        'جون',\n                        'جولای',\n                        'آگوست',\n                        'سپتامبر',\n                        'اکتبر',\n                        'نوامبر',\n                        'دسامبر'\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'S',\n                        'M',\n                        'T',\n                        'W',\n                        'T',\n                        'F',\n                        'S'\n                    ],\n                    full : [\n                        'یکشنبه',\n                        'دوشنبه',\n                        'سه شنبه',\n                        'چهارشنبه',\n                        'پنج شنبه',\n                        'جمعه',\n                        'شنبه'\n                    ]\n                }\n            },\n            'hu' : {\n                name : 'Hungarian',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"jan\",\n                        \"feb\",\n                        \"már\",\n                        \"ápr\",\n                        \"máj\",\n                        \"jún\",\n                        \"júl\",\n                        \"aug\",\n                        \"sze\",\n                        \"okt\",\n                        \"nov\",\n                        \"dec\"\n                    ],\n                    full : [\n                        \"január\",\n                        \"február\",\n                        \"március\",\n                        \"április\",\n                        \"május\",\n                        \"június\",\n                        \"július\",\n                        \"augusztus\",\n                        \"szeptember\",\n                        \"október\",\n                        \"november\",\n                        \"december\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'v',\n                        'h',\n                        'k',\n                        's',\n                        'c',\n                        'p',\n                        's'\n                    ],\n                    full : [\n                        'vasárnap',\n                        'hétfő',\n                        'kedd',\n                        'szerda',\n                        'csütörtök',\n                        'péntek',\n                        'szombat'\n                    ]\n                }\n            },\n            'gr' : {\n                name : 'Ελληνικά',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"Ιαν\",\n                        \"Φεβ\",\n                        \"Μάρ\",\n                        \"Απρ\",\n                        \"Μάι\",\n                        \"Ιούν\",\n                        \"Ιούλ\",\n                        \"Αύγ\",\n                        \"Σεπ\",\n                        \"Οκτ\",\n                        \"Νοέ\",\n                        \"Δεκ\"\n                    ],\n                    full : [\n                        \"Ιανουάριος\",\n                        \"Φεβρουάριος\",\n                        \"Μάρτιος\",\n                        \"Απρίλιος\",\n                        \"Μάιος\",\n                        \"Ιούνιος\",\n                        \"Ιούλιος\",\n                        \"Αύγουστος\",\n                        \"Σεπτέμβριος\",\n                        \"Οκτώβριος\",\n                        \"Νοέμβριος\",\n                        \"Δεκέμβριος\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'Κ',\n                        'Δ',\n                        'Τ',\n                        'Τ',\n                        'Π',\n                        'Π',\n                        'Σ'\n                    ],\n                    full : [\n                        'Κυριακή',\n                        'Δευτέρα',\n                        'Τρίτη',\n                        'Τετάρτη',\n                        'Πέμπτη',\n                        'Παρασκευή',\n                        'Σάββατο'\n                    ]\n                }\n            },\n            'es' : {\n                name : 'Español',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"Ene\",\n                        \"Feb\",\n                        \"Mar\",\n                        \"Abr\",\n                        \"May\",\n                        \"Jun\",\n                        \"Jul\",\n                        \"Ago\",\n                        \"Sep\",\n                        \"Oct\",\n                        \"Nov\",\n                        \"Dic\"\n                    ],\n                    full : [\n                        \"Enero\",\n                        \"Febrero\",\n                        \"Marzo\",\n                        \"Abril\",\n                        \"Mayo\",\n                        \"Junio\",\n                        \"Julio\",\n                        \"Agosto\",\n                        \"Septiembre\",\n                        \"Octubre\",\n                        \"Noviembre\",\n                        \"Diciembre\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'D',\n                        'L',\n                        'M',\n                        'X',\n                        'J',\n                        'V',\n                        'S'\n                    ],\n                    full : [\n                        'Domingo',\n                        'Lunes',\n                        'Martes',\n                        'Miércoles',\n                        'Jueves',\n                        'Viernes',\n                        'Sábado'\n                    ]\n                }\n            },\n            'da' : {\n                name : 'Dansk',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"jan\",\n                        \"feb\",\n                        \"mar\",\n                        \"apr\",\n                        \"maj\",\n                        \"jun\",\n                        \"jul\",\n                        \"aug\",\n                        \"sep\",\n                        \"okt\",\n                        \"nov\",\n                        \"dec\"\n                    ],\n                    full : [\n                        \"januar\",\n                        \"februar\",\n                        \"marts\",\n                        \"april\",\n                        \"maj\",\n                        \"juni\",\n                        \"juli\",\n                        \"august\",\n                        \"september\",\n                        \"oktober\",\n                        \"november\",\n                        \"december\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        's',\n                        'm',\n                        't',\n                        'o',\n                        't',\n                        'f',\n                        'l'\n                    ],\n                    full : [\n                        'søndag',\n                        'mandag',\n                        'tirsdag',\n                        'onsdag',\n                        'torsdag',\n                        'fredag',\n                        'lørdag'\n                    ]\n                }\n            },\n            'de' : {\n                name : 'Deutsch',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"Jan\",\n                        \"Feb\",\n                        \"Mär\",\n                        \"Apr\",\n                        \"Mai\",\n                        \"Jun\",\n                        \"Jul\",\n                        \"Aug\",\n                        \"Sep\",\n                        \"Okt\",\n                        \"Nov\",\n                        \"Dez\"\n                    ],\n                    full : [\n                        \"Januar\",\n                        \"Februar\",\n                        \"März\",\n                        \"April\",\n                        \"Mai\",\n                        \"Juni\",\n                        \"Juli\",\n                        \"August\",\n                        \"September\",\n                        \"Oktober\",\n                        \"November\",\n                        \"Dezember\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'S',\n                        'M',\n                        'D',\n                        'M',\n                        'D',\n                        'F',\n                        'S'\n                    ],\n                    full : [\n                        'Sonntag',\n                        'Montag',\n                        'Dienstag',\n                        'Mittwoch',\n                        'Donnerstag',\n                        'Freitag',\n                        'Samstag'\n                    ]\n                }\n            },\n            'nl' : {\n                name : 'Nederlands',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"jan\",\n                        \"feb\",\n                        \"maa\",\n                        \"apr\",\n                        \"mei\",\n                        \"jun\",\n                        \"jul\",\n                        \"aug\",\n                        \"sep\",\n                        \"okt\",\n                        \"nov\",\n                        \"dec\"\n                    ],\n                    full : [\n                        \"januari\",\n                        \"februari\",\n                        \"maart\",\n                        \"april\",\n                        \"mei\",\n                        \"juni\",\n                        \"juli\",\n                        \"augustus\",\n                        \"september\",\n                        \"oktober\",\n                        \"november\",\n                        \"december\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'z',\n                        'm',\n                        'd',\n                        'w',\n                        'd',\n                        'v',\n                        'z'\n                    ],\n                    full : [\n                        'zondag',\n                        'maandag',\n                        'dinsdag',\n                        'woensdag',\n                        'donderdag',\n                        'vrijdag',\n                        'zaterdag'\n                    ]\n                }\n            },\n            'pl' : {\n                name : 'język polski',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"sty\",\n                        \"lut\",\n                        \"mar\",\n                        \"kwi\",\n                        \"maj\",\n                        \"cze\",\n                        \"lip\",\n                        \"sie\",\n                        \"wrz\",\n                        \"paź\",\n                        \"lis\",\n                        \"gru\"\n                    ],\n                    full : [\n                        \"styczeń\",\n                        \"luty\",\n                        \"marzec\",\n                        \"kwiecień\",\n                        \"maj\",\n                        \"czerwiec\",\n                        \"lipiec\",\n                        \"sierpień\",\n                        \"wrzesień\",\n                        \"październik\",\n                        \"listopad\",\n                        \"grudzień\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'n',\n                        'p',\n                        'w',\n                        'ś',\n                        'c',\n                        'p',\n                        's'\n                    ],\n                    full : [\n                        'niedziela',\n                        'poniedziałek',\n                        'wtorek',\n                        'środa',\n                        'czwartek',\n                        'piątek',\n                        'sobota'\n                    ]\n                }\n            },\n            'pt' : {\n                name : 'Português',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"Janeiro\",\n                        \"Fevereiro\",\n                        \"Março\",\n                        \"Abril\",\n                        \"Maio\",\n                        \"Junho\",\n                        \"Julho\",\n                        \"Agosto\",\n                        \"Setembro\",\n                        \"Outubro\",\n                        \"Novembro\",\n                        \"Dezembro\"\n                    ],\n                    full : [\n                        \"Janeiro\",\n                        \"Fevereiro\",\n                        \"Março\",\n                        \"Abril\",\n                        \"Maio\",\n                        \"Junho\",\n                        \"Julho\",\n                        \"Agosto\",\n                        \"Setembro\",\n                        \"Outubro\",\n                        \"Novembro\",\n                        \"Dezembro\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        \"D\",\n                        \"S\",\n                        \"T\",\n                        \"Q\",\n                        \"Q\",\n                        \"S\",\n                        \"S\"\n                    ],\n                    full : [\n                        \"Domingo\",\n                        \"Segunda\",\n                        \"Terça\",\n                        \"Quarta\",\n                        \"Quinta\",\n                        \"Sexta\",\n                        \"Sábado\"\n                    ]\n                }\n            },\n            'si' : {\n                name : 'Slovenščina',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"jan\",\n                        \"feb\",\n                        \"mar\",\n                        \"apr\",\n                        \"maj\",\n                        \"jun\",\n                        \"jul\",\n                        \"avg\",\n                        \"sep\",\n                        \"okt\",\n                        \"nov\",\n                        \"dec\"\n                    ],\n                    full : [\n                        \"januar\",\n                        \"februar\",\n                        \"marec\",\n                        \"april\",\n                        \"maj\",\n                        \"junij\",\n                        \"julij\",\n                        \"avgust\",\n                        \"september\",\n                        \"oktober\",\n                        \"november\",\n                        \"december\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'n',\n                        'p',\n                        't',\n                        's',\n                        'č',\n                        'p',\n                        's'\n                    ],\n                    full : [\n                        'nedelja',\n                        'ponedeljek',\n                        'torek',\n                        'sreda',\n                        'četrtek',\n                        'petek',\n                        'sobota'\n                    ]\n                }\n            },\n            'uk' : {\n                name : 'українська мова',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"січень\",\n                        \"лютий\",\n                        \"березень\",\n                        \"квітень\",\n                        \"травень\",\n                        \"червень\",\n                        \"липень\",\n                        \"серпень\",\n                        \"вересень\",\n                        \"жовтень\",\n                        \"листопад\",\n                        \"грудень\"\n                    ],\n                    full : [\n                        \"січень\",\n                        \"лютий\",\n                        \"березень\",\n                        \"квітень\",\n                        \"травень\",\n                        \"червень\",\n                        \"липень\",\n                        \"серпень\",\n                        \"вересень\",\n                        \"жовтень\",\n                        \"листопад\",\n                        \"грудень\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'н',\n                        'п',\n                        'в',\n                        'с',\n                        'ч',\n                        'п',\n                        'с'\n                    ],\n                    full : [\n                        'неділя',\n                        'понеділок',\n                        'вівторок',\n                        'середа',\n                        'четвер',\n                        'п\\'ятниця',\n                        'субота'\n                    ]\n                }\n            },\n            'ru' : {\n                name : 'русский язык',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"январь\",\n                        \"февраль\",\n                        \"март\",\n                        \"апрель\",\n                        \"май\",\n                        \"июнь\",\n                        \"июль\",\n                        \"август\",\n                        \"сентябрь\",\n                        \"октябрь\",\n                        \"ноябрь\",\n                        \"декабрь\"\n                    ],\n                    full : [\n                        \"январь\",\n                        \"февраль\",\n                        \"март\",\n                        \"апрель\",\n                        \"май\",\n                        \"июнь\",\n                        \"июль\",\n                        \"август\",\n                        \"сентябрь\",\n                        \"октябрь\",\n                        \"ноябрь\",\n                        \"декабрь\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'в',\n                        'п',\n                        'в',\n                        'с',\n                        'ч',\n                        'п',\n                        'с'\n                    ],\n                    full : [\n                        'воскресенье',\n                        'понедельник',\n                        'вторник',\n                        'среда',\n                        'четверг',\n                        'пятница',\n                        'суббота'\n                    ]\n                }\n            },\n            'tr' : {\n                name : 'Türkçe',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"Oca\",\n                        \"Şub\",\n                        \"Mar\",\n                        \"Nis\",\n                        \"May\",\n                        \"Haz\",\n                        \"Tem\",\n                        \"Ağu\",\n                        \"Eyl\",\n                        \"Eki\",\n                        \"Kas\",\n                        \"Ara\"\n                    ],\n                    full : [\n                        \"Ocak\",\n                        \"Şubat\",\n                        \"Mart\",\n                        \"Nisan\",\n                        \"Mayıs\",\n                        \"Haziran\",\n                        \"Temmuz\",\n                        \"Ağustos\",\n                        \"Eylül\",\n                        \"Ekim\",\n                        \"Kasım\",\n                        \"Aralık\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'P',\n                        'P',\n                        'S',\n                        'Ç',\n                        'P',\n                        'C',\n                        'C'\n                    ],\n                    full : [\n                        'Pazar',\n                        'Pazartesi',\n                        'Sali',\n                        'Çarşamba',\n                        'Perşembe',\n                        'Cuma',\n                        'Cumartesi'\n                    ]\n                }\n            },\n            'ko' : {\n                name : '조선말',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"1월\",\n                        \"2월\",\n                        \"3월\",\n                        \"4월\",\n                        \"5월\",\n                        \"6월\",\n                        \"7월\",\n                        \"8월\",\n                        \"9월\",\n                        \"10월\",\n                        \"11월\",\n                        \"12월\"\n                    ],\n                    full : [\n                        \"1월\",\n                        \"2월\",\n                        \"3월\",\n                        \"4월\",\n                        \"5월\",\n                        \"6월\",\n                        \"7월\",\n                        \"8월\",\n                        \"9월\",\n                        \"10월\",\n                        \"11월\",\n                        \"12월\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        '일',\n                        '월',\n                        '화',\n                        '수',\n                        '목',\n                        '금',\n                        '토'\n                    ],\n                    full : [\n                        '일요일',\n                        '월요일',\n                        '화요일',\n                        '수요일',\n                        '목요일',\n                        '금요일',\n                        '토요일'\n                    ]\n                }\n            },\n            'fi' : {\n                name : 'suomen kieli',\n                gregorian : true,\n                months : {\n                    short: [\n                        \"Tam\",\n                        \"Hel\",\n                        \"Maa\",\n                        \"Huh\",\n                        \"Tou\",\n                        \"Kes\",\n                        \"Hei\",\n                        \"Elo\",\n                        \"Syy\",\n                        \"Lok\",\n                        \"Mar\",\n                        \"Jou\"\n                    ],\n                    full : [\n                        \"Tammikuu\",\n                        \"Helmikuu\",\n                        \"Maaliskuu\",\n                        \"Huhtikuu\",\n                        \"Toukokuu\",\n                        \"Kesäkuu\",\n                        \"Heinäkuu\",\n                        \"Elokuu\",\n                        \"Syyskuu\",\n                        \"Lokakuu\",\n                        \"Marraskuu\",\n                        \"Joulukuu\"\n                    ]\n                },\n                weekdays : {\n                    short : [\n                        'S',\n                        'M',\n                        'T',\n                        'K',\n                        'T',\n                        'P',\n                        'L'\n                    ],\n                    full : [\n                        'Sunnuntai',\n                        'Maanantai',\n                        'Tiistai',\n                        'Keskiviikko',\n                        'Torstai',\n                        'Perjantai',\n                        'Lauantai'\n                    ]\n                }\n            },\n            'vi':{\n                name:'Tiếng việt',\n                gregorian:false,\n                months:{\n                    short:[\n                        'Th.01',\n                        'Th.02',\n                        'Th.03',\n                        'Th.04',\n                        'Th.05',\n                        'Th.06',\n                        'Th.07',\n                        'Th.08',\n                        'Th.09',\n                        'Th.10',\n                        'Th.11',\n                        'Th.12'\n                    ],\n                    full:[\n                        'Tháng 01',\n                        'Tháng 02',\n                        'Tháng 03',\n                        'Tháng 04',\n                        'Tháng 05',\n                        'Tháng 06',\n                        'Tháng 07',\n                        'Tháng 08',\n                        'Tháng 09',\n                        'Tháng 10',\n                        'Tháng 11',\n                        'Tháng 12'\n                    ]\n                },\n                weekdays:{\n                    short:[\n                        'CN',\n                        'T2',\n                        'T3',\n                        'T4',\n                        'T5',\n                        'T6',\n                        'T7'\n                    ],\n                    full:[\n                        'Chủ nhật',\n                        'Thứ hai',\n                        'Thứ ba',\n                        'Thứ tư',\n                        'Thứ năm',\n                        'Thứ sáu',\n                        'Thứ bảy'\n                    ]\n                }\n            }\n        },\n\n        // MAIN VARS\n\n        pickers = {},\n        picker = null,\n        picker_ctrl = false,\n        pick_dragged = null,\n        pick_drag_offset = null,\n        pick_drag_temp = null,\n\n        // CHECK FUNCTIONS\n\n        is_click = false,\n        is_ie = function() {\n            var\n                n = navigator.userAgent.toLowerCase();\n            return (n.indexOf('msie') != -1) ? parseInt(n.split('msie')[1]) : false;\n        },\n        is_touch = function() {\n            if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))\n                return true;\n            else\n                return false;\n        },\n        is_fx_mobile = function() {\n            if(picker&&pickers[picker.id].fx&&!pickers[picker.id].fxmobile) {\n                if($(window).width()<480)\n                    picker.element.removeClass('picker-fxs');\n                else\n                    picker.element.addClass('picker-fxs')\n            }\n        },\n        is_jumpable = function() {\n            if( pickers[picker.id].jump >= pickers[picker.id].key.y.max - pickers[picker.id].key.y.min )\n                return false;\n            else\n                return true;\n        },\n        is_locked = function() {\n            var\n                unix_current = get_unix(get_current_full()),\n                unix_today = get_unix(get_today_full());\n\n            if(pickers[picker.id].lock) {\n                if(pickers[picker.id].lock=='from') {\n                    if(unix_current<unix_today) {\n                        picker_alrt();\n                        picker.element.addClass('picker-lkd');\n                        return true;\n                    }\n                    else {\n                        picker.element.removeClass('picker-lkd');\n                        return false;\n                    }\n                }\n                if(pickers[picker.id].lock=='to') {\n                    if(unix_current>unix_today) {\n                        picker_alrt();\n                        picker.element.addClass('picker-lkd');\n                        return true;\n                    }\n                    else {\n                        picker.element.removeClass('picker-lkd');\n                        return false;\n                    }\n                }\n            }\n\n            if(pickers[picker.id].disabledays) {\n                if(pickers[picker.id].disabledays.indexOf(unix_current) != -1) {\n                    picker_alrt();\n                    picker.element.addClass('picker-lkd');\n                    return true;\n                }\n                else {\n                    picker.element.removeClass('picker-lkd');\n                    return false;\n                }\n            }\n        },\n        is_int = function(n) {\n            return n % 1 === 0;\n        },\n        is_date = function(value) {\n            var\n                format = /(^\\d{1,4}[\\.|\\\\/|-]\\d{1,2}[\\.|\\\\/|-]\\d{1,4})(\\s*(?:0?[1-9]:[0-5]|1(?=[012])\\d:[0-5])\\d\\s*[ap]m)?$/;\n            return format.test(value);\n        },\n\n        // REST FUNCTIONS\n\n        get_current = function(k){\n            return parseInt(pickers[picker.id].key[k].current);\n        },\n        get_today = function(k){\n            return parseInt(pickers[picker.id].key[k].today);\n        },\n        get_today_full = function() {\n            return get_today('m')+'/'+get_today('d')+'/'+get_today('y');\n        },\n        get_current_full = function() {\n            return get_current('m')+'/'+get_current('d')+'/'+get_current('y');\n        },\n        get_jumped = function(k,val) {\n            var\n                a = [],\n                key_values = pickers[picker.id].key[k];\n            for (var i = key_values.min; i <= key_values.max; i++)\n                if (i%val == 0)\n                    a.push(i);\n            return a;\n        },\n        get_closest_jumped = function(int,arr) {\n            var c = arr[0];\n            var d = Math.abs (int - c);\n            for (var i = 0; i < arr.length; i++) {\n                var n = Math.abs (int - arr[i]);\n                if (n < d) {\n                    d = n;\n                    c = arr[i];\n                }\n            }\n            return c;\n        },\n        get_clear = function(k,n){\n            \n            var key_values = pickers[picker.id].key[k];\n            if( n > key_values.max )\n                return get_clear( k , (n-key_values.max)+(key_values.min-1) );\n            else if( n < key_values.min )\n                return get_clear( k , (n+1) + (key_values.max - key_values.min));\n            else\n                return n;\n        },\n        get_days_array = function() {\n            if(i18n[pickers[picker.id].lang].gregorian)\n                return [1,2,3,4,5,6,0];\n            else\n                return [0,1,2,3,4,5,6];\n        },\n        get_ul = function(k) {\n            return get_picker_els('ul.pick[data-k=\"'+k+'\"]');\n        },\n        get_eq = function(k,d) {\n            var ul = get_ul(k);\n            \n            var o = [];\n\n            ul.find('li').each(function(){\n                o.push($(this).attr('value'));\n            });\n\n            if(d=='last')\n                return o[o.length-1];\n            else\n                return o[0];\n\n        },\n        get_picker_els = function(el) {\n            if(picker)\n                return picker.element.find(el);\n        },\n        get_unix = function(d) {\n            return Date.parse(d) / 1000;\n        },\n\n        // RENDER FUNCTIONS\n\n        picker_large_onoff = function() {\n            if(pickers[picker.id].large) {\n                picker.element.toggleClass('picker-lg');\n                picker_render_calendar();\n            }\n        },\n        picker_translate_onoff = function() {\n            get_picker_els('ul.pick.pick-l').toggleClass('visible');\n        },\n        picker_offset = function(){\n            if(!picker.element.hasClass('picker-modal')){\n                var\n                    input = picker.input,\n                    left = input.offset().left + input.outerWidth()/2,\n                    top = input.offset().top + input.outerHeight();\n                picker.element.css({\n                    'left' : left,\n                    'top' : top\n                });\n            }\n        },\n        picker_translate = function(v) {\n            pickers[picker.id].lang = Object.keys(i18n)[v];\n            picker_set_lang();\n            picker_set();\n        },\n        picker_set_lang = function() {\n            var picker_day_offset = get_days_array();\n            get_picker_els('.pick-lg .pick-lg-h li').each(function(i){\n                $(this).html(i18n[pickers[picker.id].lang].weekdays.short[picker_day_offset[i]]);\n            });\n            get_picker_els('ul.pick.pick-m li').each(function(){\n                $(this).html(i18n[pickers[picker.id].lang].months.short[$(this).attr('value')-1]);\n            });\n        },\n        picker_show = function() {\n            picker.element.addClass('picker-focus');\n        },\n        picker_hide = function() {\n            if(!is_locked()) {\n                picker.element.removeClass('picker-focus');\n                if(picker.element.hasClass('picker-modal'))\n                    $('.picker-modal-overlay').addClass('tohide');\n                picker = null;\n            }\n            picker_ctrl = false;\n        },\n        picker_render_ul = function(k){\n               var ul = get_ul(k),\n                key_values = pickers[picker.id].key[k];\n\n            //CURRENT VALUE\n            pickers[picker.id].key[k].current = key_values.today < key_values.min && key_values.min || key_values.today;\n\n            for (var i = key_values.min; i <= key_values.max; i++) {\n                \n                var html = i;\n\n                if(k=='m')\n                    html = i18n[pickers[picker.id].lang].months.short[i-1];\n                if(k=='l')\n                    html = i18n[Object.keys(i18n)[i]].name;\n\n                html += k=='d' ? '<span></span>' : '';\n\n                $('<li>', {\n                    value: i,\n                    html: html\n                })\n                .appendTo(ul)\n            }\n\n            //PREV BUTTON\n            $('<div>', {\n                class: 'pick-arw pick-arw-s1 pick-arw-l',\n                html: $('<i>', {\n                    class: 'pick-i-l'\n                })\n            })\n            .appendTo(ul);\n\n            //NEXT BUTTON\n            $('<div>', {\n                class: 'pick-arw pick-arw-s1 pick-arw-r',\n                html: $('<i>', {\n                    class: 'pick-i-r'\n                })\n            })\n            .appendTo(ul);\n\n            if(k=='y') {\n\n                //PREV BUTTON\n                $('<div>', {\n                    class: 'pick-arw pick-arw-s2 pick-arw-l',\n                    html: $('<i>', {\n                        class: 'pick-i-l'\n                    })\n                })\n                .appendTo(ul);\n\n                //NEXT BUTTON\n                $('<div>', {\n                    class: 'pick-arw pick-arw-s2 pick-arw-r',\n                    html: $('<i>', {\n                        class: 'pick-i-r'\n                    })\n                })\n                .appendTo(ul);\n\n            }\n\n            picker_ul_transition(k,get_current(k));\n\n        },\n        picker_render_calendar = function() {\n\n            var\n                index = 0,\n                w = get_picker_els('.pick-lg-b');\n\n            w.find('li')\n            .empty()\n            .removeClass('pick-n pick-b pick-a pick-v pick-lk pick-sl pick-h')\n            .attr('data-value','');\n\n            var\n                _C = new Date(get_current_full()),\n                _S = new Date(get_current_full()),\n                _L = new Date(get_current_full()),\n                _NUM = function(d){\n                    var\n                        m = d.getMonth(),\n                        y = d.getFullYear();\n                    var l = ((y % 4) == 0 && ((y % 100) != 0 || (y % 400) == 0));\n                    return [31, (l ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][m];\n                };\n\n            _L.setMonth(_L.getMonth()-1);\n            _S.setDate(1);\n\n            var\n                o = _S.getDay()-1;\n                if(o<0)\n                    o = 6;\n                if(i18n[pickers[picker.id].lang].gregorian) {\n                    o--;\n                    if(o<0)\n                        o=6;\n                }\n\n            //before\n            for(var i = _NUM(_L)-o ; i <= _NUM(_L) ; i++) {\n                w.find('li').eq(index)\n                .html(i)\n                .addClass('pick-b pick-n pick-h');\n                index++;\n            }\n            //current\n            for(var i = 1 ; i <= _NUM(_S) ; i++) {\n                w.find('li').eq(index)\n                .html(i)\n                .addClass('pick-n pick-v')\n                .attr('data-value',i);\n                index++;\n            }\n            //after\n            if(w.find('li.pick-n').length < 42) {\n                var\n                    e = 42 - w.find('li.pick-n').length;\n                for(var i = 1 ; i <= e; i++) {\n                    w.find('li').eq(index).html(i)\n                    .addClass('pick-a pick-n pick-h');\n                    index++;\n                }\n            }\n            if(pickers[picker.id].lock) {\n                if(pickers[picker.id].lock==='from') {\n                    if(get_current('y')<=get_today('y')) {\n                        if(get_current('m')==get_today('m')) {\n                            get_picker_els('.pick-lg .pick-lg-b li.pick-v[data-value=\"'+get_today('d')+'\"]')\n                            .prevAll('li')\n                            .addClass('pick-lk')\n                        }\n                        else {\n                            if(get_current('m')<get_today('m')) {\n                                get_picker_els('.pick-lg .pick-lg-b li')\n                                .addClass('pick-lk')\n                            }\n                            else if(get_current('m')>get_today('m')&&get_current('y')<get_today('y')) {\n                                get_picker_els('.pick-lg .pick-lg-b li')\n                                .addClass('pick-lk')\n                            }\n                        }\n                    }\n                }\n                else {\n                    if(get_current('y')>=get_today('y')) {\n                        if(get_current('m')==get_today('m')) {\n                            get_picker_els('.pick-lg .pick-lg-b li.pick-v[data-value=\"'+get_today('d')+'\"]')\n                            .nextAll('li')\n                            .addClass('pick-lk')\n                        }\n                        else {\n                            if(get_current('m')>get_today('m')) {\n                                get_picker_els('.pick-lg .pick-lg-b li')\n                                .addClass('pick-lk')\n                            }\n                            else if(get_current('m')<get_today('m')&&get_current('y')>get_today('y')) {\n                                get_picker_els('.pick-lg .pick-lg-b li')\n                                .addClass('pick-lk')\n                            }\n                        }\n                    }\n                }\n            }\n            if(pickers[picker.id].disabledays) {\n                $.each(pickers[picker.id].disabledays, function( i, v ) {\n                    if(v&&is_date(v)) {\n                        var\n                            d = new Date(v*1000);\n                        if(d.getMonth()+1==get_current('m')&&d.getFullYear()==get_current('y'))\n                            get_picker_els('.pick-lg .pick-lg-b li.pick-v[data-value=\"'+d.getDate()+'\"]')\n                            .addClass('pick-lk');\n                    }\n                });\n            }\n\n            get_picker_els('.pick-lg-b li.pick-v[data-value='+get_current('d')+']').addClass('pick-sl');\n\n        },\n        picker_fills = function() {\n\n            var\n                m = get_current('m'),\n                y = get_current('y'),\n                l = ((y % 4) == 0 && ((y % 100) != 0 || (y % 400) == 0));\n\n            pickers[picker.id].key['d'].max =  [31, (l ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][m-1];\n\n            if(get_current('d')>pickers[picker.id].key['d'].max) {\n                pickers[picker.id].key['d'].current = pickers[picker.id].key['d'].max;\n                picker_ul_transition('d',get_current('d'));\n            }\n\n            get_picker_els('.pick-d li')\n            .removeClass('pick-wke')\n            .each(function() {\n                var\n                    d = new Date(m+\"/\"+$(this).attr('value')+\"/\"+y).getDay();\n\n                $(this)\n                .find('span')\n                .html(i18n[pickers[picker.id].lang].weekdays.full[d]);\n\n                if(d==0||d==6)\n                    $(this).addClass('pick-wke');\n\n            });\n\n            if(picker.element.hasClass('picker-lg')) {\n                get_picker_els('.pick-lg-b li').removeClass('pick-wke');\n                get_picker_els('.pick-lg-b li.pick-v')\n                .each(function() {\n                    var\n                        d = new Date(m+\"/\"+$(this).attr('data-value')+\"/\"+y).getDay();\n                    if(d==0||d==6)\n                        $(this).addClass('pick-wke');\n\n                });\n            }\n\n        },\n        picker_set = function() {\n            if(picker.element.hasClass('picker-lg'))\n                picker_render_calendar();\n            picker_fills();\n            input_change_value();\n        },\n\n        // ACTION FUNCTIONS\n\n        picker_ul_transition = function(k,i) {\n\n            \n            var ul = get_ul(k);\n\n            ul.find('li').removeClass('pick-sl pick-bfr pick-afr');\n\n            if(i==get_eq(k,'last')) {\n                var li = ul.find('li[value=\"'+get_eq(k,'first')+'\"]');\n                li.clone().insertAfter(ul.find('li[value='+i+']'));\n                li.remove();\n            }\n            if(i==get_eq(k,'first')) {\n                var li = ul.find('li[value=\"'+get_eq(k,'last')+'\"]');\n                li.clone().insertBefore(ul.find('li[value='+i+']'));\n                li.remove();\n            }\n\n            ul.find('li[value='+i+']').addClass('pick-sl');\n            ul.find('li.pick-sl').nextAll('li').addClass('pick-afr');\n            ul.find('li.pick-sl').prevAll('li').addClass('pick-bfr');\n\n        },\n        picker_values_increase = function(k,v) {\n\n            var\n                key_values = pickers[picker.id].key[k];\n\n            if(v>key_values.max) {\n                if(k=='d')\n                    picker_ul_turn('m','right');\n                if(k=='m')\n                    picker_ul_turn('y','right');\n                v = key_values.min;\n            }\n            if(v<key_values.min) {\n                if(k=='d')\n                    picker_ul_turn('m','left');\n                if(k=='m')\n                    picker_ul_turn('y','left');\n                v = key_values.max;\n            }\n            pickers[picker.id].key[k].current = v;\n            picker_ul_transition(k,v);\n\n        },\n        picker_ul_turn = function(k,d) {\n            var\n                v = get_current(k);\n            if(d=='right')\n                v++;\n            else\n                v--;\n            picker_values_increase(k,v);\n        },\n        picker_alrt = function() {\n            picker.element\n            .addClass('picker-rmbl');\n        },\n\n        /* INPUT FUNCTIONS */\n\n        input_fill = function(n) {\n            return n < 10 ? '0' + n : n\n        },\n        input_ordinal_suffix = function(n) {\n            var\n                s=[\"th\",\"st\",\"nd\",\"rd\"],\n                v=n%100;\n            return n+(s[(v-20)%10]||s[v]||s[0]);\n        },\n        input_change_value = function() {\n\n            if(!is_locked()&&picker_ctrl) {\n\n                var\n                    d = get_current('d'),\n                    m = get_current('m'),\n                    y = get_current('y'),\n                    get_day = new Date(m+\"/\"+d+\"/\"+y).getDay(),\n\n                    str =\n                    pickers[picker.id].format\n                    .replace(/\\b(d)\\b/g, input_fill(d))\n                    .replace(/\\b(m)\\b/g, input_fill(m))\n                    .replace(/\\b(S)\\b/g, input_ordinal_suffix(d)) //new\n                    .replace(/\\b(Y)\\b/g, y)\n                    .replace(/\\b(U)\\b/g, get_unix(get_current_full())) //new\n                    .replace(/\\b(D)\\b/g, i18n[pickers[picker.id].lang].weekdays.short[get_day])\n                    .replace(/\\b(l)\\b/g, i18n[pickers[picker.id].lang].weekdays.full[get_day])\n                    .replace(/\\b(F)\\b/g, i18n[pickers[picker.id].lang].months.full[m-1])\n                    .replace(/\\b(M)\\b/g, i18n[pickers[picker.id].lang].months.short[m-1])\n                    .replace(/\\b(n)\\b/g, m)\n                    .replace(/\\b(j)\\b/g, d);\n\n                picker\n                .input\n                .val(str)\n                .change();\n\n                picker_ctrl = false;\n\n            }\n\n        };\n\n    // GET UI EVENT\n\n    if(is_touch())\n        var\n            ui_event = {\n                i : 'touchstart',\n                m   : 'touchmove',\n                e : 'touchend'\n            }\n    else\n        var\n            ui_event = {\n                i : 'mousedown',\n                m   : 'mousemove',\n                e : 'mouseup'\n            }\n\n\n    var\n        picker_node_el = 'div.datedropper.picker-focus';\n\n    $(document)\n\n\n    //CLOSE PICKER\n    .on('click',function(e) {\n        if(picker) {\n            if(!picker.input.is(e.target) && !picker.element.is(e.target) && picker.element.has(e.target).length === 0) {\n                picker_hide();\n                pick_dragged = null;\n            }\n        }\n    })\n\n    //LOCK ANIMATION\n    .on(csse.a,picker_node_el + '.picker-rmbl',function(){\n        if(picker.element.hasClass('picker-rmbl'))\n            $(this).removeClass('picker-rmbl');\n    })\n\n    //HIDE MODAL OVERLAY\n    .on(csse.t,'.picker-modal-overlay',function(){\n        $(this).remove();\n    })\n\n\n    //LARGE-MODE DAY CLICK\n    .on(ui_event.i,picker_node_el+' .pick-lg li.pick-v',function(){\n        get_picker_els('.pick-lg-b li').removeClass('pick-sl');\n        $(this).addClass('pick-sl');\n        pickers[picker.id].key['d'].current = $(this).attr('data-value');\n        picker_ul_transition('d',$(this).attr('data-value'));\n        picker_ctrl = true;\n    })\n\n    //BUTTON LARGE-MODE\n    .on('click',picker_node_el+' .pick-btn-sz',function(){\n        picker_large_onoff();\n    })\n\n    //BUTTON TRANSLATE-MODE\n    .on('click',picker_node_el+' .pick-btn-lng',function(){\n        picker_translate_onoff();\n    })\n\n    //JUMP\n    .on(ui_event.i,picker_node_el+' .pick-arw.pick-arw-s2',function(e){\n\n        e.preventDefault();\n        pick_dragged = null;\n\n        var\n            i,\n            k = $(this).closest('ul').data('k'),\n            jump = pickers[picker.id].jump;\n\n        if($(this).hasClass('pick-arw-r'))\n            i = get_current('y') + jump;\n        else\n            i = get_current('y') - jump;\n\n        var\n            jumped_array = get_jumped('y',jump);\n\n        if(i>jumped_array[jumped_array.length-1])\n            i = jumped_array[0];\n        if(i<jumped_array[0])\n            i = jumped_array[jumped_array.length-1];\n\n        pickers[picker.id].key['y'].current = i;\n        picker_ul_transition('y',get_current('y'));\n\n        picker_ctrl = true;\n\n    })\n\n    //DEFAULT ARROW\n    .on(ui_event.i,picker_node_el+' .pick-arw.pick-arw-s1',function(e){\n        e.preventDefault();\n        pick_dragged = null;\n        var\n            k = $(this).closest('ul').data('k');\n        if($(this).hasClass('pick-arw-r'))\n            picker_ul_turn(k,'right');\n        else\n            picker_ul_turn(k,'left');\n\n        picker_ctrl = true;\n\n    })\n\n    // JUMP\n    .on(ui_event.i,picker_node_el+' ul.pick.pick-y li',function(){\n        is_click = true;\n    })\n    .on(ui_event.e,picker_node_el+' ul.pick.pick-y li',function(){\n        if(is_click&&is_jumpable()) {\n            $(this).closest('ul').toggleClass('pick-jump');\n            var\n                jumped = get_closest_jumped(get_current('y'),get_jumped('y',pickers[picker.id].jump));\n            pickers[picker.id].key['y'].current = jumped;\n            picker_ul_transition('y',get_current('y'));\n            is_click = false;\n        }\n    })\n\n    //TOGGLE CALENDAR\n    .on(ui_event.i,picker_node_el+' ul.pick.pick-d li',function(){\n        is_click = true;\n    })\n    .on(ui_event.e,picker_node_el+' ul.pick.pick-d li',function(){\n        if(is_click) {\n            picker_large_onoff();\n            is_click = false;\n        }\n    })\n\n    //TOGGLE TRANSLATE MODE\n    .on(ui_event.i,picker_node_el+' ul.pick.pick-l li',function(){\n        is_click = true;\n    })\n    .on(ui_event.e,picker_node_el+' ul.pick.pick-l li',function(){\n        if(is_click) {\n            picker_translate_onoff();\n            picker_translate($(this).val());\n            is_click = false;\n        }\n    })\n\n    //MOUSEDOWN ON UL\n    .on(ui_event.i,picker_node_el+' ul.pick',function(e){\n        pick_dragged = $(this);\n        if(pick_dragged) {\n            var\n                k = pick_dragged.data('k');\n            pick_drag_offset = is_touch() ? e.originalEvent.touches[0].pageY : e.pageY;\n            pick_drag_temp = get_current(k);\n        }\n    })\n\n    //MOUSEMOVE ON UL\n    .on(ui_event.m,function(e){\n\n        is_click = false;\n\n        if(pick_dragged) {\n            e.preventDefault();\n            var\n                k = pick_dragged.data('k');\n                o = is_touch() ? e.originalEvent.touches[0].pageY : e.pageY;\n            o = pick_drag_offset - o;\n            o = Math.round(o * .026);\n            i = pick_drag_temp + o;\n            var\n                int = get_clear(k,i);\n            if(int!=pickers[picker.id].key[k].current)\n                picker_values_increase(k,int);\n\n            picker_ctrl = true;\n        }\n    })\n\n    //MOUSEUP ON UL\n    .on(ui_event.e,function(e){\n        if( pick_dragged )\n            pick_dragged = null,\n            pick_drag_offset = null,\n            pick_drag_temp = null;\n        if(picker)\n            picker_set();\n    })\n\n    //CLICK SUBMIT\n    .on(ui_event.i,picker_node_el+' .pick-submit',function(){\n        picker_hide();\n    });\n\n    $(window).resize(function(){\n        if(picker) {\n            picker_offset();\n            is_fx_mobile();\n        }\n    });\n\n    $.fn.dateDropper = function(options) {\n        return $(this).each(function(){\n            if($(this).is('input')&&!$(this).hasClass('picker-input')) {\n\n                var\n                    input = $(this),\n                    id = 'datedropper-' + Object.keys(pickers).length;\n\n                input\n                .attr('data-id',id)\n                .addClass('picker-input')\n                .prop({\n                    'type':'text',\n                    'readonly' : true\n                });\n\n                var\n                    picker_default_date = (input.data('default-date')&&is_date(input.data('default-date'))) ? input.data('default-date') : null,\n                    picker_disabled_days = (input.data('disabled-days')) ? input.data('disabled-days').split(',') : null,\n                    picker_format = input.data('format') || 'm/d/Y',\n                    picker_fx = (input.data('fx')===false) ? input.data('fx') : true,\n                    picker_fx_class = (input.data('fx')===false) ? '' : 'picker-fxs',\n                    picker_fx_mobile = (input.data('fx-mobile')===false) ? input.data('fx-mobile') : true,\n                    picker_init_set = (input.data('init-set')===false) ? false : true,\n                    picker_lang = (input.data('lang')&&(input.data('lang') in i18n)) ? input.data('lang') : 'en',\n                    picker_large = (input.data('large-mode')===true) ? true : false,\n                    picker_large_class = (input.data('large-default')===true && picker_large===true) ? 'picker-lg' : '',\n                    picker_lock = (input.data('lock')=='from'||input.data('lock')=='to') ? input.data('lock') : false,\n                    picker_jump = (input.data('jump')&&is_int(input.data('jump'))) ? input.data('jump') : 10,\n                    picker_max_year = (input.data('max-year')&&is_int(input.data('max-year'))) ? input.data('max-year') : new Date().getFullYear(),\n                    picker_min_year = (input.data('min-year')&&is_int(input.data('min-year'))) ? input.data('min-year') : 1970,\n\n                    picker_modal = (input.data('modal')===true) ? 'picker-modal' : '',\n                    picker_theme = input.data('theme') || 'primary',\n                    picker_translate_mode = (input.data('translate-mode')===true) ? true : false;\n\n                if(picker_disabled_days) {\n                    $.each(picker_disabled_days, function( index, value ) {\n                        if(value&&is_date(value))\n                            picker_disabled_days[index] = get_unix(value);\n                    });\n                }\n\n                pickers[id] = {\n                    disabledays : picker_disabled_days,\n                    format : picker_format,\n                    fx : picker_fx,\n                    fxmobile : picker_fx_mobile,\n                    lang : picker_lang,\n                    large : picker_large,\n                    lock : picker_lock,\n                    jump : picker_jump,\n                    key : {\n                        m : {\n                            min : 1,\n                            max : 12,\n                            current : 1,\n                            today : (new Date().getMonth()+1)\n                        },\n                        d : {\n                            min : 1,\n                            max : 31,\n                            current : 1,\n                            today : new Date().getDate()\n                        },\n                        y : {\n                            min : picker_min_year,\n                            max : picker_max_year,\n                            current : picker_min_year,\n                            today : new Date().getFullYear()\n                        },\n                        l : {\n                            min : 0,\n                            max : Object.keys(i18n).length-1,\n                            current : 0,\n                            today : 0\n                        }\n                    },\n                    translate : picker_translate_mode\n                };\n\n                if(picker_default_date) {\n\n                    var regex = /\\d+/g;\n                    var string = picker_default_date;\n                    var matches = string.match(regex);\n\n                    $.each(matches, function( index, value ) {\n                        matches[index] = parseInt(value);\n                    });\n\n                    pickers[id].key.m.today = (matches[0]&&matches[0]<=12) ? matches[0] : pickers[id].key.m.today;\n                    pickers[id].key.d.today = (matches[1]&&matches[1]<=31) ? matches[1] : pickers[id].key.d.today;\n                    pickers[id].key.y.today = (matches[2]) ? matches[2] : pickers[id].key.y.today;\n\n                    if(pickers[id].key.y.today>pickers[id].key.y.max)\n                        pickers[id].key.y.max = pickers[id].key.y.today;\n                    if(pickers[id].key.y.today<pickers[id].key.y.min)\n                        pickers[id].key.y.min = pickers[id].key.y.today;\n\n                }\n\n                $('<div>', {\n                    class: 'datedropper ' + picker_modal + ' ' + picker_theme + ' ' + picker_fx_class + ' ' + picker_large_class,\n                    id: id,\n                    html: $('<div>', {\n                        class: 'picker'\n                    })\n                })\n                .appendTo('body');\n\n                picker = {\n                    id : id,\n                    input : input,\n                    element : $('#' + id)\n                };\n\n                for( var k in pickers[id].key ) {\n                    $('<ul>', {\n                        class: 'pick pick-' + k,\n                        'data-k' : k\n                    })\n                    .appendTo(get_picker_els('.picker'));\n                    picker_render_ul(k);\n                }\n\n                if(pickers[id].large) {\n\n                    //calendar\n                    $('<div>', {\n                        class: 'pick-lg'\n                    })\n                    .insertBefore(get_picker_els('.pick-d'));\n\n                    $('<ul class=\"pick-lg-h\"></ul><ul class=\"pick-lg-b\"></ul>')\n                    .appendTo(get_picker_els('.pick-lg'));\n\n                    var\n                        picker_day_offset = get_days_array();\n\n                    for(var i = 0; i < 7 ; i++) {\n                        $('<li>', {\n                            html: i18n[pickers[picker.id].lang].weekdays.short[picker_day_offset[i]]\n                        })\n                        .appendTo(get_picker_els('.pick-lg .pick-lg-h'))\n                    }\n                    for(var i = 0; i < 42 ; i++) {\n                        $('<li>')\n                        .appendTo(get_picker_els('.pick-lg .pick-lg-b'))\n                    }\n                }\n\n                //buttons\n                $('<div>', {\n                    class: 'pick-btns'\n                })\n                .appendTo(get_picker_els('.picker'));\n\n                $('<div>', {\n                    class: 'pick-submit'\n                })\n                .appendTo(get_picker_els('.pick-btns'));\n\n                if(pickers[picker.id].translate) {\n                    $('<div>', {\n                        class: 'pick-btn pick-btn-lng'\n                    })\n                    .appendTo(get_picker_els('.pick-btns'));\n                }\n                if(pickers[picker.id].large) {\n                    $('<div>', {\n                        class: 'pick-btn pick-btn-sz'\n                    })\n                    .appendTo(get_picker_els('.pick-btns'));\n                }\n\n                if(picker_format=='Y'||picker_format=='m') {\n                    get_picker_els('.pick-d,.pick-btn-sz').hide();\n                    picker.element.addClass('picker-tiny');\n                    if(picker_format=='Y')\n                        get_picker_els('.pick-m,.pick-btn-lng').hide();\n                    if(picker_format=='m')\n                        get_picker_els('.pick-y').hide();\n                }\n\n                if(picker_init_set) {\n                    picker_ctrl = true;\n                    input_change_value();\n                }\n\n                picker = null;\n\n            }\n\n        })\n        .focus(function(e){\n\n            e.preventDefault();\n            $(this).blur();\n\n            if(picker)\n                picker_hide();\n\n            picker = {\n                id : $(this).data('id'),\n                input : $(this),\n                element : $('#'+$(this).data('id'))\n            };\n\n            is_fx_mobile();\n            picker_offset();\n            picker_set();\n            picker_show();\n\n            if(picker.element.hasClass('picker-modal'))\n                $('body').append('<div class=\"picker-modal-overlay\"></div>')\n\n        });\n    };\n}(jQuery));\n\n//timeDropper\n(function($) {\n    $.fn.timeDropper = function(options, callbackFnk) {\n        return $(this).each(function() {\n\n            var\n                _td_input = $(this),\n                _td_input_on = false,\n                _td_mobile = false,\n                _td_num = function(n) {\n                    return n < 10 ? '0' + n : n\n                },\n                _td_id = $('.td-clock').length,\n                _td_alert,\n                _td_event = null,\n                _td_options = $.extend({\n\n                    format: 'h:mm a',\n                    autoswitch: false,\n                    meridians: false,\n                    mousewheel: false,\n                    setCurrentTime: true,\n                    init_animation: \"fadein\",\n                    primaryColor: \"#1977CC\",\n                    borderColor: \"#1977CC\",\n                    backgroundColor: \"#FFF\",\n                    textColor: '#555'\n\n                }, options, {setCurrentTime : (_td_input.data('init-set')===true) ? true : false });\n\n            var _td_color = function(col, amt) {\n\n                var usePound = false;\n\n                if (col[0] == \"#\") {\n                    col = col.slice(1);\n                    usePound = true;\n                }\n\n                var num = parseInt(col, 16);\n\n                var r = (num >> 16) + amt;\n\n                if (r > 255) r = 255;\n                else if (r < 0) r = 0;\n\n                var b = ((num >> 8) & 0x00FF) + amt;\n\n                if (b > 255) b = 255;\n                else if (b < 0) b = 0;\n\n                var g = (num & 0x0000FF) + amt;\n\n                if (g > 255) g = 255;\n                else if (g < 0) g = 0;\n\n                return (usePound ? \"#\" : \"\") + (g | (b << 8) | (r << 16)).toString(16);\n\n            };\n\n            _td_input.prop({\n                'readonly': true\n            }).addClass('td-input');\n\n            $('body').append('<div class=\"td-wrap td-n2\" id=\"td-clock-' + _td_id + '\"><div class=\"td-overlay\"></div><div class=\"td-clock td-init\"><div class=\"td-deg td-n\"><div class=\"td-select\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 35.4\" enable-background=\"new 0 0 100 35.4\" xml:space=\"preserve\"><g><path fill=\"none\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M98.1,33C85.4,21.5,68.5,14.5,50,14.5S14.6,21.5,1.9,33\"/><line fill=\"none\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" x1=\"1.9\" y1=\"33\" x2=\"1.9\" y2=\"28.6\"/><line fill=\"none\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" x1=\"1.9\" y1=\"33\" x2=\"6.3\" y2=\"33\"/><line fill=\"none\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" x1=\"98.1\" y1=\"33\" x2=\"93.7\" y2=\"33\"/><line fill=\"none\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" x1=\"98.1\" y1=\"33\" x2=\"98.1\" y2=\"28.6\"/></g></svg></div></div><div class=\"td-medirian\"><span class=\"td-icon-am td-n\">AM</span><span class=\"td-icon-pm td-n\">PM</span></div><div class=\"td-lancette\"><div></div><div></div></div><div class=\"td-time\"><span class=\"on\"></span>:<span></span></div></div></div>');\n\n            $('head').append('<style>#td-clock-' + _td_id + ' .td-clock {color:' + _td_options.textColor + ';background: ' + _td_options.backgroundColor + '; box-shadow: 0 0 0 1px ' + _td_options.borderColor + ',0 0 0 8px rgba(0, 0, 0, 0.05); } #td-clock-' + _td_id + ' .td-clock .td-time span.on { color:' + _td_options.primaryColor + '} #td-clock-' + _td_id + ' .td-clock:before { border-color: ' + _td_options.borderColor + '} #td-clock-' + _td_id + ' .td-select:after { box-shadow: 0 0 0 1px ' + _td_options.borderColor + ' } #td-clock-' + _td_id + ' .td-clock:before,#td-clock-' + _td_id + ' .td-select:after {background: ' + _td_options.backgroundColor + ';} #td-clock-' + _td_id + ' .td-lancette {border: 2px solid ' + _td_options.primaryColor + '; opacity:0.1}#td-clock-' + _td_id + ' .td-lancette div:after { background: ' + _td_options.primaryColor + ';} #td-clock-' + _td_id + ' .td-bulletpoint div:after { background:' + _td_options.primaryColor + '; opacity:0.1}</style>');\n\n\n\n            var\n                _td_container = $('#td-clock-' + _td_id),\n                _td_overlay = _td_container.find('.td-overlay'),\n                _td_c = _td_container.find('.td-clock');\n\n\n            _td_c.find('svg').attr('style', \"stroke:\" + _td_options.borderColor);\n\n\n            var\n                _td_init_deg = -1,\n                _td_event_deg = 0,\n                _td_wheel_deg = 0,\n                _td_h,\n                _td_m,\n                _td_define_deg = function() {\n\n                    var\n                        o = _td_c.find('.td-time span.on'),\n                        v = parseInt(o.attr('data-id'));\n\n                    if (o.index() == 0) var deg = Math.round((v * 360 / 23));\n                    else var deg = Math.round((v * 360 / 59));\n\n                    _td_init_deg = -1;\n                    _td_event_deg = deg;\n                    _td_wheel_deg = deg;\n\n                },\n                _td_rotation = function(deg) {\n\n                    var t = _td_c.find('.td-time span.on');\n\n                    var value = t.attr('data-id');\n\n                    if (!value) value = 0;\n\n                    var h = Math.round((deg * 23 / 360));\n                    var m = Math.round((deg * 59 / 360));\n\n                    if (t.index() == 0) {\n\n                        t.attr('data-id', _td_num(h));\n\n                        if (_td_options.meridians) {\n\n                            if (h >= 12 && h < 24) {\n                                _td_c.find('.td-icon-pm').addClass('td-on');\n                                _td_c.find('.td-icon-am').removeClass('td-on');\n                            } else {\n\n                                _td_c.find('.td-icon-am').addClass('td-on');\n                                _td_c.find('.td-icon-pm').removeClass('td-on');\n                            }\n\n                            if (h > 12) h = h - 12;\n                            if (h == 0) h = 12;\n\n                        }\n\n                        t.text(_td_num(h));\n\n                    } else {\n                        t.attr('data-id', _td_num(m)).text(_td_num(m));\n                    }\n\n                    _td_wheel_deg = deg;\n                    _td_c.find('.td-deg').css('transform', 'rotate(' + (deg) + 'deg)');\n\n                    if (t.index() == 0) {\n                        var c = Math.round((h * 360 / 12));\n                        _td_c.find('.td-lancette div:last').css('transform', 'rotate(' + (c) + 'deg)');\n                    } else {\n                        _td_c.find('.td-lancette div:first').css('transform', 'rotate(' + (deg) + 'deg)');\n                    }\n\n                    var\n                        _td_h = _td_c.find('.td-time span:first').attr('data-id'),\n                        _td_m = _td_c.find('.td-time span:last').attr('data-id');\n\n                    if (Math.round(_td_h) >= 12 && Math.round(_td_h) < 24) {\n                        var\n                            h = Math.round(_td_h) - 12,\n                            a = 'pm',\n                            A = 'PM';\n                    } else {\n                        var\n                            h = Math.round(_td_h),\n                            a = 'am',\n                            A = 'AM';\n                    }\n\n                    if (h == 0) h = 12;\n\n                    var\n                        str =\n                        _td_options.format\n                        .replace(/\\b(H)\\b/g, Math.round(_td_h))\n                        .replace(/\\b(h)\\b/g, Math.round(h))\n                        .replace(/\\b(m)\\b/g, Math.round(_td_m))\n                        .replace(/\\b(HH)\\b/g, _td_num(Math.round(_td_h)))\n                        .replace(/\\b(hh)\\b/g, _td_num(Math.round(h)))\n                        .replace(/\\b(mm)\\b/g, _td_num(Math.round(_td_m)))\n                        .replace(/\\b(a)\\b/g, a)\n                        .replace(/\\b(A)\\b/g, A);\n\n                    _td_input.val(str);\n\n\n                };\n\n\n            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n                _td_mobile = true;\n            }\n\n            _td_c.find('.td-time span').on('click', function(e) {\n\n                var o = $(this);\n\n                _td_c.find('.td-time span').removeClass('on');\n                o.addClass('on');\n\n                var v = parseInt(o.attr('data-id'));\n\n                if (o.index() == 0) deg = Math.round((v * 360 / 23));\n                else deg = Math.round((v * 360 / 59));\n\n                _td_init_deg = -1;\n                _td_event_deg = deg;\n                _td_wheel_deg = deg;\n                _td_rotation(deg);\n\n            });\n\n            _td_c.find('.td-deg').on('touchstart mousedown', function(e) {\n\n                _td_define_deg();\n\n                e.preventDefault();\n\n                clearInterval(_td_alert);\n\n                _td_c.find('.td-deg').removeClass('td-n');\n                _td_c.find('.td-select').removeClass('td-rubber');\n\n                _td_input_on = true;\n\n                var offset = _td_c.offset();\n                var center = {\n                    y: offset.top + _td_c.height() / 2,\n                    x: offset.left + _td_c.width() / 2\n                };\n\n                var a, b, deg, tmp, rad2deg = 180 / Math.PI;\n\n                _td_c.removeClass('td-rubber');\n\n                $(window).on('touchmove mousemove', function(e) {\n\n                    if (_td_input_on == true) {\n\n                        if (_td_mobile)var move = e.originalEvent.touches[0];\n                        else var move = e;\n\n                        a = center.y - move.pageY;\n                        b = center.x - move.pageX;\n                        deg = Math.atan2(a, b) * rad2deg;\n\n                        if (deg < 0)\n                            deg = 360 + deg;\n\n                        if (_td_init_deg == -1)\n                            _td_init_deg = deg;\n\n                        tmp = Math.floor((deg - _td_init_deg) + _td_event_deg);\n\n                        if (tmp < 0) tmp = 360 + tmp;\n                        else if (tmp > 360) tmp = tmp % 360;\n\n                        _td_rotation(tmp);\n\n                    }\n\n                });\n\n            });\n\n            if (_td_options.mousewheel) {\n\n                _td_c.on('mousewheel', function(e) {\n\n                    e.preventDefault();\n\n                    _td_c.find('.td-deg').removeClass('td-n');\n\n                    if (e.originalEvent.wheelDelta > 0) {\n                        if (_td_wheel_deg <= 360) {\n                            if (e.originalEvent.wheelDelta <= 120) _td_wheel_deg++\n                                else if (e.originalEvent.wheelDelta > 120) _td_wheel_deg = _td_wheel_deg + 20;\n                            if (_td_wheel_deg > 360) _td_wheel_deg = 0;\n                        }\n                    } else {\n                        if (_td_wheel_deg >= 0) {\n                            if (e.originalEvent.wheelDelta >= -120) _td_wheel_deg--\n                                else if (e.originalEvent.wheelDelta < -120) _td_wheel_deg = _td_wheel_deg - 20;\n                            if (_td_wheel_deg < 0) _td_wheel_deg = 360;\n                        }\n                    }\n\n                    _td_init_deg = -1;\n                    _td_event_deg = _td_wheel_deg;\n                    _td_rotation(_td_wheel_deg);\n\n                });\n\n            }\n\n            $(document).on('touchend mouseup', function() {\n\n                if (_td_input_on) {\n\n                    _td_input_on = false;\n\n                    if (_td_options.autoswitch) {\n                        _td_c.find('.td-time span').toggleClass('on');\n                        _td_c.find('.td-time span.on').click();\n                    }\n\n                    _td_c.find('.td-deg').addClass('td-n');\n                    _td_c.find('.td-select').addClass('td-rubber');\n\n                }\n\n            });\n\n            var _td_init = function(value) {\n\n                var\n                    d = new Date(),\n                    _td_span_h = _td_c.find('.td-time span:first'),\n                    _td_span_m = _td_c.find('.td-time span:last'),\n                    h,\n                    m;\n\n\n\n                if (_td_input.val().length && !_td_options.setCurrentTime) {\n\n                    var reg = /\\d+/g,\n                        am;\n                    var st = _td_input.val().split(':');\n\n                    if (st) {\n\n                        h = st[0].match(reg);\n                        m = st[1].match(reg);\n                        if (_td_input.val().indexOf(\"am\") != -1 || _td_input.val().indexOf(\"AM\") != -1 || _td_input.val().indexOf(\"pm\") != -1 || _td_input.val().indexOf(\"PM\") != -1) {\n                            if (_td_input.val().indexOf(\"am\") != -1 || _td_input.val().indexOf(\"AM\") != -1) am = true;\n                            else am = false;\n\n                            if (!am) {\n                                if (h < 13) {\n                                    h = parseInt(h) + 12;\n                                    if (h == 24) h = 0;\n                                }\n                            } else if (h == 12) h = 0;\n                        } else if (h == 24) h = 0;\n                    } else {\n\n                        if (!parseInt(_td_span_h.text())) h = _td_num(d.getHours());\n                        else h = _td_num(_td_span_h.text());\n                        if (!parseInt(_td_span_m.text())) m = _td_num(d.getMinutes());\n                        else m = _td_num(_td_span_m.text());\n\n                    }\n\n                } else {\n\n                    if (!parseInt(_td_span_h.text())) h = _td_num(d.getHours());\n                    else h = _td_num(_td_span_h.text());\n                    if (!parseInt(_td_span_m.text())) m = _td_num(d.getMinutes());\n                    else m = _td_num(_td_span_m.text());\n\n                }\n\n                _td_span_h.attr('data-id', h).text(h);\n                _td_span_m.attr('data-id', m).text(m);\n\n                _td_event_deg = Math.round((h * 360 / 23));\n\n                _td_c.find('.td-lancette div:first').css('transform', 'rotate(' + Math.round((m * 360 / 59)) + 'deg)');\n\n                if(_td_options.setCurrentTime) _td_rotation(_td_event_deg);\n                _td_wheel_deg = _td_event_deg;\n                _td_init_deg = -1;\n\n\n            }\n\n            _td_init();\n\n            _td_input.focus(function(e) {\n                e.preventDefault();\n                _td_input.blur();\n            });\n\n            _td_input.click(function(e) {\n\n                clearInterval(_td_event);\n\n                _td_container.removeClass('td-fadeout');\n                _td_container.addClass('td-show').addClass('td-' + _td_options.init_animation);\n                _td_c.css({\n                    'top': (_td_input.offset().top + (_td_input.outerHeight() - 8)),\n                    'left': (_td_input.offset().left + (_td_input.outerWidth() / 2)) - (_td_c.outerWidth() / 2)\n                });\n\n                if (_td_c.hasClass('td-init')) {\n\n                    _td_alert = setInterval(function() {\n                        _td_c.find('.td-select').addClass('td-alert');\n                        setTimeout(function() {\n                            _td_c.find('.td-select').removeClass('td-alert');\n                        }, 1000);\n                    }, 2000);\n\n                    _td_c.removeClass('td-init');\n\n                }\n\n            });\n            _td_overlay.click(function() {\n\n                _td_container.addClass('td-fadeout').removeClass('td-' + _td_options.init_animation);\n                _td_event = setTimeout(function() {\n                    _td_container.removeClass('td-show')\n                }, 300);\n                // trigger change event for ajax listing search\n                _td_input.change();\n\n            });\n            $(window).on('resize', function() {\n\n                _td_define_deg();\n                _td_c.css({\n                    'top': (_td_input.offset().top + (_td_input.outerHeight() - 8)),\n                    'left': (_td_input.offset().left + (_td_input.outerWidth() / 2)) - (_td_c.outerWidth() / 2)\n                });\n            });\n\n        });\n    };\n}(jQuery));\n\n/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n    var registeredInModuleLoader;\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n        registeredInModuleLoader = true;\n    }\n    if (typeof exports === 'object') {\n        module.exports = factory();\n        registeredInModuleLoader = true;\n    }\n    if (!registeredInModuleLoader) {\n        var OldCookies = window.Cookies;\n        var api = window.Cookies = factory();\n        api.noConflict = function () {\n            window.Cookies = OldCookies;\n            return api;\n        };\n    }\n}(function () {\n    function extend () {\n        var i = 0;\n        var result = {};\n        for (; i < arguments.length; i++) {\n            var attributes = arguments[ i ];\n            for (var key in attributes) {\n                result[key] = attributes[key];\n            }\n        }\n        return result;\n    }\n\n    function init (converter) {\n        function api (key, value, attributes) {\n            if (typeof document === 'undefined') {\n                return;\n            }\n\n            // Write\n\n            if (arguments.length > 1) {\n                attributes = extend({\n                    path: '/'\n                }, api.defaults, attributes);\n\n                if (typeof attributes.expires === 'number') {\n                    attributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n                }\n\n                // We're using \"expires\" because \"max-age\" is not supported by IE\n                attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n                try {\n                    var result = JSON.stringify(value);\n                    if (/^[\\{\\[]/.test(result)) {\n                        value = result;\n                    }\n                } catch (e) {}\n\n                value = converter.write ?\n                    converter.write(value, key) :\n                    encodeURIComponent(String(value))\n                        .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n                key = encodeURIComponent(String(key))\n                    .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n                    .replace(/[\\(\\)]/g, escape);\n\n                var stringifiedAttributes = '';\n                for (var attributeName in attributes) {\n                    if (!attributes[attributeName]) {\n                        continue;\n                    }\n                    stringifiedAttributes += '; ' + attributeName;\n                    if (attributes[attributeName] === true) {\n                        continue;\n                    }\n\n                    // Considers RFC 6265 section 5.2:\n                    // ...\n                    // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n                    //     character:\n                    // Consume the characters of the unparsed-attributes up to,\n                    // not including, the first %x3B (\";\") character.\n                    // ...\n                    stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n                }\n\n                return (document.cookie = key + '=' + value + stringifiedAttributes);\n            }\n\n            // Read\n\n            var jar = {};\n            var decode = function (s) {\n                return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n            };\n            // To prevent the for loop in the first place assign an empty array\n            // in case there are no cookies at all.\n            var cookies = document.cookie ? document.cookie.split('; ') : [];\n            var i = 0;\n\n            for (; i < cookies.length; i++) {\n                var parts = cookies[i].split('=');\n                var cookie = parts.slice(1).join('=');\n\n                if (!this.json && cookie.charAt(0) === '\"') {\n                    cookie = cookie.slice(1, -1);\n                }\n\n                try {\n                    var name = decode(parts[0]);\n                    cookie = (converter.read || converter)(cookie, name) ||\n                        decode(cookie);\n\n                    if (this.json) {\n                        try {\n                            cookie = JSON.parse(cookie);\n                        } catch (e) {}\n                    }\n\n                    jar[name] = cookie;\n\n                    if (key === name) {\n                        break;\n                    }\n                } catch (e) {}\n            }\n\n            return key ? jar[key] : jar;\n        }\n\n        api.set = api;\n        api.get = function (key) {\n            return api.call(api, key);\n        };\n        api.getJSON = function (key) {\n            return api.call({\n                json: true\n            }, key);\n        };\n        api.remove = function (key, attributes) {\n            api(key, '', extend(attributes, {\n                expires: -1\n            }));\n        };\n\n        api.defaults = {};\n\n        api.withConverter = init;\n\n        return api;\n    }\n\n    return init(function () {});\n}));\n\n/*\n* jquery-match-height 0.7.2 by @liabru\n* http://brm.io/jquery-match-height/\n* License MIT\n*/\n!function(t){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],t):\"undefined\"!=typeof module&&module.exports?module.exports=t(require(\"jquery\")):t(jQuery)}(function(t){var e=-1,o=-1,n=function(t){return parseFloat(t)||0},a=function(e){var o=1,a=t(e),i=null,r=[];return a.each(function(){var e=t(this),a=e.offset().top-n(e.css(\"margin-top\")),s=r.length>0?r[r.length-1]:null;null===s?r.push(e):Math.floor(Math.abs(i-a))<=o?r[r.length-1]=s.add(e):r.push(e),i=a}),r},i=function(e){var o={\nbyRow:!0,property:\"height\",target:null,remove:!1};return\"object\"==typeof e?t.extend(o,e):(\"boolean\"==typeof e?o.byRow=e:\"remove\"===e&&(o.remove=!0),o)},r=t.fn.matchHeight=function(e){var o=i(e);if(o.remove){var n=this;return this.css(o.property,\"\"),t.each(r._groups,function(t,e){e.elements=e.elements.not(n)}),this}return this.length<=1&&!o.target?this:(r._groups.push({elements:this,options:o}),r._apply(this,o),this)};r.version=\"0.7.2\",r._groups=[],r._throttle=80,r._maintainScroll=!1,r._beforeUpdate=null,\nr._afterUpdate=null,r._rows=a,r._parse=n,r._parseOptions=i,r._apply=function(e,o){var s=i(o),h=t(e),l=[h],c=t(window).scrollTop(),p=t(\"html\").outerHeight(!0),u=h.parents().filter(\":hidden\");return u.each(function(){var e=t(this);e.data(\"style-cache\",e.attr(\"style\"))}),u.css(\"display\",\"block\"),s.byRow&&!s.target&&(h.each(function(){var e=t(this),o=e.css(\"display\");\"inline-block\"!==o&&\"flex\"!==o&&\"inline-flex\"!==o&&(o=\"block\"),e.data(\"style-cache\",e.attr(\"style\")),e.css({display:o,\"padding-top\":\"0\",\n\"padding-bottom\":\"0\",\"margin-top\":\"0\",\"margin-bottom\":\"0\",\"border-top-width\":\"0\",\"border-bottom-width\":\"0\",height:\"100px\",overflow:\"hidden\"})}),l=a(h),h.each(function(){var e=t(this);e.attr(\"style\",e.data(\"style-cache\")||\"\")})),t.each(l,function(e,o){var a=t(o),i=0;if(s.target)i=s.target.outerHeight(!1);else{if(s.byRow&&a.length<=1)return void a.css(s.property,\"\");a.each(function(){var e=t(this),o=e.attr(\"style\"),n=e.css(\"display\");\"inline-block\"!==n&&\"flex\"!==n&&\"inline-flex\"!==n&&(n=\"block\");var a={\ndisplay:n};a[s.property]=\"\",e.css(a),e.outerHeight(!1)>i&&(i=e.outerHeight(!1)),o?e.attr(\"style\",o):e.css(\"display\",\"\")})}a.each(function(){var e=t(this),o=0;s.target&&e.is(s.target)||(\"border-box\"!==e.css(\"box-sizing\")&&(o+=n(e.css(\"border-top-width\"))+n(e.css(\"border-bottom-width\")),o+=n(e.css(\"padding-top\"))+n(e.css(\"padding-bottom\"))),e.css(s.property,i-o+\"px\"))})}),u.each(function(){var e=t(this);e.attr(\"style\",e.data(\"style-cache\")||null)}),r._maintainScroll&&t(window).scrollTop(c/p*t(\"html\").outerHeight(!0)),\nthis},r._applyDataApi=function(){var e={};t(\"[data-match-height], [data-mh]\").each(function(){var o=t(this),n=o.attr(\"data-mh\")||o.attr(\"data-match-height\");n in e?e[n]=e[n].add(o):e[n]=o}),t.each(e,function(){this.matchHeight(!0)})};var s=function(e){r._beforeUpdate&&r._beforeUpdate(e,r._groups),t.each(r._groups,function(){r._apply(this.elements,this.options)}),r._afterUpdate&&r._afterUpdate(e,r._groups)};r._update=function(n,a){if(a&&\"resize\"===a.type){var i=t(window).width();if(i===e)return;e=i;\n}n?o===-1&&(o=setTimeout(function(){s(a),o=-1},r._throttle)):s(a)},t(r._applyDataApi);var h=t.fn.on?\"on\":\"bind\";t(window)[h](\"load\",function(t){r._update(!1,t)}),t(window)[h](\"resize orientationchange\",function(t){r._update(!0,t)})});\n\n\n//flatWeatherJqueryPlugin min\n//2017-05-25 v1.3\n! function(t, e, s, a) {\n    function i(e, s) {\n        this.element = e, this.settings = t.extend({}, p, s), this.settings.units && \"auto\" != this.settings.units || (this.settings.units = -1 == [\"united states\", \"usa\", \"united states of america\", \"us\"].indexOf(this.settings.country.toLowerCase()) ? \"metric\" : \"imperial\"), this.settings.forecast = Math.min(this.settings.forecast, 39), \"wunderground\" == this.settings.api && (this.settings.forecast = Math.min(this.settings.forecast, 3)), this._name = c, this.once = !1, this.init()\n    }\n\n    function parseWeatherResult(t, e) {\n        // console.log(t)\n        // console.log(e)\n        var s = {};\n        var c;\n        if (\"openweathermap\" == e.api) {\n\n            if(t.name != null && t.name != ''){\n                // for current weather\n                s.city = t.name\n                s.location = t.name + \", \" + t.sys.country\n                s.today = {}\n                s.today.temp = {}\n                s.today.temp.now = Math.round(t.main.temp), \n                s.today.temp.min = Math.round(t.main.temp_min), \n                s.today.temp.max = Math.round(t.main.temp_max), \n                s.today.desc = t.weather[0].description.capitalize(), \n                s.today.code = t.weather[0].id, \n                s.today.wind = t.wind, \n                s.today.humidity = t.main.humidity, \n                s.today.pressure = t.main.pressure, \n                s.today.sunrise = r(t.sys.sunrise , e.timeformat), \n                s.today.sunset = r(t.sys.sunset, e.timeformat), \n                s.today.day = n(new Date, e.strings.days), \n\n                s.forecast = []\n            }else{\n                s.city = t.city.name\n                s.location = t.city.name + \", \" + t.city.country\n                s.today = {}\n                s.today.temp = {}\n                let today = t.list[0]\n                s.today.temp.now = Math.round(today.main.temp), \n                s.today.temp.min = Math.round(today.main.temp_min), \n                s.today.temp.max = Math.round(today.main.temp_max), \n                s.today.desc = today.weather[0].description.capitalize(), \n                s.today.code = today.weather[0].id, \n                s.today.wind = today.wind, \n                s.today.humidity = today.main.humidity, \n                s.today.pressure = today.main.pressure, \n                s.today.sunrise = r(null, e.timeformat), \n                s.today.sunset = r(null, e.timeformat), \n                s.today.day = n(new Date, e.strings.days), \n\n                s.forecast = []\n                let forecast_arr = []\n                for(c = 0; c < t.list.length; c++){\n                    if(t.list[c].dt != undefined && Array.isArray(t.list)) {\n                        // console.log(t.list[c].dt)\n                        let dt = new Date(1e3 * (t.list[c].dt));\n                        // console.log(dt)\n                        // console.log(dt.getDay())\n                        if(forecast_arr[dt.getDay()] == null){\n                            forecast_arr[dt.getDay()] = {}\n                            forecast_arr[dt.getDay()].day = n(dt, e.strings.days)\n                            forecast_arr[dt.getDay()].main = [t.list[c].weather[0].main]\n                            forecast_arr[dt.getDay()].code = [t.list[c].weather[0].id]\n                            forecast_arr[dt.getDay()].icon = [t.list[c].weather[0].icon]\n                            forecast_arr[dt.getDay()].desc = [t.list[c].weather[0].desc]\n                            forecast_arr[dt.getDay()].min = [Math.round(t.list[c].main.temp_min)]\n                            forecast_arr[dt.getDay()].max = [Math.round(t.list[c].main.temp_max)]\n                        }else{\n\n\n                            forecast_arr[dt.getDay()].main.push(t.list[c].weather[0].main)\n                            forecast_arr[dt.getDay()].code.push(t.list[c].weather[0].id)\n                            forecast_arr[dt.getDay()].icon.push(t.list[c].weather[0].icon)\n                            forecast_arr[dt.getDay()].desc.push(t.list[c].weather[0].desc)\n                            forecast_arr[dt.getDay()].min.push(Math.round(t.list[c].main.temp_min))\n                            forecast_arr[dt.getDay()].max.push(Math.round(t.list[c].main.temp_max))\n                        }\n                    }\n                }\n\n                // console.log(forecast_arr)\n\n                if(forecast_arr.length){\n                    forecast_arr.forEach((dval, index )=> {\n                        // console.log(index)\n                        (p = {}).day = dval.day, \n                        p.main = dval.main[0], \n                        p.code = dval.code[0], \n                        p.icon = dval.icon[0], \n                        p.desc = dval.desc[0], \n                        p.temp = {\n                            max: Math.max.apply(null, dval.max),\n                            min: Math.min.apply(null, dval.min)\n                        }\n                        s.forecast.push(p)\n                    })\n                    // console.log(s.forecast)\n                }\n\n\n\n                // for(c = 0; c < e.forecast; c++){\n                //     (p = {}).day = n(new Date(1e3 * (t.list[c].dt)), e.strings.days), \n                //     p.main = t.list[c].weather[0].main, \n                //     p.code = t.list[c].weather[0].id, \n                //     p.icon = t.list[c].weather[0].icon, \n                //     p.desc = t.list[c].weather[0].description.capitalize(), \n                //     p.temp = {\n                //         max: Math.round(t.list[c].main.temp_max),\n                //         min: Math.round(t.list[c].main.temp_min)\n                //     }\n\n                    \n                //     forecast_arr.push(p)\n                // }\n                // s.forecast = remove_duplicates_es6(forecast_arr)\n                // console.log(s.forecast)\n                // console.log(remove_duplicates_es6(forecast_arr))\n\n            }\n\n            \n\n\n            // \"\" != t[0].name ? (s.location = t[0].name + \", \" + t[0].sys.country, s.city = t[0].name) : \"\" != t[1].city.name ? (s.location = t[1].city.name + \", \" + t[1].city.country, s.city = t[1].city.name) : (s.location = e.location + \", \" + e.country, s.city = e.location), s.today = {}, s.today.temp = {}, s.today.temp.now = Math.round(t[0].main.temp), s.today.temp.min = Math.round(t[0].main.temp_min), s.today.temp.max = Math.round(t[0].main.temp_max), s.today.desc = t[0].weather[0].description.capitalize(), s.today.code = t[0].weather[0].id, s.today.wind = t[0].wind, s.today.humidity = t[0].main.humidity, s.today.pressure = t[0].main.pressure, s.today.sunrise = r(t[0].sys.sunrise, e.timeformat), s.today.sunset = r(t[0].sys.sunset, e.timeformat), s.today.day = n(new Date, e.strings.days), s.forecast = [];\n            // for(c = 0; c <= e.forecast; c++)(p = {}).day = n(new Date(1e3 * (t[1].list[c].dt)), e.strings.days), p.code = t[1].list[c].weather[0].id, p.desc = t[1].list[c].weather[0].description.capitalize(), p.temp = {\n            //     max: Math.round(t[1].list[c].main.temp_max),\n            //     min: Math.round(t[1].list[c].main.temp_min)\n            // }\n\n            // s.forecast.push(p)\n\n        } else if (\"yahoo\" == e.api) {\n            a = {\n                0: \"900\",\n                1: \"901\",\n                2: \"902\",\n                3: \"212\",\n                4: \"200\",\n                5: \"616\",\n                6: \"612\",\n                7: \"611\",\n                8: \"511\",\n                9: \"301\",\n                10: \"511\",\n                11: \"521\",\n                12: \"521\",\n                13: \"600\",\n                14: \"615\",\n                15: \"601\",\n                16: \"601\",\n                17: \"906\",\n                18: \"611\",\n                19: \"761\",\n                20: \"741\",\n                21: \"721\",\n                22: \"711\",\n                23: \"956\",\n                24: \"954\",\n                25: \"903\",\n                26: \"802\",\n                27: \"802\",\n                28: \"802\",\n                29: \"802\",\n                30: \"802\",\n                31: \"800\",\n                32: \"800\",\n                33: \"951\",\n                34: \"951\",\n                35: \"906\",\n                36: \"904\",\n                37: \"210\",\n                38: \"210\",\n                39: \"210\",\n                40: \"521\",\n                41: \"602\",\n                42: \"621\",\n                43: \"602\",\n                44: \"802\",\n                45: \"201\",\n                46: \"621\",\n                47: \"210\",\n                3200: \"951\"\n            };\n            t = t.query.results.channel, s.location = t.location.city + \", \" + t.location.country, s.city = t.location.city, s.today = {}, s.today.temp = {}, s.today.temp.now = Math.round(t.item.condition.temp), s.today.temp.min = Math.round(t.item.forecast[0].low), s.today.temp.max = Math.round(t.item.forecast[0].high), s.today.desc = t.item.condition.text.capitalize(), s.today.code = a[t.item.condition.code], s.today.wind = {}, s.today.wind.speed = t.wind.speed, s.today.wind.deg = t.wind.direction, s.today.humidity = t.atmosphere.humidity, s.today.pressure = t.atmosphere.pressure, \"12\" == e.timeformat ? (s.today.sunrise = t.astronomy.sunrise.toUpperCase(), s.today.sunset = t.astronomy.sunset.toUpperCase()) : (s.today.sunrise = 0 + t.astronomy.sunrise.match(/\\d+/)[0] + t.astronomy.sunrise.match(/:\\d+/)[0], s.today.sunset = parseInt(t.astronomy.sunset.match(/\\d+/)[0]) + 12 + t.astronomy.sunset.match(/:\\d+/)[0]), s.today.day = n(new Date, e.strings.days), s.forecast = [];\n            for (c = 0; c < e.forecast; c++)(p = {}).day = n(new Date(t.item.forecast[c].date), e.strings.days), p.code = a[t.item.forecast[c].code], p.desc = t.item.forecast[c].text.capitalize(), p.temp = {\n                max: Math.round(t.item.forecast[c].high),\n                min: Math.round(t.item.forecast[c].low)\n            }, s.forecast.push(p)\n        } else if (\"wunderground\" == e.api) {\n            var a = {\n                chanceflurries: \"600\",\n                chancerain: \"500\",\n                chancesleet: \"611\",\n                chancesnow: \"600\",\n                chancetstorms: \"200\",\n                clear: \"800\",\n                cloudy: \"802\",\n                flurries: \"600\",\n                fog: \"741\",\n                hazy: \"721\",\n                mostlycloudy: \"802\",\n                mostlysunny: \"802\",\n                partlycloudy: \"802\",\n                partlysunny: \"802\",\n                sleet: \"611\",\n                rain: \"501\",\n                snow: \"601\",\n                sunny: \"800\",\n                tstorms: \"211\",\n                unknown: \"951\"\n            };\n            s.location = t.current_observation.display_location.full, s.city = t.current_observation.display_location.city, s.today = {}, s.today.temp = {}, \"metric\" == e.units ? (s.today.temp.now = Math.round(t.current_observation.temp_c), s.today.temp.min = Math.round(t.forecast.simpleforecast.forecastday[0].low.celsius), s.today.temp.max = Math.round(t.forecast.simpleforecast.forecastday[0].high.celsius)) : (s.today.temp.now = Math.round(t.current_observation.temp_f), s.today.temp.min = Math.round(t.forecast.simpleforecast.forecastday[0].low.fahrenheit), s.today.temp.max = Math.round(t.forecast.simpleforecast.forecastday[0].high.fahrenheit)), s.today.desc = t.current_observation.weather, s.today.code = a[t.current_observation.icon], s.today.wind = {}, \"metric\" == e.units ? s.today.wind.speed = t.current_observation.wind_kph : s.today.wind.speed = t.current_observation.wind_mph, s.today.wind.deg = t.current_observation.wind_degrees, s.today.humidity = t.current_observation.relative_humidity, \"metric\" == e.units ? s.today.pressure = t.current_observation.pressure_mb : s.today.pressure = t.current_observation.pressure_in;\n            var i = t.sun_phase.sunrise.minute,\n                o = t.sun_phase.sunset.minute;\n            if (\"12\" == e.timeformat) {\n                s.today.sunrise = t.sun_phase.sunrise.hour + \":\" + i + \" AM\";\n                var d = t.sun_phase.sunset.hour % 12;\n                d = d || 12, s.today.sunset = d + \":\" + o + \" PM\"\n            } else s.today.sunrise = t.sun_phase.sunrise.hour + \":\" + i, s.today.sunset = t.sun_phase.sunset.hour + \":\" + o;\n            s.today.day = n(new Date, e.strings.days), s.forecast = [];\n            for (var c = 0; c < e.forecast + 1; c++) {\n                var p = {};\n                p.day = n(new Date(1e3 * t.forecast.simpleforecast.forecastday[c].date.epoch), e.strings.days), p.code = a[t.forecast.simpleforecast.forecastday[c].icon], p.desc = t.forecast.simpleforecast.forecastday[c].conditions, \"metric\" == e.units ? p.temp = {\n                    max: Math.round(t.forecast.simpleforecast.forecastday[c].high.celsius),\n                    min: Math.round(t.forecast.simpleforecast.forecastday[c].low.celsius)\n                } : p.temp = {\n                    max: Math.round(t.forecast.simpleforecast.forecastday[c].high.fahrenheit),\n                    min: Math.round(t.forecast.simpleforecast.forecastday[c].low.fahrenheit)\n                }, s.forecast.push(p)\n            }\n        }\n        return s\n    }\n\n    function n(t, e) {\n        return e[t.getDay()]\n    }\n    function remove_duplicates_es6(arr) {\n        // let s = new Set(arr);\n        // let it = s.values();\n        // return Array.from(it);\n        let unique_array = []\n        // for(let i = 0;i < arr.length; i++){\n        //     if(unique_array.indexOf(arr[i]) == -1){\n        //         unique_array.push(arr[i])\n        //     }\n        // }\n        arr.map((item,key)=> unique_array[item.day] = item)\n        return unique_array\n    }\n    function r(t, e) {\n        if(t == null) return false\n        var s = (t = new Date(1e3 * t)).getHours(),\n            a = t.getMinutes(),\n            i = s >= 12 ? \"PM\" : \"AM\";\n        return \"24\" == e && (i = \"\", s = s < 10 ? \"0\" + s : s), \"12\" == e && (s %= 12), (s = s || 12) + \":\" + (a = a < 10 ? \"0\" + a : a) + \" \" + i\n    }\n\n    function d(t, e, s, a) {\n        var i = e;\n        return i >= 0 && i <= 11.25 || i > 348.75 && i <= 360 ? i = a[0] : i > 11.25 && i <= 33.75 ? i = a[1] : i > 33.75 && i <= 56.25 ? i = a[2] : i > 56.25 && i <= 78.75 ? i = a[3] : i > 78.75 && i <= 101.25 ? i = a[4] : i > 101.25 && i <= 123.75 ? i = a[5] : i > 123.75 && i <= 146.25 ? i = a[6] : i > 146.25 && i <= 168.75 ? i = a[7] : i > 168.75 && i <= 191.25 ? i = a[8] : i > 191.25 && i <= 213.75 ? i = a[9] : i > 213.75 && i <= 236.25 ? i = a[10] : i > 236.25 && i <= 258.75 ? i = a[11] : i > 258.75 && i <= 281.25 ? i = a[12] : i > 281.25 && i <= 303.75 ? i = a[13] : i > 303.75 && i <= 326.25 ? i = a[14] : i > 326.25 && i <= 348.75 && (i = a[15]), i || (i = \"\"), i + \" \" + t + \" \" + (\"metric\" == s ? \"km/h\" : \"mph\")\n    }\n    var c = \"flatWeatherPlugin\",\n        p = {\n            location: \"Boston, MA\",\n            country: \"USA\",\n            zmw: \"02108.1.99999\",\n            displayCityNameOnly: !1,\n            api: \"openweathermap\",\n            forecast: 50,\n            apikey: \"\",\n            view: \"full\",\n            render: !0,\n            loadingAnimation: !0,\n            strings: {\n                days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n                min: \"Min\",\n                max: \"Max\",\n                direction: [\"N\", \"NNE\", \"NE\", \"ENE\", \"E\", \"ESE\", \"SE\", \"SSE\", \"S\", \"SSW\", \"SW\", \"WSW\", \"W\", \"WNW\", \"NW\", \"NNW\"]\n            },\n            timeformat: \"12\",\n            lang: \"EN\",\n            units: \"metric\",\n        },\n        l = {\n            // openweathermap: [\"http://api.openweathermap.org/data/2.5/weather\", \"http://api.openweathermap.org/data/2.5/forecast/daily\"],\n            openweathermap: [\"https://api.openweathermap.org/data/2.5/weather\", \"https://api.openweathermap.org/data/2.5/forecast\"],\n            yahoo: [\"https://query.yahooapis.com/v1/public/yql\"],\n            wunderground: [\"https://api.wunderground.com/api/apikey/conditions/forecast/astronomy/\"]\n        };\n    t.extend(i.prototype, {\n        init: function() {\n            this.settings.render && (this.settings.loadingAnimation && !this.once && (this.loading = t(\"<div/>\", {\n                id: \"flatWeatherLoading\",\n                class: \"wi loading\"\n            }), this.loading.appendTo(this.element)), this.fetchWeather().then(this.render, this.error)), this.once = !0\n        },\n        fetchWeather: function() {\n            // console.log(this)\n            var e = this,\n                s = new t.Deferred,\n                a = [],\n                i = this.settings.location + (this.settings.country != null && this.settings.country !='' ? ','+this.settings.country : '')\n                \n            \n\n            // apiPath: _townhub_add_ons.url,\n            // action: 'townhub_get_tweets',\n            // _townhub_add_ons.nonce; // _wpnonce\n\n            let ajaxData = {\n                    action: 'fetch_weather', \n                    // _wpnonce: _townhub_add_ons.nonce, \n                    location: i,\n                    view: this.settings.view\n                }\n            if(this.settings.lat != null && this.settings.lon != null && this.settings.lat && this.settings.lon ){\n                ajaxData['lat'] = this.settings.lat\n                ajaxData['lon'] = this.settings.lon\n            }\n            let d =  t.ajax({\n                type: \"POST\",\n                url: _townhub_add_ons.url,\n                data: ajaxData,\n                // success: success,\n                dataType: \"json\",\n            })\n            // .done(function(res) {\n            //     console.log( res );\n            //     console.log( \"second success\" );\n            // })\n            // .fail(function() {\n            //     console.log( \"error\" );\n            // })\n            // .always(function() {\n            //     console.log( \"complete\" );\n            // });\n\n            return t.when.call(this, d).done(function(res) {\n                // console.log(res)\n                if(res.success == true){\n                    let result = res.result\n                    if(result.cod == '200'){\n                        let i = parseWeatherResult(result, e.settings);\n                        // console.log(i)\n                        e._weather = i\n                        t.data(e.element, \"weather\", i)\n                        s.resolve(i, e)\n                    }else{\n                        s.reject(result, e)\n                    }\n                }else{\n                    // ajax request error -> not return data\n                    s.reject(res, e)\n                }\n\n            }).fail(function(t) {\n                s.reject(t, e)\n            }), s\n\n\n\n            // if (\"openweathermap\" == this.settings.api) {\n            //     var n = {};\n            //     // this.settings.lat && this.settings.lon ? (n.lat = this.settings.lat, n.lon = this.settings.lon) : n.q = i, n.units = this.settings.units, this.settings.apikey && (n.appid = this.settings.apikey), this.settings.lang && (n.lang = this.settings.lang), a.push(n), n.cnt = this.settings.forecast + 1, a.push(n)\n            //     this.settings.lat && this.settings.lon ? (n.lat = this.settings.lat, n.lon = this.settings.lon) : n.q = i, n.units = this.settings.units, this.settings.apikey && (n.appid = this.settings.apikey), this.settings.lang && (n.lang = this.settings.lang), a.push(n), n.cnt = this.settings.forecast + 1, a.push(n)\n            // } else if (\"yahoo\" == this.settings.api) {\n            //     var r = \"metric\" == this.settings.units ? \"c\" : \"f\";\n            //     (n = {}).q = \"select * from weather.forecast where woeid in (select woeid from geo.places(1) where text='\" + i + \"') AND u='\" + r + \"'\", n.env = \"store://datatables.org/alltableswithkeys\", n.format = \"json\", this.settings.lang && (n.language = this.settings.lang), a.push(n)\n\n            // } else \"wunderground\" == this.settings.api && (l[this.settings.api][0] = l[this.settings.api][0].replace(/apikey/, this.settings.apikey));\n            // for (var d = [], c = 0; c < l[this.settings.api].length; c++) \"wunderground\" == this.settings.api ? d.push(t.get(l[this.settings.api][c] + \"lang:\" + this.settings.lang + \"/q/zmw:\" + this.settings.zmw + \".json\")) : d.push(t.get(l[this.settings.api][c], a[c]));\n            // return t.when.apply(this, d).done(function() {\n            //     var a = Array.prototype.slice.call(arguments);\n            //     if (a = d.length > 1 ? a.map(function(t) {\n            //             return t[0]\n            //         }) : a[0], \"openweathermap\" != e.settings.api || \"200\" == a[0].cod && \"200\" == a[1].cod)\n            //         if (\"yahoo\" != e.settings.api || 0 != a.query.count && \"Yahoo! Weather Error\" != a.query.results.channel.description)\n            //             if (\"wunderground\" == e.settings.api && a.response && a.response.error) console.log(\"Error interacting with the wunderground api see error object below for details:\"), console.log(a), s.reject(a, e);\n            //             else {\n            //                 var i = parseWeatherResult(a, e.settings);\n            //                 console.log(i)\n            //                 e._weather = i, t.data(e.element, \"weather\", i), s.resolve(i, e)\n\n            //                 console.log(s.resolve)\n\n            //             } else console.log(\"Error interacting with the yahoo api see error object below for details:\"), console.log(a), s.reject(a, e);\n            //     else console.log(\"Error interacting with the openweathermap api see error object below for details:\"), console.log(a), s.reject(a, e)\n\n            // }).fail(function(t) {\n            //     s.reject(t, e)\n            // }), s\n\n        },\n        error: function(e, s) {\n            // console.log(e)\n\n            s || (s = this), s.settings.loadingAnimation && s.settings.render && s.loading.remove(), \"openweathermap\" == s.settings.api ? e = null != e.error ? e.error : 'Weather request error. Please make sure that your api is entered.' : \"yahoo\" == s.settings.api ? e = e.query.results ? \"Error: \" + e.query.results.channel.item.title + \". See console log for details.\" : \"Error: no results. See console log for details.\" : \"wunderground\" == s.settings.api && (e = e.response.error.type + \" See console log for details.\");\n            var a = t(\"<div/>\", {\n                class: \"flatWeatherPlugin \" + s.settings.view\n            });\n            return t(\"<h2/>\").text(\"Error\").appendTo(a), t(\"<p/>\").text(e).appendTo(a), t(s.element).html(a), t(s.element)\n        },\n        render: function(e, s) {\n            s || (s = this, e = this._weather);\n            var a = \"metric\" == s.settings.units ? \"&#176;C\" : \"&#176;F\";\n            s.settings.loadingAnimation && s.settings.render && s.loading.remove();\n            var i = t(\"<div/>\", {\n                class: \"flatWeatherPlugin \" + s.settings.view\n            });\n            if (s.settings.displayCityNameOnly ? t(\"<h2/>\").text(e.city).appendTo(i) : t(\"<h2/>\").text(e.location).appendTo(i), \"forecast\" != s.settings.view) {\n                var o = t(\"<div/>\", {\n                        class: \"wiToday\"\n                    }),\n                    n = t(\"<div/>\", {\n                        class: \"wiIconGroup\"\n                    });\n                t(\"<div/>\", {\n                    class: \"wi wi\" + e.today.code\n                }).appendTo(n), t(\"<p/>\", {\n                    class: \"wiText\"\n                }).text(e.today.desc).appendTo(n), n.appendTo(o), t(\"<p/>\", {\n                    class: \"wiTemperature\"\n                }).html(e.today.temp.now + \"<sup>\" + a + \"</sup>\").prependTo(o), o.appendTo(i)\n            }\n            if (\"simple\" != s.settings.view) {\n                var r = t(\"<div/>\", {\n                    class: \"wiDetail\"\n                });\n                if (\"partial\" == s.settings.view && t(\"<p/>\", {\n                        class: \"wiDay\"\n                    }).text(e.today.day).appendTo(o), \"partial\" != s.settings.view) {\n                    \"today\" != s.settings.view && t(\"<p/>\", {\n                        class: \"wiDay\"\n                    }).text(e.today.day).appendTo(r);\n                    var c = t(\"<ul/>\", {\n                        class: \"astronomy\"\n                    }).appendTo(r);\n                    e.today.sunrise && t(\"<li/>\", {\n                        class: \"wi sunrise\"\n                    }).text(e.today.sunrise).appendTo(c);\n                    e.today.sunset && t(\"<li/>\", {\n                        class: \"wi sunset\"\n                    }).text(e.today.sunset).appendTo(c);\n                    var p = t(\"<ul/>\", {\n                        class: \"temp\"\n                    }).appendTo(r);\n                    t(\"<li/>\").html(s.settings.strings.max + \": \" + e.today.temp.max + \"<sup>\" + a + \"</sup>\").appendTo(p), t(\"<li/>\").html(s.settings.strings.min + \": \" + e.today.temp.min + \"<sup>\" + a + \"</sup>\").appendTo(p);\n                    var l = t(\"<ul/>\", {\n                        class: \"atmosphere\"\n                    }).appendTo(r);\n                    t(\"<li/>\", {\n                        class: \"wi humidity\"\n                    }).text(e.today.humidity).appendTo(l), t(\"<li/>\", {\n                        class: \"wi pressure\"\n                    }).text(e.today.pressure).appendTo(l), t(\"<li/>\", {\n                        class: \"wi wind\"\n                    }).text(d(e.today.wind.speed, e.today.wind.deg, s.settings.units, s.settings.strings.direction)).appendTo(l), r.appendTo(o)\n                }\n                if (\"today\" != s.settings.view || \"forecast\" == s.settings.view) {\n                    for (var u = t(\"<ul/>\", {\n                            class: \"wiForecasts\"\n                        }), h = \"forecast\" == s.settings.view ? 0 : 1; h < e.forecast.length; h++) {\n                        var m = t(\"<li/>\", {\n                                class: \"wiDay\"\n                            }).html(\"<span>\" + e.forecast[h].day + \"</span>\").appendTo(u),\n                            y = t(\"<ul/>\", {\n                                class: \"wiForecast\"\n                            }).appendTo(m);\n                        t(\"<li/>\", {\n                            class: \"wi wi\" + e.forecast[h].code\n                        }).appendTo(y), t(\"<li/>\", {\n                            class: \"wiMax\"\n                        }).html(e.forecast[h].temp.max + \"<sup>\" + a + \"</sup>\").appendTo(y), t(\"<li/>\", {\n                            class: \"wiMin\"\n                        }).html(e.forecast[h].temp.min + \"<sup>\" + a + \"</sup>\").appendTo(y)\n                    }\n                    u.appendTo(i)\n                }\n            }\n            return t(s.element).html(i), t(s.element)\n        }\n    }), t.fn[c] = function(e, s) {\n        return t.isFunction(i.prototype[e]) ? this.data(\"plugin_\" + c)[e](s) : this.each(function() {\n            if (!t.data(this, \"plugin_\" + c)) {\n                var s = new i(this, e);\n                return t.data(this, \"plugin_\" + c, s)\n            }\n        })\n    }, String.prototype.capitalize = function() {\n        return this.charAt(0).toUpperCase() + this.slice(1)\n    }\n}(jQuery, window, document);\n// action and filter javascript\n\n(function($, window, document) {\n    if ( typeof window.CTH_FILTERS === 'undefined' ) {\n      // List of filters\n      window.CTH_FILTERS = {};\n\n      // List of actions\n      window.CTH_ACTIONS = {};\n\n      /**\n       * Used to add an action or filter. Internal use only.\n       *\n       * @param {string}   type             Type of hook, 'action' or 'filter'.\n       * @param {string}   tag              Name of action or filter.\n       * @param {Function} function_to_add  Function hook.\n       * @param {integer}  priority         Priority.\n       *\n       * @since 1.6.1\n       */\n      window._cth_add = function( type, tag, function_to_add, priority )\n      {\n        var lists = ( 'filter' == type ) ? CTH_FILTERS : CTH_ACTIONS;\n\n        // Defaults\n        priority = ( priority || 10 );\n\n        if( !( tag in lists ) ) {\n          lists[ tag ] = [];\n        }\n\n        if( !( priority in lists[ tag ] ) ) {\n          lists[ tag ][ priority ] = [];\n        }\n\n        lists[ tag ][ priority ].push( {\n          func : function_to_add,\n          pri  : priority\n        } );\n\n      };\n\n      /**\n       * Hook a function or method to a specific filter action.\n       *\n       * CTH offers filter hooks to allow plugins to modify various types of internal data at runtime in a similar\n       * way as php `add_filter()`\n       *\n       * The following example shows how a callback function is bound to a filter hook.\n       * Note that $example is passed to the callback, (maybe) modified, then returned:\n       *\n       * <code>\n       * function example_callback( example ) {\n       *    // Maybe modify $example in some way\n       *    return example;\n       * }\n       * add_filter( 'example_filter', example_callback );\n       * </code>\n       *\n       * @param {string}   tag             The name of the filter to hook the function_to_add callback to.\n       * @param {Function} function_to_add The callback to be run when the filter is applied.\n       * @param {integer}  priority        Optional. Used to specify the order in which the functions\n       *                                   associated with a particular action are executed. Default 10.\n       *                                   Lower numbers correspond with earlier execution,\n       *                                   and functions with the same priority are executed\n       *                                   in the order in which they were added to the action.\n       * @return {boolean}\n       */\n      window.cth_add_filter = function( tag, function_to_add, priority )\n      {\n        _cth_add( 'filter', tag, function_to_add, priority );\n      };\n\n      /**\n       * Hooks a function on to a specific action.\n       *\n       * Actions are the hooks that the CTH core launches at specific points during execution, or when specific\n       * events occur. Plugins can specify that one or more of its Javascript functions are executed at these points,\n       * using the Action API.\n       *\n       * @since 1.6.1\n       *\n       * @uses _cth_add() Adds an action. Parameter list and functionality are the same.\n       *\n       * @param {string}   tag             The name of the action to which the $function_to_add is hooked.\n       * @param {Function} function_to_add The name of the function you wish to be called.\n       * @param {integer}  priority        Optional. Used to specify the order in which the functions associated with a\n       *                                   particular action are executed. Default 10.\n       *                                   Lower numbers correspond with earlier execution, and functions with the same\n       *                                   priority are executed in the order in which they were added to the action.\n       *\n       * @return bool Will always return true.\n       */\n      window.cth_add_action = function( tag, function_to_add, priority )\n      {\n        _cth_add( 'action', tag, function_to_add, priority );\n      };\n\n      /**\n       * Do an action or apply filters.\n       *\n       * @param {string} type Type of \"do\" to do 'action' or 'filter'.\n       * @param {Array} args Optional. Original list of arguments. This array could be empty for 'action'.\n       * @returns {*}\n       */\n      window._cth_do = function( type, args )\n      {\n        var hook, lists = ( 'action' == type ) ? CTH_ACTIONS : CTH_FILTERS;\n        var tag = args[ 0 ];\n\n        if( !( tag in lists ) ) {\n          return args[ 1 ];\n        }\n\n        // Remove the first argument\n        [].shift.apply( args );\n\n        for( var pri in lists[ tag ] ) {\n\n          hook = lists[ tag ][ pri ];\n\n          if( typeof hook !== 'undefined' ) {\n\n            for( var f in hook ) {\n              var func = hook[ f ].func;\n\n              if( typeof func === \"function\" ) {\n\n                if( 'filter' === type ) {\n                  args[ 0 ] = func.apply( null, args );\n                }\n                else {\n                  func.apply( null, args );\n                }\n              }\n            }\n          }\n        }\n\n        if( 'filter' === type ) {\n          return args[ 0 ];\n        }\n\n      };\n\n      /**\n       * Call the functions added to a filter hook and the filtered value after all hooked functions are applied to it.\n       *\n       * The callback functions attached to filter hook $tag are invoked by calling this function. This function can be\n       * used to create a new filter hook by simply calling this function with the name of the new hook specified using\n       * the tag parameter.\n       *\n       * The function allows for additional arguments to be added and passed to hooks.\n       * <code>\n       * // Our filter callback function\n       * function example_callback( my_string, arg1, arg2 ) {\n       *    // (maybe) modify my_string\n       *    return my_string;\n       * }\n       * cth_add_filter( 'example_filter', example_callback, 10 );\n       *\n       * // Apply the filters by calling the 'example_callback' function we\n       * // \"hooked\" to 'example_filter' using the cth_add_filter() function above.\n       * // - 'example_filter' is the filter hook tag\n       * // - 'filter me' is the value being filtered\n       * // - arg1 and arg2 are the additional arguments passed to the callback.\n       *\n       * var value = cth_apply_filters( 'example_filter', 'filter me', arg1, arg2 );\n       * </code>\n       *\n       * @param {string} tag     The name of the filter hook.\n       * @param {*}      value   The value on which the filters hooked to <tt>tag</tt> are applied on.\n       * @param {...*}   varargs Optional. Additional variables passed to the functions hooked to <tt>tag</tt>.\n       *\n       * @return {*}\n       */\n      window.cth_apply_filters = function( tag, value, varargs )\n      {\n        return _cth_do( 'filter', arguments );\n      };\n\n      /**\n       * Execute functions hooked on a specific action hook.\n       *\n       * This function invokes all functions attached to action hook tag. It is possible to create new action hooks by\n       * simply calling this function, specifying the name of the new hook using the <tt>tag</tt> parameter.\n       *\n       * You can pass extra arguments to the hooks, much like you can with cth_apply_filters().\n       *\n       * @since 1.6.1\n       *\n       * @param {string} tag  The name of the action to be executed.\n       * @param {...*}   args Optional. Additional arguments which are passed on to the functions hooked to the action.\n       *                      Default empty.\n       *\n       */\n      window.cth_do_action = function( tag, args )\n      {\n        _cth_do( 'action', arguments );\n      };\n    }\n\n})(jQuery, window, document);\n// end action and filter javascript\n// function cth_do_add_hooks(){\n//     cth_add_filter('weather_args', (options) => {\n//         console.log(options)\n//         options.timeformat = \"12\"\n//         options.forecast = 2\n//         // options.view = \"simple\" // today, forecast\n//         return options;\n//     } );\n// }\nif(typeof window.cth_do_add_hooks  === \"function\" ) window.cth_do_add_hooks();\n\n/* Notify.js - http://notifyjs.com/ Copyright (c) 2015 MIT */\n(function(e){typeof define==\"function\"&&define.amd?define([\"jquery\"],e):typeof module==\"object\"&&module.exports?module.exports=function(t,n){return n===undefined&&(typeof window!=\"undefined\"?n=require(\"jquery\"):n=require(\"jquery\")(t)),e(n),n}:e(jQuery)})(function(e){function A(t,n,i){typeof i==\"string\"&&(i={className:i}),this.options=E(w,e.isPlainObject(i)?i:{}),this.loadHTML(),this.wrapper=e(h.html),this.options.clickToHide&&this.wrapper.addClass(r+\"-hidable\"),this.wrapper.data(r,this),this.arrow=this.wrapper.find(\".\"+r+\"-arrow\"),this.container=this.wrapper.find(\".\"+r+\"-container\"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr(\"type\"),this.originalElement=t,this.elem=N(t),this.elem.data(r,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(n)}var t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},n=\"notify\",r=n+\"js\",i=n+\"!blank\",s={t:\"top\",m:\"middle\",b:\"bottom\",l:\"left\",c:\"center\",r:\"right\"},o=[\"l\",\"c\",\"r\"],u=[\"t\",\"m\",\"b\"],a=[\"t\",\"b\",\"l\",\"r\"],f={t:\"b\",m:null,b:\"t\",l:\"r\",c:null,r:\"l\"},l=function(t){var n;return n=[],e.each(t.split(/\\W+/),function(e,t){var r;r=t.toLowerCase().charAt(0);if(s[r])return n.push(r)}),n},c={},h={name:\"core\",html:'<div class=\"'+r+'-wrapper\">\\n    <div class=\"'+r+'-arrow\"></div>\\n   <div class=\"'+r+'-container\"></div>\\n</div>',css:\".\"+r+\"-corner {\\n position: fixed;\\n  margin: 5px;\\n  z-index: 1050;\\n}\\n\\n.\"+r+\"-corner .\"+r+\"-wrapper,\\n.\"+r+\"-corner .\"+r+\"-container {\\n  position: relative;\\n   display: block;\\n   height: inherit;\\n  width: inherit;\\n   margin: 3px;\\n}\\n\\n.\"+r+\"-wrapper {\\n   z-index: 1;\\n   position: absolute;\\n   display: inline-block;\\n    height: 0;\\n    width: 0;\\n}\\n\\n.\"+r+\"-container {\\n    display: none;\\n    z-index: 1;\\n   position: absolute;\\n}\\n\\n.\"+r+\"-hidable {\\n    cursor: pointer;\\n}\\n\\n[data-notify-text],[data-notify-html] {\\n    position: relative;\\n}\\n\\n.\"+r+\"-arrow {\\n  position: absolute;\\n   z-index: 2;\\n   width: 0;\\n height: 0;\\n}\"},p={\"border-radius\":[\"-webkit-\",\"-moz-\"]},d=function(e){return c[e]},v=function(e){if(!e)throw\"Missing Style name\";c[e]&&delete c[e]},m=function(t,i){if(!t)throw\"Missing Style name\";if(!i)throw\"Missing Style definition\";if(!i.html)throw\"Missing Style HTML\";var s=c[t];s&&s.cssElem&&(window.console&&console.warn(n+\": overwriting style '\"+t+\"'\"),c[t].cssElem.remove()),i.name=t,c[t]=i;var o=\"\";i.classes&&e.each(i.classes,function(t,n){return o+=\".\"+r+\"-\"+i.name+\"-\"+t+\" {\\n\",e.each(n,function(t,n){return p[t]&&e.each(p[t],function(e,r){return o+=\" \"+r+t+\": \"+n+\";\\n\"}),o+=\"   \"+t+\": \"+n+\";\\n\"}),o+=\"}\\n\"}),i.css&&(o+=\"/* styles for \"+i.name+\" */\\n\"+i.css),o&&(i.cssElem=g(o),i.cssElem.attr(\"id\",\"notify-\"+i.name));var u={},a=e(i.html);y(\"html\",a,u),y(\"text\",a,u),i.fields=u},g=function(t){var n,r,i;r=x(\"style\"),r.attr(\"type\",\"text/css\"),e(\"head\").append(r);try{r.html(t)}catch(s){r[0].styleSheet.cssText=t}return r},y=function(t,n,r){var s;return t!==\"html\"&&(t=\"text\"),s=\"data-notify-\"+t,b(n,\"[\"+s+\"]\").each(function(){var n;n=e(this).attr(s),n||(n=i),r[n]=t})},b=function(e,t){return e.is(t)?e:e.find(t)},w={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:\"bottom\",globalPosition:\"top right\",style:\"bootstrap\",className:\"error\",showAnimation:\"slideDown\",showDuration:400,hideAnimation:\"slideUp\",hideDuration:200,gap:5},E=function(t,n){var r;return r=function(){},r.prototype=t,e.extend(!0,new r,n)},S=function(t){return e.extend(w,t)},x=function(t){return e(\"<\"+t+\"></\"+t+\">\")},T={},N=function(t){var n;return t.is(\"[type=radio]\")&&(n=t.parents(\"form:first\").find(\"[type=radio]\").filter(function(n,r){return e(r).attr(\"name\")===t.attr(\"name\")}),t=n.first()),t},C=function(e,t,n){var r,i;if(typeof n==\"string\")n=parseInt(n,10);else if(typeof n!=\"number\")return;if(isNaN(n))return;return r=s[f[t.charAt(0)]],i=t,e[r]!==undefined&&(t=s[r.charAt(0)],n=-n),e[t]===undefined?e[t]=n:e[t]+=n,null},k=function(e,t,n){if(e===\"l\"||e===\"t\")return 0;if(e===\"c\"||e===\"m\")return n/2-t/2;if(e===\"r\"||e===\"b\")return n-t;throw\"Invalid alignment\"},L=function(e){return L.e=L.e||x(\"div\"),L.e.text(e).html()};A.prototype.loadHTML=function(){var t;t=this.getStyle(),this.userContainer=e(t.html),this.userFields=t.fields},A.prototype.show=function(e,t){var n,r,i,s,o;r=function(n){return function(){!e&&!n.elem&&n.destroy();if(t)return t()}}(this),o=this.container.parent().parents(\":hidden\").length>0,i=this.container.add(this.arrow),n=[];if(o&&e)s=\"show\";else if(o&&!e)s=\"hide\";else if(!o&&e)s=this.options.showAnimation,n.push(this.options.showDuration);else{if(!!o||!!e)return r();s=this.options.hideAnimation,n.push(this.options.hideDuration)}return n.push(r),i[s].apply(i,n)},A.prototype.setGlobalPosition=function(){var t=this.getPosition(),n=t[0],i=t[1],o=s[n],u=s[i],a=n+\"|\"+i,f=T[a];if(!f||!document.body.contains(f[0])){f=T[a]=x(\"div\");var l={};l[o]=0,u===\"middle\"?l.top=\"45%\":u===\"center\"?l.left=\"45%\":l[u]=0,f.css(l).addClass(r+\"-corner\"),e(\"body\").append(f)}return f.prepend(this.wrapper)},A.prototype.setElementPosition=function(){var n,r,i,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,L,A,O,M,_,D,P,H,B,j;H=this.getPosition(),_=H[0],O=H[1],M=H[2],g=this.elem.position(),d=this.elem.outerHeight(),y=this.elem.outerWidth(),v=this.elem.innerHeight(),m=this.elem.innerWidth(),j=this.wrapper.position(),c=this.container.height(),h=this.container.width(),T=s[_],L=f[_],A=s[L],p={},p[A]=_===\"b\"?d:_===\"r\"?y:0,C(p,\"top\",g.top-j.top),C(p,\"left\",g.left-j.left),B=[\"top\",\"left\"];for(w=0,S=B.length;w<S;w++)D=B[w],N=parseInt(this.elem.css(\"margin-\"+D),10),N&&C(p,D,N);b=Math.max(0,this.options.gap-(this.options.arrowShow?i:0)),C(p,A,b);if(!this.options.arrowShow)this.arrow.hide();else{i=this.options.arrowSize,r=e.extend({},p),n=this.userContainer.css(\"border-color\")||this.userContainer.css(\"border-top-color\")||this.userContainer.css(\"background-color\")||\"white\";for(E=0,x=a.length;E<x;E++){D=a[E],P=s[D];if(D===L)continue;l=P===T?n:\"transparent\",r[\"border-\"+P]=i+\"px solid \"+l}C(p,s[L],i),t.call(a,O)>=0&&C(r,s[O],i*2)}t.call(u,_)>=0?(C(p,\"left\",k(O,h,y)),r&&C(r,\"left\",k(O,i,m))):t.call(o,_)>=0&&(C(p,\"top\",k(O,c,d)),r&&C(r,\"top\",k(O,i,v))),this.container.is(\":visible\")&&(p.display=\"block\"),this.container.removeAttr(\"style\").css(p);if(r)return this.arrow.removeAttr(\"style\").css(r)},A.prototype.getPosition=function(){var e,n,r,i,s,f,c,h;h=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),e=l(h),e.length===0&&(e[0]=\"b\");if(n=e[0],t.call(a,n)<0)throw\"Must be one of [\"+a+\"]\";if(e.length===1||(r=e[0],t.call(u,r)>=0)&&(i=e[1],t.call(o,i)<0)||(s=e[0],t.call(o,s)>=0)&&(f=e[1],t.call(u,f)<0))e[1]=(c=e[0],t.call(o,c)>=0)?\"m\":\"l\";return e.length===2&&(e[2]=e[1]),e},A.prototype.getStyle=function(e){var t;e||(e=this.options.style),e||(e=\"default\"),t=c[e];if(!t)throw\"Missing style: \"+e;return t},A.prototype.updateClasses=function(){var t,n;return t=[\"base\"],e.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),n=this.getStyle(),t=e.map(t,function(e){return r+\"-\"+n.name+\"-\"+e}).join(\" \"),this.userContainer.attr(\"class\",t)},A.prototype.run=function(t,n){var r,s,o,u,a;e.isPlainObject(n)?e.extend(this.options,n):e.type(n)===\"string\"&&(this.options.className=n);if(this.container&&!t){this.show(!1);return}if(!this.container&&!t)return;s={},e.isPlainObject(t)?s=t:s[i]=t;for(o in s){r=s[o],u=this.userFields[o];if(!u)continue;u===\"text\"&&(r=L(r),this.options.breakNewLines&&(r=r.replace(/\\n/g,\"<br/>\"))),a=o===i?\"\":\"=\"+o,b(this.userContainer,\"[data-notify-\"+u+a+\"]\").html(r)}this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))},A.prototype.destroy=function(){this.wrapper.data(r,null),this.wrapper.remove()},e[n]=function(t,r,i){return t&&t.nodeName||t.jquery?e(t)[n](r,i):(i=r,r=t,new A(null,r,i)),t},e.fn[n]=function(t,n){return e(this).each(function(){var i=N(e(this)).data(r);i&&i.destroy();var s=new A(e(this),t,n)}),this},e.extend(e[n],{defaults:S,addStyle:m,removeStyle:v,pluginOptions:w,getStyle:d,insertCSS:g}),m(\"bootstrap\",{html:\"<div>\\n<span data-notify-text></span>\\n</div>\",classes:{base:{\"font-weight\":\"bold\",padding:\"8px 15px 8px 14px\",\"text-shadow\":\"0 1px 0 rgba(255, 255, 255, 0.5)\",\"background-color\":\"#fcf8e3\",border:\"1px solid #fbeed5\",\"border-radius\":\"4px\",\"white-space\":\"nowrap\",\"padding-left\":\"25px\",\"background-repeat\":\"no-repeat\",\"background-position\":\"3px 7px\"},error:{color:\"#B94A48\",\"background-color\":\"#F2DEDE\",\"border-color\":\"#EED3D7\",\"background-image\":\"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)\"},success:{color:\"#468847\",\"background-color\":\"#DFF0D8\",\"border-color\":\"#D6E9C6\",\"background-image\":\"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)\"},info:{color:\"#3A87AD\",\"background-color\":\"#D9EDF7\",\"border-color\":\"#BCE8F1\",\"background-image\":\"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)\"},warn:{color:\"#C09853\",\"background-color\":\"#FCF8E3\",\"border-color\":\"#FBEED5\",\"background-image\":\"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)\"}}}),e(function(){g(h.css).attr(\"id\",\"core-notify\"),e(document).on(\"click\",\".\"+r+\"-hidable\",function(t){e(this).trigger(\"notify-hide\")}),e(document).on(\"notify-hide\",\".\"+r+\"-wrapper\",function(t){var n=e(this).data(r);n&&n.show(!1)})})})\n\n\nvar loginCaptcha,\n    regCaptcha,\n    submitCaptcha;\nvar cthCaptchaCallback = function() {\n    if(document.getElementById(\"loginCaptcha\")) loginCaptcha = grecaptcha.render('loginCaptcha', {\n        'sitekey' : _townhub_add_ons.gcaptcha_key,\n    });\n    if(document.getElementById(\"regCaptcha\")) regCaptcha = grecaptcha.render('regCaptcha', {\n        'sitekey' : _townhub_add_ons.gcaptcha_key,\n    });\n    if(document.getElementById(\"submitCaptcha\")) submitCaptcha = grecaptcha.render('submitCaptcha', {\n        'sitekey' : _townhub_add_ons.gcaptcha_key,\n    });\n};\n\n// mobile detect\n(function($){\n    window.cthMobileDetect = function(){\n        var a = {\n            Android: function () {\n                return navigator.userAgent.match(/Android/i);\n            },\n            BlackBerry: function () {\n                return navigator.userAgent.match(/BlackBerry/i);\n            },\n            iOS: function () {\n                return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n            },\n            Opera: function () {\n                return navigator.userAgent.match(/Opera Mini/i);\n            },\n            Windows: function () {\n                return navigator.userAgent.match(/IEMobile/i);\n            },\n            any: function () {\n                return a.Android() || a.BlackBerry() || a.iOS() || a.Opera() || a.Windows();\n            }\n        };\n        var trueMobile = a.any();\n        if(null == trueMobile){\n            $('body').removeClass('cth-mobile');\n            return false;\n        }else{\n            $('body').addClass('cth-mobile');\n            return true;\n        }\n    }\n    $(function(){\n        cthMobileDetect();\n        $(window).on('resize',function(){cthMobileDetect()})\n\n        //   scroll to------------------\n        $(\".cth-scroll-link\").on(\"click\", function () {\n            var a = 10+ $(\".main-header\").height();\n            if (location.pathname.replace(/^\\//, \"\") == this.pathname.replace(/^\\//, \"\") || location.hostname == this.hostname) {\n                var b = $(this.hash);\n                b = b.length ? b : $(\"[name=\" + this.hash.slice(1) + \"]\");\n                if (b.length) {\n                    $(\"html,body\").animate({\n                        scrollTop: b.offset().top - a\n                    }, {\n                        queue: false,\n                        duration: 1200,\n                        easing: \"easeInOutExpo\"\n                    });\n                    return false;\n                }\n            }\n        });\n\n\n    });\n\n})(jQuery);\n    \n\n\n(function($){\n    'use strict';\n    var tdOpt = {\n        setCurrentTime: false,\n        meridians: true, // false for 24h\n        format: 'h:mm a', // HH:mm for 24h - h:mm a\n        primaryColor: \"#4DB7FE\",\n        borderColor: \"#4DB7FE\",\n        minutesInterval: '15'\n    };\n    if(_townhub_add_ons.lb_24h){\n        tdOpt.meridians = false;\n        tdOpt.format = 'HH:mm';\n    }\n    if(_townhub_add_ons.td_color != ''){\n        tdOpt.primaryColor = tdOpt.borderColor = _townhub_add_ons.td_color;\n    }\n    $('input.datepicker').each(function(){\n        $(this).dateDropper();\n    })\n    $(\"input.timepicker\").each(function(){\n        $(this).timeDropper(tdOpt);\n    })\n    $(\".eye\").on(\"click touchstart\", function () {\n        var epi = $(this).parent(\".pass-input-wrap\").find(\"input\");\n        if (epi.attr(\"type\") === \"password\") {\n            epi.attr(\"type\", \"text\");\n        } else {\n            epi.attr(\"type\", \"password\");\n        }\n    });\n    $(function(){\n        $(document).on('click', '.remove-date-time', function(e){\n            e.preventDefault();\n            $(this).parent().children('input').val('').trigger('change');\n        })\n    });\n    \n\n\n})(jQuery);\n\n(function($){\n\t'use strict';\n\t$(document).ready(function() {\n\t\t$('.townhub-tweet').each(function(){\n\t        var that = $(this);\n\t        var username = that.data('username'),\n\t            list = that.data('list'),\n\t            hashtag = that.data('hashtag'),\n\t            ticker = that.data('ticker'),\n\t            count = that.data('count');\n\t        that.twittie({\n\t            username: username,\n\t            list: list,\n\t            hashtag: hashtag,\n\t            dateFormat: '%b %d, %Y',\n\t            template: \t'<div class=\"user\">'+\n\t\t\t\t\t\t\t\t'<div>'+\n\t\t\t\t\t\t\t\t  \t'<a href=\"https://twitter.com/{{user_name}}\" target=\"_blank\">'+\n\t\t\t\t\t\t\t\t    \t'<span>{{avatar}}</span>'+\n\t\t\t\t\t\t\t\t  \t'</a>{{screen_name}}'+\n\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<p class=\"tweet\">{{tweet}}</p>'+\n\t\t\t\t\t\t\t'<p class=\"timePosted\"><a href=\"{{url}}\">'+_townhub_add_ons.posted_on+'{{date}}</a></p>'+\n\t\t\t\t\t\t\t'<p class=\"interact\">'+\n\t\t\t\t\t\t\t\t'<a href=\"https://twitter.com/intent/tweet?in_reply_to={{id_str}}\" class=\"twitter_reply_icon\" target=\"_blank\">'+_townhub_add_ons.reply+'</a>'+\n\t\t\t\t\t\t\t\t'<a href=\"https://twitter.com/intent/retweet?tweet_id={{id_str}}\" class=\"twitter_retweet_icon\" target=\"_blank\">'+_townhub_add_ons.retweet+'</a>'+\n\t\t\t\t\t\t\t\t'<a href=\"https://twitter.com/intent/favorite?tweet_id={{id_str}}\" class=\"twitter_fav_icon\" target=\"_blank\">'+_townhub_add_ons.favorite+'</a>'+\n\t\t\t\t\t\t\t'</p>',\n\n\n\t            count: count,\n\t            loadingText: 'Loading!',\n\t            apiPath: _townhub_add_ons.url,\n\t            action: 'townhub_get_tweets',\n\t            hideReplies: false\n\t        },function () {\n\t            if(ticker == 'yes'){\n\t                $('ul',that).list_ticker({\n\t                    speed:5000,\n\t                    effect:'fade'\n\t                });\n\t            }\n\t        });\n\n\n\n\t    });\n\n\t\t$('.townhub_mailchimp-form').each(function(){\n\t\t\tvar sub_form = $(this);\n\t\t\tsub_form.submit(function(e){\n\t\t\t\te.preventDefault();\n\t\t\t\tsub_form.find('.subscribe-message').fadeIn('slow').text(_townhub_add_ons.pl_w);\n\t\t\t\tvar dataString = sub_form.serialize();\n\t\t            dataString += '&action=townhub_mailchimp';\n\t\t        var noredirect = true;\n\t\t\t\t$.ajax({\n\t\t            type: \"POST\",\n\t\t            data: dataString,\n\t\t            url: _townhub_add_ons.url,\n\t\t            success: function(d) {\n\t\t                if(d.success){\n\t\t                \tif (d.success === 'yes') {\n\t\t\t                    if (noredirect) {\n\t\t\t                    \tsub_form.find('.subscribe-message').fadeIn('slow').text(d.message);//.delay(3000).fadeOut('slow');\n\t\t\t                    } \n\t\t\t                    else {\n\t\t\t                        window.location.href = redirect;\n\t\t\t                    }\n\t\t\t                } else {\n                                sub_form.find('.subscribe-message').fadeIn('slow').text(d.message);//.delay(3000).fadeOut('slow');\n                                if(typeof d.last_response.body != undefined){\n                                    var bodyjson = JSON.parse(d.last_response.body);\n                                    sub_form.find('.subscribe-message').fadeIn('slow').text(bodyjson.title);//.delay(3000).fadeOut('slow');\n                                }\n\t\t\t                \t\n\t\t\t                }\n\t\t                }\n\t\t            }\n\t\t        });\n                // end $.ajax\n\n\t\t\t});\n\t\t});\n\n\t});\n\n})(jQuery);\n\n// Generated by CoffeeScript 1.9.3\n(function(wn) {\n  var Instafeed;\n\n  Instafeed = (function() {\n    function Instafeed(params, context) {\n      var option, value;\n      this.options = {\n        target: 'instafeed',\n        get: 'popular',\n        resolution: 'thumbnail',\n        sortBy: 'none',\n        links: true,\n        mock: false,\n        useHttp: false\n      };\n      if (typeof params === 'object') {\n        for (option in params) {\n          value = params[option];\n          this.options[option] = value;\n        }\n      }\n      this.context = context != null ? context : this;\n      this.unique = this._genKey();\n    }\n\n    Instafeed.prototype.hasNext = function() {\n      return typeof this.context.nextUrl === 'string' && this.context.nextUrl.length > 0;\n    };\n\n    Instafeed.prototype.next = function() {\n      if (!this.hasNext()) {\n        return false;\n      }\n      return this.run(this.context.nextUrl);\n    };\n\n    Instafeed.prototype.run = function(url) {\n      var header, instanceName, script;\n      if (typeof this.options.clientId !== 'string') {\n        if (typeof this.options.accessToken !== 'string') {\n          throw new Error(\"Missing clientId or accessToken.\");\n        }\n      }\n      if (typeof this.options.accessToken !== 'string') {\n        if (typeof this.options.clientId !== 'string') {\n          throw new Error(\"Missing clientId or accessToken.\");\n        }\n      }\n      if ((this.options.before != null) && typeof this.options.before === 'function') {\n        this.options.before.call(this);\n      }\n      if (typeof document !== \"undefined\" && document !== null) {\n        script = document.createElement('script');\n        script.id = 'instafeed-fetcher';\n        script.src = url || this._buildUrl();\n        header = document.getElementsByTagName('head');\n        header[0].appendChild(script);\n        instanceName = \"instafeedCache\" + this.unique;\n        window[instanceName] = new Instafeed(this.options, this);\n        window[instanceName].unique = this.unique;\n      }\n      return true;\n    };\n\n    Instafeed.prototype.parse = function(response) {\n      var anchor, childNodeCount, childNodeIndex, childNodesArr, e, eMsg, fragment, header, htmlString, httpProtocol, i, image, imageObj, imageString, imageUrl, images, img, imgHeight, imgOrient, imgUrl, imgWidth, instanceName, j, k, len, len1, len2, node, parsedLimit, reverse, sortSettings, targetEl, tmpEl;\n      if (typeof response !== 'object') {\n        if ((this.options.error != null) && typeof this.options.error === 'function') {\n          this.options.error.call(this, 'Invalid JSON data');\n          return false;\n        } else {\n          throw new Error('Invalid JSON response');\n        }\n      }\n      if (response.meta.code !== 200) {\n        if ((this.options.error != null) && typeof this.options.error === 'function') {\n          this.options.error.call(this, response.meta.error_message);\n          return false;\n        } else {\n          throw new Error(\"Error from Instagram: \" + response.meta.error_message);\n        }\n      }\n      if (response.data.length === 0) {\n        if ((this.options.error != null) && typeof this.options.error === 'function') {\n          this.options.error.call(this, 'No images were returned from Instagram');\n          return false;\n        } else {\n          throw new Error('No images were returned from Instagram');\n        }\n      }\n      if ((this.options.success != null) && typeof this.options.success === 'function') {\n        this.options.success.call(this, response);\n      }\n      this.context.nextUrl = '';\n      if (response.pagination != null) {\n        this.context.nextUrl = response.pagination.next_url;\n      }\n      if (this.options.sortBy !== 'none') {\n        if (this.options.sortBy === 'random') {\n          sortSettings = ['', 'random'];\n        } else {\n          sortSettings = this.options.sortBy.split('-');\n        }\n        reverse = sortSettings[0] === 'least' ? true : false;\n        switch (sortSettings[1]) {\n          case 'random':\n            response.data.sort(function() {\n              return 0.5 - Math.random();\n            });\n            break;\n          case 'recent':\n            response.data = this._sortBy(response.data, 'created_time', reverse);\n            break;\n          case 'liked':\n            response.data = this._sortBy(response.data, 'likes.count', reverse);\n            break;\n          case 'commented':\n            response.data = this._sortBy(response.data, 'comments.count', reverse);\n            break;\n          default:\n            throw new Error(\"Invalid option for sortBy: '\" + this.options.sortBy + \"'.\");\n        }\n      }\n      if ((typeof document !== \"undefined\" && document !== null) && this.options.mock === false) {\n        images = response.data;\n        parsedLimit = parseInt(this.options.limit, 10);\n        if ((this.options.limit != null) && images.length > parsedLimit) {\n          images = images.slice(0, parsedLimit);\n        }\n        fragment = document.createDocumentFragment();\n        if ((this.options.filter != null) && typeof this.options.filter === 'function') {\n          images = this._filter(images, this.options.filter);\n        }\n        if ((this.options.template != null) && typeof this.options.template === 'string') {\n          htmlString = '';\n          imageString = '';\n          imgUrl = '';\n          tmpEl = document.createElement('div');\n          for (i = 0, len = images.length; i < len; i++) {\n            image = images[i];\n            imageObj = image.images[this.options.resolution];\n            if (typeof imageObj !== 'object') {\n              eMsg = \"No image found for resolution: \" + this.options.resolution + \".\";\n              throw new Error(eMsg);\n            }\n            imgWidth = imageObj.width;\n            imgHeight = imageObj.height;\n            imgOrient = \"square\";\n            if (imgWidth > imgHeight) {\n              imgOrient = \"landscape\";\n            }\n            if (imgWidth < imgHeight) {\n              imgOrient = \"portrait\";\n            }\n            imageUrl = imageObj.url;\n            httpProtocol = window.location.protocol.indexOf(\"http\") >= 0;\n            if (httpProtocol && !this.options.useHttp) {\n              imageUrl = imageUrl.replace(/https?:\\/\\//, '//');\n            }\n            imageString = this._makeTemplate(this.options.template, {\n              model: image,\n              id: image.id,\n              link: image.link,\n              type: image.type,\n              image: imageUrl,\n              width: imgWidth,\n              height: imgHeight,\n              orientation: imgOrient,\n              caption: this._getObjectProperty(image, 'caption.text'),\n              likes: image.likes.count,\n              comments: image.comments.count,\n              location: this._getObjectProperty(image, 'location.name')\n            });\n            htmlString += imageString;\n          }\n          tmpEl.innerHTML = htmlString;\n          childNodesArr = [];\n          childNodeIndex = 0;\n          childNodeCount = tmpEl.childNodes.length;\n          while (childNodeIndex < childNodeCount) {\n            childNodesArr.push(tmpEl.childNodes[childNodeIndex]);\n            childNodeIndex += 1;\n          }\n          for (j = 0, len1 = childNodesArr.length; j < len1; j++) {\n            node = childNodesArr[j];\n            fragment.appendChild(node);\n          }\n        } else {\n          for (k = 0, len2 = images.length; k < len2; k++) {\n            image = images[k];\n            img = document.createElement('img');\n            imageObj = image.images[this.options.resolution];\n            if (typeof imageObj !== 'object') {\n              eMsg = \"No image found for resolution: \" + this.options.resolution + \".\";\n              throw new Error(eMsg);\n            }\n            imageUrl = imageObj.url;\n            httpProtocol = window.location.protocol.indexOf(\"http\") >= 0;\n            if (httpProtocol && !this.options.useHttp) {\n              imageUrl = imageUrl.replace(/https?:\\/\\//, '//');\n            }\n            img.src = imageUrl;\n            if (this.options.links === true) {\n              anchor = document.createElement('a');\n              anchor.href = image.link;\n              anchor.appendChild(img);\n              fragment.appendChild(anchor);\n            } else {\n              fragment.appendChild(img);\n            }\n          }\n        }\n        targetEl = this.options.target;\n        if (typeof targetEl === 'string') {\n          targetEl = document.getElementById(targetEl);\n        }\n        if (targetEl == null) {\n          eMsg = \"No element with id=\\\"\" + this.options.target + \"\\\" on page.\";\n          throw new Error(eMsg);\n        }\n        targetEl.appendChild(fragment);\n        header = document.getElementsByTagName('head')[0];\n        header.removeChild(document.getElementById('instafeed-fetcher'));\n        instanceName = \"instafeedCache\" + this.unique;\n        window[instanceName] = void 0;\n        try {\n          delete window[instanceName];\n        } catch (_error) {\n          e = _error;\n        }\n      }\n      if ((this.options.after != null) && typeof this.options.after === 'function') {\n        this.options.after.call(this);\n      }\n      return true;\n    };\n\n    Instafeed.prototype._buildUrl = function() {\n      var base, endpoint, final;\n      base = \"https://api.instagram.com/v1\";\n      switch (this.options.get) {\n        case \"popular\":\n          endpoint = \"media/popular\";\n          break;\n        case \"tagged\":\n          if (!this.options.tagName) {\n            throw new Error(\"No tag name specified. Use the 'tagName' option.\");\n          }\n          endpoint = \"tags/\" + this.options.tagName + \"/media/recent\";\n          break;\n        case \"location\":\n          if (!this.options.locationId) {\n            throw new Error(\"No location specified. Use the 'locationId' option.\");\n          }\n          endpoint = \"locations/\" + this.options.locationId + \"/media/recent\";\n          break;\n        case \"user\":\n          if (!this.options.userId) {\n            throw new Error(\"No user specified. Use the 'userId' option.\");\n          }\n          endpoint = \"users/\" + this.options.userId + \"/media/recent\";\n          break;\n        default:\n          throw new Error(\"Invalid option for get: '\" + this.options.get + \"'.\");\n      }\n      final = base + \"/\" + endpoint;\n      if (this.options.accessToken != null) {\n        final += \"?access_token=\" + this.options.accessToken;\n      } else {\n        final += \"?client_id=\" + this.options.clientId;\n      }\n      if (this.options.limit != null) {\n        final += \"&count=\" + this.options.limit;\n      }\n      final += \"&callback=instafeedCache\" + this.unique + \".parse\";\n      return final;\n    };\n\n    Instafeed.prototype._genKey = function() {\n      var S4;\n      S4 = function() {\n        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n      };\n      return \"\" + (S4()) + (S4()) + (S4()) + (S4());\n    };\n\n    Instafeed.prototype._makeTemplate = function(template, data) {\n      var output, pattern, ref, varName, varValue;\n      pattern = /(?:\\{{2})([\\w\\[\\]\\.]+)(?:\\}{2})/;\n      output = template;\n      while (pattern.test(output)) {\n        varName = output.match(pattern)[1];\n        varValue = (ref = this._getObjectProperty(data, varName)) != null ? ref : '';\n        output = output.replace(pattern, function() {\n          return \"\" + varValue;\n        });\n      }\n      return output;\n    };\n\n    Instafeed.prototype._getObjectProperty = function(object, property) {\n      var piece, pieces;\n      property = property.replace(/\\[(\\w+)\\]/g, '.$1');\n      pieces = property.split('.');\n      while (pieces.length) {\n        piece = pieces.shift();\n        if ((object != null) && piece in object) {\n          object = object[piece];\n        } else {\n          return null;\n        }\n      }\n      return object;\n    };\n\n    Instafeed.prototype._sortBy = function(data, property, reverse) {\n      var sorter;\n      sorter = function(a, b) {\n        var valueA, valueB;\n        valueA = this._getObjectProperty(a, property);\n        valueB = this._getObjectProperty(b, property);\n        if (reverse) {\n          if (valueA > valueB) {\n            return 1;\n          } else {\n            return -1;\n          }\n        }\n        if (valueA < valueB) {\n          return 1;\n        } else {\n          return -1;\n        }\n      };\n      data.sort(sorter.bind(this));\n      return data;\n    };\n\n    Instafeed.prototype._filter = function(images, filter) {\n      var filteredImages, fn, i, image, len;\n      filteredImages = [];\n      fn = function(image) {\n        if (filter(image)) {\n          return filteredImages.push(image);\n        }\n      };\n      for (i = 0, len = images.length; i < len; i++) {\n        image = images[i];\n        fn(image);\n      }\n      return filteredImages;\n    };\n\n    return Instafeed;\n\n  })();\n\n\n  (function(root, factory) {\n\n    if (typeof define === 'function' && define.amd) {\n      return define([], factory);\n    } else if (typeof module === 'object' && module.exports) {\n      return module.exports = factory();\n    } else {\n      return root.Instafeed = factory();\n    }\n  })(wn, function() {\n    return Instafeed;\n  });\n\n \n}).call(this,window);\n\n(function($){\n    'use strict';\n\n    // var Instafeed = require(\"instafeed\");\n  \n    $(function(){\n        /*init instagram feed */\n        if(jQuery('.townhub-instafeed').length){\n            jQuery('.townhub-instafeed').each(function(){\n                var clientID = jQuery(this).data('client');\n                var accessToken = jQuery(this).data('access');\n                var limit = jQuery(this).data('limit');\n                var get = jQuery(this).data('get');\n                var getval = jQuery(this).data('getval');\n                var res = jQuery(this).data('res');\n                var target = jQuery(this).find('.townhub-instafeed-ul').attr('id');\n                \n                var instafeed_ops = {\n                        get: get,\n                        target: target,\n                        resolution: res,// thumbnail | low_resolution \n                        template: '<li><a class=\"insta-popup\" href=\"{{link}}\"><img src=\"{{image}}\" alt=\"{{caption}}\"/></a></li>',\n                        limit: limit,\n                        error: function(err){\n                            console.log(err);\n                        }\n                        \n                } ;\n                // for popup option\n                instafeed_ops.template = '<li><a class=\"insta-popup\" href=\"{{image}}\"><img src=\"{{image}}\" alt=\"{{caption}}\"/></a></li>';\n                instafeed_ops.after = function(){\n                    $('#'+target).lightGallery({\n                        selector: \".insta-popup\",\n                        cssEasing: \"cubic-bezier(0.25, 0, 0.25, 1)\",\n                        download: false,\n                        loop: false,\n                        counter: false,\n                    });\n                };\n\n\n                if(clientID != '') {\n                    instafeed_ops.clientID = clientID;\n                }\n                if(accessToken != '') {\n                    instafeed_ops.accessToken = accessToken; \n                }\n                if(get == 'tagged'){\n                    instafeed_ops.tagName = getval;\n                }else if(get == 'user'){\n                    instafeed_ops.userId = getval;\n                }\n                var feed = new Instafeed(instafeed_ops);\n                feed.run();\n            });\n        }\n    });\n\n    $(function(){\n    \t$('.review-range-item').each(function(){\n    \t\t$('.leave-rating input').change(function () {\n\t            var $radio = $(this);\n\t            $('.leave-rating .selected').removeClass('selected');\n\t            $radio.closest('label').addClass('selected');\n\t        })\n    \t});\n        \n\n\n        //   Bubbles ------------------\n        if(_townhub_add_ons.disable_bubble != 'yes'){\n            $('<div class=\"bubbles\"></div>').appendTo(\".bubble-bg\");\n            var bArray = [];\n            var sArray = [5, 10, 15, 20];\n            for (var i = 0; i < $('.bubbles').width(); i++) {\n                bArray.push(i);\n            }\n            function randomValue(arr) {\n                return arr[Math.floor(Math.random() * arr.length)];\n            }\n            setInterval(function () {\n                var size = randomValue(sArray);\n                $('.bubbles').append('<div class=\"individual-bubble\" style=\"left: ' + randomValue(bArray) + 'px; width: ' + size + 'px; height:' + size + 'px;\"></div>');\n                $('.individual-bubble').fadeOut(5000, function () {\n                    $(this).remove()\n                });\n            }, 350);\n        }\n\n    })\n\n    $(function(){\n\n        // allow rating image\n        if($('.listing-review-form').length){\n            $('.listing-review-form').attr('enctype','multipart/form-data');\n        }\n\n        $(document).on('click', '.townhub_addons-like-button', function(e) {\n            e.preventDefault()\n            var button = $(this);\n            var post_id = button.attr('data-post-id');\n            var nonce = button.attr('data-nonce');\n            var iscomment = button.attr('data-iscomment');\n            \n            if (post_id !== '') {\n                $.ajax({\n                    type: 'POST',\n                    url: _townhub_add_ons.url,\n                    data : {\n                        action : 'townhub_addons_like',\n                        post_id : post_id,\n                        nonce : nonce,\n                        is_comment : iscomment,\n                    },\n                    beforeSend:function(){\n                        \n                        button.addClass('like-process');\n                    },  \n                    success: function(response){\n                        button.html(response.count+response.icon);\n                        if(response.status === 'unliked') {\n                            var like_text = _townhub_add_ons.like;\n                            button.prop('title', like_text);\n                            button.removeClass('liked');\n                        } else {\n                            var unlike_text = _townhub_add_ons.unlike;\n                            button.prop('title', unlike_text);\n                            button.addClass('liked');\n                        }\n                        button.removeClass('like-process');\n                              \n                    }\n                });\n              \n            }\n            return false;\n        });\n\n    });\n\n    //   accordion ------------------\n    $(\".accordion a.toggle\").on(\"click\", function (a) {\n        a.preventDefault();\n        var $wrap = $(this).closest('.accordion')\n        $wrap.find(\"a.toggle\").removeClass(\"act-accordion\");\n        $(this).addClass(\"act-accordion\");\n        if ($(this).next('div.accordion-inner').is(':visible')) {\n            $(this).next('div.accordion-inner').slideUp();\n        } else {\n            $wrap.find(\"a.toggle\").next('div.accordion-inner').slideUp();\n            $(this).next('div.accordion-inner').slideToggle();\n        }\n    });\n\n      \n\n    $(document).on('click', '.tabs-menu a', function(e){\n        e.preventDefault()\n\n\n        var $tab_a = $(this),\n            target = $tab_a.attr(\"href\")\n\n        $tab_a.parent().addClass('current')\n        $tab_a.parent().siblings().removeClass(\"current\")\n\n        $tab_a.closest('.tabs-wrapper').find('.tab-content').not(target).removeClass(\"current\");\n        $tab_a.closest('.tabs-wrapper').find(target).addClass('current')\n    })\n\n    // repeating fields\n    $(document).on('click','.repeating-fields .add-field',function(e){\n        e.preventDefault()\n        var currentEntry = $(this).closest('.entry'),\n            currentRepeat = $(this).closest('.repeating-fields'),\n            removeText = currentRepeat.data('remove-text'),\n            newEntry = $(currentEntry.clone()).appendTo(currentRepeat);\n        currentRepeat.find('.entry:not(:last) .add-field').removeClass('add-field').addClass('remove-field').text(removeText)\n    })\n    $(document).on('click','.repeating-fields .remove-field',function(e){\n        e.preventDefault()\n        $(this).closest('.entry').remove()\n    })\n\n    // repeater-fields field for user socials\n    $(document).on('click','.repeater-fields-wrap .addfield',function(e){\n        e.preventDefault()\n        var wrapper = $(this).closest('.repeater-fields-wrap'),\n            fields = wrapper.children('.repeater-fields'),\n            index = $(this).data('index')? $(this).data('index') : (fields.children().length?fields.children().length: 0),\n            tmplName = wrapper.data('tmpl'),\n            tmplData = wrapper.data('tmpl_data')?wrapper.data('tmpl_data'):{},\n            template = _.template( $('#'+tmplName).html(), {\n                variable: 'data',\n\n                evaluate: /<#([\\s\\S]+?)#>/g,\n                interpolate: /{{{([\\s\\S]+?)}}}/g, \n                escape: /{{([^}]+?)}}(?!})/g, \n            });\n        \n        fields.append( template( $.extend({ index: ++index },tmplData) ) )\n        $(this).data('index',index)\n        \n    })\n    $(document).on('click','.repeater-fields-wrap .rmfield',function(e){\n        e.preventDefault()\n        $(this).closest('.entry').remove()\n    })\n    \n\n    // var controlForm = $('#myRepeatingFields:first'),\n    //         currentEntry = $(el).parents('.entry:first'),\n    //         newEntry = $(currentEntry.clone()).appendTo(controlForm);\n    //     newEntry.find('input').val('');\n    //     controlForm.find('.entry:not(:last) .btn-add')\n    //         .removeClass('btn-add').addClass('btn-remove')\n    //         .removeClass('btn-success').addClass('btn-danger')\n    //         .html('<span>-</span>');\n\n    // header login\n    $(\".header-user-name\").on(\"click\", function () {\n        $(\".header-user-menu ul\").toggleClass(\"hu-menu-vis\");\n        $(this).toggleClass(\"hu-menu-visdec\");\n    });\n\n    // modal ------------------\n    var modal = {};\n    modal.hide = function () {\n        $('.ctb-modal').fadeOut();\n        $(\"html, body\").removeClass(\"hid-body\");\n    };\n    $('.ctb-modal-open').on(\"click\", function (e) {\n        e.preventDefault();\n        $('.ctb-modal').fadeIn();\n        $(\"html, body\").addClass(\"hid-body\");\n    });\n    // open login-reg modal\n    $('.logreg-modal-open').on(\"click\", function (e) {\n        e.preventDefault();\n        var $modal = $('#ctb-logreg-modal'),\n            message = (typeof $(this).data('message') != 'undefined'? $(this).data('message') : '');\n        $modal.find('.prelog-message').text('')\n        if(message!='') $modal.find('.prelog-message').text(message)\n        $modal.fadeIn();\n        $(\"html, body\").addClass(\"hid-body\");\n    });\n\n    // open reset password modal\n    $('.lost-password').on(\"click\", function (e) {\n        e.preventDefault();\n        // hide register modal\n        // modal.hide();\n        $('.ctb-modal').fadeOut(400,()=>{$('#ctb-resetpsw-modal').fadeIn();});\n\n        // $('#ctb-resetpsw-modal').fadeIn();\n        // $(\"html, body\").addClass(\"hid-body\");\n    });\n    \n\n\n    // open change plan modal\n    $('.cplan-modal-open').on(\"click\", function (e) {\n        e.preventDefault();\n        var listing = $(this).data('listing')\n        if(listing != undefined){\n            $('#ctb-cplan-modal').find('input[name=\"listing_id\"]').val(listing)\n            $('#ctb-cplan-modal').fadeIn();\n            $(\"html, body\").addClass(\"hid-body\");\n        }else{\n            console.log('invalid listing id')\n        }\n        \n    });\n    // open reply message modal\n    $('.reply-lauthor_msg').on(\"click\", function (e) {\n        e.preventDefault();\n        var to_user = $(this).data('id'),\n            title = $(this).data('title')\n\n        if(to_user != undefined){\n            $('#ctb-reply-msg-modal').find('.lauthor-msg-title').val(title)\n            $('#ctb-reply-msg-modal').find('input[name=\"authid\"]').val(to_user)\n            $('#ctb-reply-msg-modal').fadeIn();\n            $(\"html, body\").addClass(\"hid-body\");\n        }else{\n            console.log('invalid message id')\n        }\n        \n    });\n    // open listing claim modal\n    $('.open-listing-claim').on(\"click\", function (e) {\n        e.preventDefault();\n\n        $('#ctb-listing-claim-modal').fadeIn();\n        $(\"html, body\").addClass(\"hid-body\");\n        \n    });\n\n    // open invoice details modal\n    $('.view-invoice-btn').on(\"click\", function (e) {\n        e.preventDefault();\n\n        var invoice = typeof $(this).data('invoice') != 'undefined' ? $(this).data('invoice') : '';\n\n        if(parseInt(invoice)){\n            var $invoice_details = $('#ctb-view-invoice-modal').find('.invoice-details-holder');\n\n            // $('#ctb-view-invoice-modal').find('.ctb-modal-holder').append('<div class=\"invoice-loading-icon\"><i class=\"fa fa-spinner fa-pulse fa-3x\"></i></div>');\n            \n            $('#ctb-view-invoice-modal').addClass('invoice-loading').fadeIn();\n            $(\"html, body\").addClass(\"hid-body\");\n\n\n            $.ajax({\n                method: \"POST\",\n                url: _townhub_add_ons.url,\n                data: {\n                    invoice     : parseInt(invoice),\n                    action      : 'view_invoice',\n                    _nonce      : _townhub_add_ons.nonce\n\n                }\n            })\n            // end $.ajax\n            .done(function( data ) {\n            \t// console.log(data)\n                $('#ctb-view-invoice-modal').removeClass('invoice-loading');\n                if(data.success == true && typeof data.invoice != 'undefined'){\n                    var invoice_tmpl = _.template( ($('#tmpl-invoice-data').length ? $('#tmpl-invoice-data').html() : ''), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g, } )\n                    $invoice_details.html(invoice_tmpl(data.invoice))\n                }else{\n                    modal.hide();\n                }\n            })\n            // emd done \n            .fail(function(jqXHR, textStatus, errorThrown ){\n                console.log(jqXHR)\n            });\n            // end fail\n        }\n        \n    });\n    // open new campaign modal\n    $('.open-new-campaign-modal').on(\"click\", function (e) {\n        e.preventDefault();\n        $('#ctb-new-campaign-modal').fadeIn();\n        $(\"html, body\").addClass(\"hid-body\");\n        \n    });\n    \n\n    $('.ctb-modal-close').on(\"click\", function () {\n        modal.hide();\n    });\n\n    // user register + login modal\n    $(\"#townhub-login\").on('submit',function (e) {\n        e.preventDefault()\n        var data = $(this).serialize()\n        $('#log-submit').attr('disabled', true).addClass('submitted')\n        $.ajax({\n            method: \"POST\",\n            url: _townhub_add_ons.url,\n            data: data + '&action=townhub-login'\n        })\n        // end $.ajax\n        .done(function( data ) {\n          \n            $('#log-submit').removeClass('submitted')\n            if(data.success == false){\n                \n                $('.log-message').html(data.data.login_err).addClass('show')\n                $('#log-submit').attr('disabled', false).removeClass('submitted')\n                if(_townhub_add_ons.gcaptcha) grecaptcha.reset(loginCaptcha);\n            }else{\n                if(typeof data.data.login_msg != 'undefined') $('.log-message').html(data.data.login_msg).addClass('show success')\n                setTimeout(()=>{\n                    if(typeof data.data.redirection != 'undefined') \n                        window.location.href = data.data.redirection;\n                    else\n                        if(_townhub_add_ons.gcaptcha) grecaptcha.reset(loginCaptcha);\n                    modal.hide();\n                }, _townhub_add_ons.login_delay);\n            }\n        })\n        // emd done \n        .fail(function(jqXHR, textStatus, errorThrown ){\n            console.log(jqXHR)\n        });\n        // end fail\n    });\n    // user register\n    $(\"#townhub-register\").on('submit',function (e) {\n        e.preventDefault()\n        var data = $(this).serialize()\n        $('#reg-submit').attr('disabled', true).addClass('submitted')\n        $.ajax({\n            method: \"POST\",\n            url: _townhub_add_ons.url,\n            data: data + '&action=townhub-register'\n        })\n        // end $.ajax\n        .done(function( data ) {\n            $('#reg-submit').removeClass('submitted')\n            if(data.success == false){\n                \n                $('.reg-message').html(data.data.reg_err).addClass('show')\n                $('#reg-submit').attr('disabled', false).removeClass('submitted')\n                if(_townhub_add_ons.gcaptcha) grecaptcha.reset(regCaptcha);\n            }else{\n                if(typeof data.data.reg_msg != 'undefined') $('.reg-message').html(data.data.reg_msg).addClass('show success')\n                setTimeout(()=>{\n                    if(typeof data.data.redirection != 'undefined') \n                        window.location.href = data.data.redirection;\n                    else\n                        if(_townhub_add_ons.gcaptcha) grecaptcha.reset(regCaptcha);\n                    // modal.hide();\n                }, 5000);\n                // if(data.data.redirection != undefined) window.location.href = data.data.redirection;\n\n                // modal.hide();\n            }\n        })\n        // emd done \n        .fail(function(jqXHR, textStatus, errorThrown ){\n            console.log(jqXHR)\n        });\n        // end fail\n    });\n    // user register end\n})(jQuery);\n\n\n\n(function ($) {\n    \"use strict\";\n\n    // don't apply to single listing - for Easy Appointments plugin support\n\n    // if(!$('body').hasClass('single-listing')){\n    //     _.templateSettings = {\n    //         // interpolate: /\\{\\{(.+?)\\}\\}/g,\n\n    //         evaluate: /<#([\\s\\S]+?)#>/g,\n    //         interpolate: /{{{([\\s\\S]+?)}}}/g, \n    //         escape: /{{([^}]+?)}}(?!})/g, \n                            \n    //     };\n    // }\n\n    //   Star Raiting ------------------\n    $.fn.duplicate = function (a, b) {\n        var c = [];\n        for (var d = 0; d < a; d++) $.merge(c, this.clone(b).get());\n        return this.pushStack(c);\n    };\n\n    function cardRaining() {\n       \n        var cr = $(\".card-popup-raining\");\n        cr.each(function (cr) {\n            var rating = Math.round( parseFloat( $(this).attr(\"data-rating\") ) ),\n                stars = $(this).attr('data-stars')\n            if($(this).children('.stars-wrapper').length) $(this).children('.stars-wrapper').remove()\n            $(this).prepend('<span class=\"stars-wrapper\"></span>')\n            if( rating < parseFloat(stars)){\n                var sub = parseInt(stars - rating);\n                $(\"<i class='fa fa-star-o'></i>\").duplicate(sub).prependTo( $(this).children('.stars-wrapper') );\n                $(\"<i class='fa fa-star'></i>\").duplicate(rating).prependTo( $(this).children('.stars-wrapper') );\n            }else{\n                $(\"<i class='fa fa-star'></i>\").duplicate(rating).prependTo( $(this).children('.stars-wrapper') );\n            }\n        });\n    }\n    function cardRainingVis() {\n        $(\".card-popup-rainingvis\").each(function (cr) {\n            var rating = Math.round( parseFloat( $(this).attr(\"data-rating\") ) ),\n                stars = $(this).attr('data-stars')\n            if($(this).children('.stars-wrapper').length) $(this).children('.stars-wrapper').remove()\n            $(this).prepend('<span class=\"stars-wrapper\"></span>')\n            if( rating < parseFloat(stars) ){\n                var sub = parseInt(stars - rating);\n                $(\"<i class='fa fa-star-o'></i>\").duplicate(sub).prependTo( $(this).children('.stars-wrapper') );\n                $(\"<i class='fa fa-star'></i>\").duplicate(rating).prependTo( $(this).children('.stars-wrapper') );\n            }else{\n                $(\"<i class='fa fa-star'></i>\").duplicate(rating).prependTo( $(this).children('.stars-wrapper') );\n            }\n        });\n    }\n    $(function(){\n        cardRaining();\n        cardRainingVis()\n    \n    })\n\n    \n    // https://stackoverflow.com/questions/3525670/radius-of-viewable-region-in-google-maps-v3\n    function getBoundsRadius(bounds){\n\t  \t// r = radius of the earth in km\n\t  \tvar r = 6378.8\n\t  \t// degrees to radians (divide by 57.2958)\n\t  \tvar ne_lat = bounds.getNorthEast().lat() / 57.2958\n\t  \tvar ne_lng = bounds.getNorthEast().lng() / 57.2958\n\t  \tvar c_lat = bounds.getCenter().lat() / 57.2958\n\t  \tvar c_lng = bounds.getCenter().lng() / 57.2958\n\t  \t// distance = circle radius from center to Northeast corner of bounds\n\t  \tvar r_km = r * Math.acos(\n\t    \tMath.sin(c_lat) * Math.sin(ne_lat) + \n\t    \tMath.cos(c_lat) * Math.cos(ne_lat) * Math.cos(ne_lng - c_lng)\n\t    )\n\t  \t// return r_km *1000 // radius in meters\n\t  \treturn r_km // radius in kilometers\n\t}\n\n\tfunction fetchAddress(coordinates){\n        // const _self = this\n        let api = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${coordinates[1]}&lon=${coordinates[0]}&zoom=18&addressdetails=1`\n            // \"http://nominatim.openstreetmap.org/reverse?format=json&lat=\" + Double.toString(lat) + \"&lon=\" + Double.toString(lon) + \"&zoom=18&addressdetails=1\";\n         // console.log(api)\n        fetch(api)\n        .then(function(response) {\n            return response.json();\n        })\n        .then(function(address) {\n            if (address.display_name != null && address.display_name) $('#address').val(address.display_name)\n            // _self._setLocationValuesFromAddress(address.address)\n        });\n    }\n\n    function inrange(min,number,max){\n        if ( !isNaN(number) && (number >= min) && (number <= max) ){\n            return true;\n        } else {\n            return false;\n        };\n    }\n\n    function valid_coords(number_lat, number_lng) {\n        number_lat = parseFloat(number_lat)\n        number_lng = parseFloat(number_lng)\n        if (inrange(-90, number_lat, 90) && inrange(-180, number_lng, 180)) {\n            return true;\n        }\n        return false;\n    }\n\n\t// Osm or google map\n\tif(_townhub_add_ons.free_map == '1'){\n\t\tvar mainOSMApp = {\n        \ttarget: '',\n        \tcenter: [parseFloat(_townhub_add_ons.center_lng), parseFloat(_townhub_add_ons.center_lat)],\n        \tzoom: parseInt(_townhub_add_ons.map_zoom),\n        \tmaxZoom: 19,\n        \tmap : null,\n        \tpopup : null,\n        \tolPopup: null,\n        \tview: null,\n        \tfeatures: [],\n        \tvectorSource: null,\n        \tclusterSource: null,\n        \tvectorLayer: null,\n        \tlayerRoute: null,\n        \textent: null,\n        \tmultiLineString: null,\n        \tinfo_tmpl: _.template( ($('#tmpl-map-info').length ? $('#tmpl-map-info').html() : ''), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g, } ),\n        \tstyleCache: {},\n        \tinit: function(target, posts){\n        \t\tthis.target = target\n\n        \t\tthis.initLayerRoute()\n        \t\tthis.initPopup()\n        \t\tthis.initView()\n\n        \t\tthis.initVectorSource(posts)\n\n        \t\tthis.initCluster()\n        \t\tthis.initVectorLayer()\n\n        \t\tthis.initMap()\n        \t\tthis.fitMap()\n\n        \t\tthis.mapInteraction()\n        \t},\n        \tinitMap: function(){\n                let map_opts = {\n                    overlays: [this.popup],\n                    target: this.target,\n                    view: this.view,\n                    layers: [\n                        new ol.layer.Tile({\n                            preload: 3,\n                            source: new ol.source.OSM(),\n                        }),\n                        this.layerRoute, \n                        this.vectorLayer,\n                    ],\n                    loadTilesWhileAnimating: true,\n                    // interactions: ol.interaction.defaults({mouseWheelZoom:false}),\n                }\n                if(cthMobileDetect())\n                    map_opts.interactions = ol.interaction.defaults({dragPan: false})\n        \t\tthis.map = new ol.Map(map_opts);\n\n    \t\t\twindow.listingsOSMMap = this.map;\n    \t        let mapevt = new CustomEvent('listingsOSMMapInit', { detail: 'mapInit' });\n    \t        \n    \t        window.dispatchEvent(mapevt);\n        \t},\n        \tfitMap: function(){\n        \t\tthis.map.getView().fit(this.extent, {\n        \t\t\tsize: this.map.getSize(),\n        \t\t\tduration: 1000\n        \t\t});\n\n    \t        window.dispatchEvent(new CustomEvent('listingsOSMMapLoaded', { detail: 'hasListing'}));\n        \t},\n        \ttoDefaultMap: function(){\n        \t\tthis.map.getView().animate({\n        \t\t\tzoom: this.zoom,\n    \t    \t\tcenter: ol.proj.fromLonLat(this.center),\n    \t    \t\tduration: 1000\n    \t    \t});\n    \t        window.dispatchEvent(new CustomEvent('listingsOSMMapLoaded', { detail: 'noListing'}));\n        \t},\n        \tinitView: function(){\n        \t\tthis.view = new ol.View({\n    \t\t\t  \tcenter: ol.proj.fromLonLat(this.center),\n    \t\t\t  \tzoom: this.zoom,\n    \t\t\t  \tmaxZoom: this.maxZoom,\n    \t\t\t});\n        \t},\n        \tinitPopup: function(){\n    \t\t\tthis.olPopup = document.getElementById('ol-popup');\n    \t\t\tthis.popup = new ol.Overlay({\n    \t\t\t\telement: this.olPopup,\n    \t\t\t\tautoPan: true,\n    \t\t\t\tautoPanAnimation: {\n    \t\t\t\t  \tduration: 250\n    \t\t\t\t}\n    \t\t\t});\n        \t},\n        \tinitLayerRoute: function(){\n        \t\tthis.multiLineString = new ol.geom.MultiLineString([]);\n    \t\t\tthis.layerRoute = new ol.layer.Vector({\n    \t\t\t  \tsource: new ol.source.Vector({\n    \t\t\t\t    features: [\n    \t\t\t\t      \tnew ol.Feature({ geometry: this.multiLineString })\n    \t\t\t\t    ]\n    \t\t\t  \t}),\n    \t\t\t  \tstyle: [\n    \t\t\t\t    new ol.style.Style({\n    \t\t\t\t      \tstroke: new ol.style.Stroke({\n    \t\t\t\t\t\t\twidth: 3,\n    \t\t\t\t\t\t\tcolor: [51, 51, 51, 1]\n    \t\t\t\t\t\t\t//lineDash: [1, 5]\n    \t\t\t\t      \t}),\n    \t\t\t\t      \tzIndex: 2\n    \t\t\t\t    })\n    \t\t\t  \t],\n    \t\t\t  \tupdateWhileAnimating: true\n    \t\t\t});\n\n        \t},\n        \tinitVectorSource: function(posts){\n       \t\t//  \t\t// https://stackoverflow.com/questions/50743577/multiple-markers-on-openlayers-4-6-with-different-icons\n    \t\t\t// // https://gis.stackexchange.com/questions/76158/how-to-add-multiple-markers-on-map-and-popup-different-information-using-openlay\n    \t\t\t// this.vectorSource = new ol.source.Vector({});\n    \t\t\t// // https://stackoverflow.com/questions/30121024/openlayers-3-zoom-to-combined-extent\n    \t\t\t// this.extent = ol.extent.createEmpty();\n    \t\t\t// console.log(posts)\n    \t\t\tif(posts.length){\n    \t\t\t\t// https://stackoverflow.com/questions/50743577/multiple-markers-on-openlayers-4-6-with-different-icons\n    \t\t\t\t// https://gis.stackexchange.com/questions/76158/how-to-add-multiple-markers-on-map-and-popup-different-information-using-openlay\n    \t\t\t\tthis.vectorSource = new ol.source.Vector({});\n    \t\t\t\t// https://stackoverflow.com/questions/30121024/openlayers-3-zoom-to-combined-extent\n    \t\t\t\tthis.extent = ol.extent.createEmpty();\n\n    \t\t\t\tfor (var i = 0; i < posts.length; i++) {\n                        if(valid_coords(posts[i]['latitude'], posts[i]['longitude'] )){\n                            var iconFeature = new ol.Feature({\n                                geometry: new ol.geom.Point(ol.proj.transform([parseFloat(posts[i]['longitude']), parseFloat(posts[i]['latitude'])], 'EPSG:4326', 'EPSG:3857')),\n                                name: posts[i]['title'],\n                            });\n\n                            iconFeature.set('popupInfo', this.locationData(posts[i]['url'], posts[i]['cats'], posts[i]['thumbnail'], posts[i]['title'], posts[i]['address'], posts[i]['phone'], posts[i]['rating'], posts[i]['status'], posts[i]['statusText'], posts[i]['price_from'], posts[i]['price_to'] ) )\n\n\n                            var iconStyle = new ol.style.Style({\n                                image: new ol.style.Icon({\n                                    anchor: [0.5, 0.5],\n                                    anchorXUnits: 'fraction',\n                                    anchorYUnits: 'fraction',\n                                    src: posts[i]['gmap_marker']? posts[i]['gmap_marker'] : _townhub_add_ons.marker ,\n                                    // color: '#4db7fe',\n                                    crossOrigin: 'anonymous',\n                                })\n                            });\n                            // console.log(iconStyle)\n                            iconFeature.setStyle(iconStyle);\n                            iconFeature.setId(posts[i]['ID']);\n                            this.features.push(iconFeature)\n                            this.vectorSource.addFeature(iconFeature);\n                            // console.log(iconFeature)\n                            // console.log(this.extent)\n                            // console.log(iconFeature)\n                            ol.extent.extend(this.extent, iconFeature.getGeometry().getExtent());\n                        }\n    \t\t\t\t}\n    \t\t\t}else{\n    \t\t\t\tthis.vectorSource = new ol.source.Vector({});\n    \t\t\t\tthis.features = []\n    \t\t\t\treturn false;\n    \t\t\t}\n    \t\t\t// return fale for not post found\n    \t\t\treturn true\n\n        \t},\n        \tinitCluster: function(){\n        \t\tthis.clusterSource = new ol.source.Cluster({\n    \t\t        // distance: parseInt(distance.value, 10),\n    \t\t        // console.log(this.vectorSource)\n    \t\t        source: this.vectorSource\n    \t\t    });\n        \t},\n        \tinitVectorLayer: function(){\n        \t\tlet _self = this\n    \t\t\t_self.vectorLayer = new ol.layer.Vector({\n    \t\t\t\tsource: _self.clusterSource,\n    \t\t\t\tupdateWhileAnimating: true,\n    \t\t\t\tupdateWhileInteracting: true,\n    \t\t\t\t// cluster style\n    \t\t\t\tstyle: function(feature) {\n    \t\t\t\t\tlet _fts = feature.get('features');\n    \t\t\t\t\tif(_fts != null){\n    \t\t\t\t\t\tlet size = _fts.length;\n    \t\t\t\t\t\tif(size > 1){\n    \t\t\t\t\t\t\tlet style = _self.styleCache[size];\n    \t\t\t\t\t\t\tif (!style) {\n    \t\t\t\t\t\t\t\tstyle = new ol.style.Style({\n    \t\t\t\t\t\t\t\t  \timage: new ol.style.Circle({\n    \t\t\t\t\t\t\t\t\t    radius: 20,\n    \t\t\t\t\t\t\t\t\t    stroke: new ol.style.Stroke({\n    \t\t\t\t\t\t\t\t\t      \tcolor: '#fff',\n    \t\t\t\t\t\t\t\t\t      \twidth: 3\n    \t\t\t\t\t\t\t\t\t    }),\n    \t\t\t\t\t\t\t\t\t    fill: new ol.style.Fill({\n    \t\t\t\t\t\t\t\t\t      \tcolor: (_townhub_add_ons.td_color != '')? _townhub_add_ons.td_color : '#4db7fe'\n    \t\t\t\t\t\t\t\t\t    })\n    \t\t\t\t\t\t\t\t  \t}),\n    \t\t\t\t\t\t\t\t  \ttext: new ol.style.Text({\n    \t\t\t\t\t\t\t\t\t    text: size.toString(),\n    \t\t\t\t\t\t\t\t\t    fill: new ol.style.Fill({\n    \t\t\t\t\t\t\t\t\t      \tcolor: '#fff'\n    \t\t\t\t\t\t\t\t\t    }),\n    \t\t\t\t\t\t\t\t\t    font: \"13px 'Quicksand', sans-serif\"\n    \t\t\t\t\t\t\t\t  \t})\n    \t\t\t\t\t\t\t\t});\n    \t\t\t\t\t\t\t\t_self.styleCache[size] = style;\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\treturn style;\n    \t\t\t\t\t\t}else{\n    \t\t\t\t\t\t\t// let _ft = feature.get('features')[0]\n    \t\t\t\t\t\t\treturn _fts[0].getStyle()\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}\t\n    \t\t\t\t}\n\n    \t\t\t});\n        \t},\n        \tlocationData: function(locationURL, locationCategories, locationImg, locationTitle, locationAddress, locationPhone, locationRating, status, statusText, price_to, price_from ) {\n    \t        return this.info_tmpl( {\n    \t            url: locationURL,\n    \t            cats: locationCategories,\n    \t            img: locationImg,\n    \t            title: locationTitle,\n    \t            address: locationAddress,\n    \t            phone: locationPhone,\n    \t            rating: locationRating,\n    \t            status: status,\n    \t            statusText: statusText,\n    \t            price_to: price_to,\n    \t            price_from: price_from,\n    \t        } )\n    \t    },\n    \t    mapInteraction: function(){\n    \t    \tlet _self = this\n    \t    \t// create the select interaction\n    \t\t\tlet select = new ol.interaction.Select({\n    \t\t\t    // style: styleClick,\n    \t\t\t    condition: function (mapBrowserEvent) {\n    \t\t\t        // check if it is a click event\n    \t\t\t        if (!ol.events.condition.singleClick(mapBrowserEvent))\n    \t\t\t            return false;\n\n    \t\t\t        // collect all the features at the click event\n    \t\t\t        let features = [];\n    \t\t\t        let features_ = [];\n    \t\t\t        _self.map.forEachFeatureAtPixel(mapBrowserEvent.pixel, function (feature_, layer) {\n    \t\t\t            features_ = feature_.get('features');\n    \t\t\t            // get all the features in that place\n    \t\t\t            if(features_ != null){\n    \t\t\t            \tfor (let i = 0; i < features_.length; i++)\n    \t\t\t                \tfeatures.push(features_[i]);\n    \t\t\t            }\n    \t\t\t        });\n\n    \t\t\t        // console.log(features)\n    \t\t\t        // // check if one or more featres on this place (a cluster always contains multiple features!)\n    \t\t\t        // console.log(features.length)\n    \t\t\t        if ( features.length > 1) {\n    \t\t\t\t        \t\n    \t\t\t        \tlet zoom = _self.map.getView().getZoom();\n\n    \t\t\t        \t// console.log(crr_zoom)\n    \t\t\t        \tif(zoom < _self.maxZoom){\n\n    \t\t\t        \t\t// zoom in map\n    \t\t\t\t        \tlet extent = ol.extent.createEmpty();\n    \t\t\t\t        \tfeatures_.forEach((ft,i)=>{\n    \t\t\t\t        \t\tol.extent.extend(extent, ft.getGeometry().getExtent());\n    \t\t\t\t        \t})\n    \t\t\t\t        \t// console.log(new_extent)\n    \t\t\t\t        \t_self.map.getView().fit(extent, _self.map.getSize());\n\n    \t\t\t        \t}else{\n    \t\t\t        \t\t_self.map.forEachFeatureAtPixel(mapBrowserEvent.pixel, function (cluster, layer) {\n    \t\t\t\t\t            let features = cluster.get('features');\n    \t\t\t\t\t            _self.displayOverlapping(features, mapBrowserEvent.pixel)\n    \t\t\t\t\t            \n    \t\t\t\t\t        });\n    \t\t\t        \t}\n\n    \t\t\t            return false;\n    \t\t\t        } else if (features.length === 1) {\n    \t\t\t            // trigger the callback for the selected feature (best place I found, since the  ol.interaction.Select doesn't seem to have a change event)\n    \t\t\t            // YOURCALLBACK FKT (e.g. callback(features[0])\n    \t\t\t            let ft = features[0];\n    \t\t\t            _self.olPopup.innerHTML = ft.get('popupInfo')\n    \t\t\t            _self.popup.setPosition(mapBrowserEvent.coordinate);\n    \t\t\t            return false;\n    \t\t\t        }\n    \t\t\t        _self.popup.setPosition(undefined);\n    \t\t\t        // default exit rout\n    \t\t\t        return false;\n    \t\t\t    }\n    \t\t\t});\n\n    \t\t\t_self.map.addInteraction(select);\n    \t    },\n    \t    displayOverlapping: function(features, pixel){\n    \t    \tif(features == null) return;\n    \t    \tlet _self = this\n    \t\t  \tlet f = features[0];\n    \t\t  \tif (f) {\n    \t\t\t    let geom = f.getGeometry(),\n    \t\t\t        coord = geom.getCoordinates(),\n    \t\t\t        px = _self.map.getPixelFromCoordinate(coord),\n    \t\t\t    \tpoints = _self.generatePointsCircle(features.length, px);\n\n    \t\t\t    _self.multiLineString.setCoordinates([]);\n    \t\t\t    \n    \t\t\t    features.forEach(function(row, index){\n    \t\t\t      \tlet cd_end = _self.map.getCoordinateFromPixel(points[index]);\n    \t\t\t      \n    \t\t\t      \t_self.multiLineString.appendLineString(\n    \t\t\t          \tnew ol.geom.LineString([coord, cd_end])\n    \t\t\t      \t);\n    \t\t\t      \n    \t\t\t      \trow.setGeometry(new ol.geom.Point(cd_end));\n    \t\t\t      \t// row.setStyle(style_parada);\n    \t\t\t    });\n    \t\t\t}\n    \t    },\n    \t    generatePointsCircle: function(count, centerPixel) {\n    \t\t\tlet separation = 25,\n    \t\t\t\ttwoPi = Math.PI * 2,\n    \t\t\t\tstart_angle = twoPi / 12,\n    \t\t\t\tcircumference = separation * (2 + count),\n    \t\t\t\tlegLength = circumference / twoPi,  //radius from circumference\n    \t\t\t\tangleStep = twoPi / count,\n    \t\t\t\tres = [],\n    \t\t\t\ti, angle;\n    \t\t\t// res.length = count;\n\n    \t\t\tfor (i = count - 1; i >= 0; i--) {\n    \t\t\t\tangle = start_angle + i * angleStep;\n    \t\t\t\tres[i] = [\n    \t\t\t\t\tcenterPixel[0] + legLength * Math.cos(angle), \n    \t\t\t\t\tcenterPixel[1] + legLength * Math.sin(angle)\n    \t\t\t\t];\n    \t\t\t}\n    \t\t\treturn res;\n    \t\t},\n    \t\tupdateMap: function(posts){\n    \t\t\t// console.log('upate osm map')\n    \t\t\tlet _self = this\n    \t\t\tlet oldVectorLayer = _self.vectorLayer\n    \t\t\tlet changed = _self.initVectorSource(posts)\n    \t\t\t// console.log(changed)\n    \t\t\t_self.initCluster()\n    \t\t\t_self.initVectorLayer()\n    \t\t\tlet layers = _self.map.getLayers()\n    \t\t\tlet removed = layers.remove(oldVectorLayer)\n    \t\t\tif(removed != null) layers.push(_self.vectorLayer)\n    \t\t\t_self.fitMap();\n    \t\t\tif(changed){\n    \t\t\t\t// _self.map.render()\n    \t\t\t\t_self.fitMap();\n    \t\t\t}else{\n    \t\t\t\t_self.toDefaultMap()\n    \t\t\t}\n    \t\t}\n\t    };\n\t    // end mainOSMApp\n\n\t    var mainOSMMapEle = document.getElementById('map-osm-main');\n\t    if (mainOSMMapEle != null) {\n\t    \t$( window ).load(function() {\n\t\t\t\t// initMainOSMMap(_townhub_add_ons_locs)\n\n\t\t\t\tmainOSMApp.init('map-osm-main', _townhub_add_ons_locs);\n\t\t\t});\n\t    }\n\n\t    function singleMapOSM() {\n\t        $('.singleMapOSM').each(function(){\n\t            let $that = $(this),\n\t            \tID = $that.attr('id'),\n\t                mapCenter = [parseFloat($that.data('lng')), parseFloat($that.data('lat'))],\n\t                loc = $that.data('loc'),\n\t                zoomLevel = $that.data('zoom') ? parseInt($that.data('zoom')) : parseInt(_townhub_add_ons.map_zoom);\n\t            \n\n\t\t\t\tlet sview = new ol.View({\n\t\t\t\t  \tcenter: ol.proj.fromLonLat(mapCenter),\n\t\t\t\t  \tzoom: zoomLevel,\n\t\t\t\t  \t// maxZoom: 19,\n\t\t\t\t});\n\n\t\t\t\tlet sFeature = new ol.Feature({\n\t\t\t    \tgeometry: new ol.geom.Point(ol.proj.transform(mapCenter, 'EPSG:4326', 'EPSG:3857')),\n\t\t\t    \tname: loc,\n\t\t\t  \t});\n\n\t\t\t\tlet mkIcon = new ol.style.Style({\n\t\t\t\t    image: new ol.style.Icon({\n\t\t\t\t\t\tanchor: [0.5, 0.5],\n\t\t\t\t\t\tanchorXUnits: 'fraction',\n\t\t\t\t\t\tanchorYUnits: 'fraction',\n\t\t\t\t\t\tsrc: _townhub_add_ons.marker ,\n\t\t\t\t\t\t// color: '#4db7fe',\n\t\t\t\t\t\tcrossOrigin: 'anonymous',\n\t\t\t\t    })\n\t\t\t\t});\n\t\t\t\tsFeature.setStyle(mkIcon)\n\n\t\t\t\tlet svectorLayer = new ol.layer.Vector({\n\t\t\t        source: new ol.source.Vector({\n\t\t\t          \tfeatures: [sFeature]\n\t\t\t        }),\n\t\t\t        // style: function(feature) {\n\t\t\t        //   \t// hide geoMarker if animation is active\n\t\t\t        //   \tif (animating && feature.get('type') === 'geoMarker') {\n\t\t\t        //     \treturn null;\n\t\t\t        //   \t}\n\t\t\t        //   \treturn styles[feature.get('type')];\n\t\t\t        // }\n\t\t      \t});\n\n\t            let osm_single_map = new ol.Map({\n\t\t\t\t\ttarget: ID,\n\t\t\t\t\tview: sview,\n\t\t\t\t\tlayers: [\n\t\t\t\t\t\tnew ol.layer.Tile({\n\t\t\t\t\t\t\tpreload: 3,\n\t\t\t\t\t\t\tsource: new ol.source.OSM(),\n\t\t\t\t\t\t}), \n\t\t\t\t\t\tsvectorLayer,\n\t\t\t\t\t],\n\t\t\t\t\tloadTilesWhileAnimating: true,\n\t\t\t\t});\n\n\t        });\n\t        \n\t    }\n\t    \n\t    if($('.singleMapOSM').length){\n\t    \t$( window ).load(function() {\n\t\t\t\tsingleMapOSM()\n\t\t\t});\n\t    }\n\n\t    var appOSM = {},\n\t    \tinherits = ol.inherits,\n\t    \tdefaultInteractions = ol.interaction.defaults,\n\t    \tPointerInteraction = ol.interaction.Pointer;\n\t\t/**\n\t\t* @constructor\n\t\t* @extends {module:ol/interaction/Pointer}\n\t\t*/\n\t\tappOSM.Drag = function() {\n\n\t\t\tPointerInteraction.call(this, {\n\t\t\t\thandleDownEvent: appOSM.Drag.prototype.handleDownEvent,\n\t\t\t\thandleDragEvent: appOSM.Drag.prototype.handleDragEvent,\n\t\t\t\thandleMoveEvent: appOSM.Drag.prototype.handleMoveEvent,\n\t\t\t\thandleUpEvent: appOSM.Drag.prototype.handleUpEvent\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * @type {module:ol/pixel~Pixel}\n\t\t\t * @private\n\t\t\t */\n\t\t\tthis.coordinate_ = null;\n\n\t\t\t/**\n\t\t\t * @type {string|undefined}\n\t\t\t * @private\n\t\t\t */\n\t\t\tthis.cursor_ = 'pointer';\n\n\t\t\t/**\n\t\t\t * @type {module:ol/Feature~Feature}\n\t\t\t * @private\n\t\t\t */\n\t\t\tthis.feature_ = null;\n\n\t\t\t/**\n\t\t\t * @type {string|undefined}\n\t\t\t * @private\n\t\t\t */\n\t\t\tthis.previousCursor_ = undefined;\n\n\t\t};\n\n\t\tinherits(appOSM.Drag, PointerInteraction); \n\n\t\t/**\n\t\t* @param {module:ol/MapBrowserEvent~MapBrowserEvent} evt Map browser event.\n\t\t* @return {boolean} `true` to start the drag sequence.\n\t\t*/\n\t\tappOSM.Drag.prototype.handleDownEvent = function(evt) {\n\t\t\tlet map = evt.map;\n\n\t\t\tlet feature = map.forEachFeatureAtPixel(evt.pixel, function(feature) {\n\t\t\t\t\treturn feature;\n\t\t\t});\n\t\t\t// console.log(feature)\n\t\t\tif (feature) {\n\t\t\t\tthis.coordinate_ = evt.coordinate;\n\t\t\t\tthis.feature_ = feature;\n\t\t\t}\n\n\t\t\t// console.log(this.coordinate_)\n\n\t\t\treturn !!feature;\n\t\t};\n\n\n\t\t/**\n\t\t* @param {module:ol/MapBrowserEvent~MapBrowserEvent} evt Map browser event.\n\t\t*/\n\t\tappOSM.Drag.prototype.handleDragEvent = function(evt) {\n\t\t\tvar deltaX = evt.coordinate[0] - this.coordinate_[0];\n\t\t\tvar deltaY = evt.coordinate[1] - this.coordinate_[1];\n\n\t\t\tvar geometry = this.feature_.getGeometry();\n\t\t\tgeometry.translate(deltaX, deltaY);\n\t\t\t// geometry: new ol.geom.Point(ol.proj.transform(mapCenter, 'EPSG:4326', 'EPSG:3857')),\n\t\t\tthis.coordinate_[0] = evt.coordinate[0];\n\t\t\tthis.coordinate_[1] = evt.coordinate[1];\n\n\t\t\t// console.log(this.coordinate_)\n\n\t\t\tif(this.coordinate_ != null) onOSMDragMarker(ol.proj.transform(this.coordinate_, 'EPSG:3857', 'EPSG:4326'))\n\t\t};\n\n\n\t\t/**\n\t\t* @param {module:ol/MapBrowserEvent~MapBrowserEvent} evt Event.\n\t\t*/\n\t\tappOSM.Drag.prototype.handleMoveEvent = function(evt) {\n\t\t\tif (this.cursor_) {\n\t\t\t\tvar map = evt.map;\n\t\t\t\tvar feature = map.forEachFeatureAtPixel(evt.pixel,function(feature) {\n\t\t\t\t  \treturn feature;\n\t\t\t\t});\t\n\t\t\t\tvar element = evt.map.getTargetElement();\n\t\t\t\tif (feature) {\n\t\t\t\t\tif (element.style.cursor != this.cursor_) {\n\t\t\t\t\t  this.previousCursor_ = element.style.cursor;\n\t\t\t\t\t  element.style.cursor = this.cursor_;\n\t\t\t\t\t}\n\t\t\t\t} else if (this.previousCursor_ !== undefined) {\n\t\t\t\t\telement.style.cursor = this.previousCursor_;\n\t\t\t\t\tthis.previousCursor_ = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log(this.coordinate_)\n\t\t};\n\n\n\t\t/**\n\t\t* @return {boolean} `false` to stop the drag sequence.\n\t\t*/\n\t\tappOSM.Drag.prototype.handleUpEvent = function() {\n\n\t\t\tthis.coordinate_ = null;\n\t\t\tthis.feature_ = null;\n\t\t\t// console.log(this.coordinate_)\n\t\t\treturn false;\n\t\t};\n\n\n\t\tfunction onOSMDragMarker(coordinates){\n\t\t\t$('#latitude').val(coordinates[1])\n\t        $('#longitude').val(coordinates[0])\n\t        fetchAddress(coordinates)\n\t\t}\n\n\t    function submitMapOSM() {\n\t        $('.submitMapOSM').each(function(){\n\t            let $that = $(this),\n\t            \tID = $that.attr('id'),\n\t                mapCenter = [parseFloat(_townhub_add_ons.center_lng), parseFloat(_townhub_add_ons.center_lat)];\n\t            if($that.data('lat') && $that.data('lng')){\n\t                mapCenter = [parseFloat($that.data('lng')), parseFloat($that.data('lat'))];\n\t            }\n\n\t\t\t\tlet sview = new ol.View({\n\t\t\t\t  \tcenter: ol.proj.fromLonLat(mapCenter),\n\t\t\t\t  \tzoom: parseInt(_townhub_add_ons.map_zoom),\n\t\t\t\t});\n\n\t\t\t\tlet sFeature = new ol.Feature({\n\t\t\t    \tgeometry: new ol.geom.Point(ol.proj.transform(mapCenter, 'EPSG:4326', 'EPSG:3857')),\n\t\t\t  \t});\n\n\t\t\t\tlet mkIcon = new ol.style.Style({\n\t\t\t\t    image: new ol.style.Icon({\n\t\t\t\t\t\tanchor: [0.5, 0.5],\n\t\t\t\t\t\tanchorXUnits: 'fraction',\n\t\t\t\t\t\tanchorYUnits: 'fraction',\n\t\t\t\t\t\tsrc: _townhub_add_ons.marker ,\n\t\t\t\t\t\t// color: '#4db7fe',\n\t\t\t\t\t\tcrossOrigin: 'anonymous',\n\t\t\t\t    })\n\t\t\t\t});\n\t\t\t\tsFeature.setStyle(mkIcon)\n\n\t\t\t\tlet svectorLayer = new ol.layer.Vector({\n\t\t\t        source: new ol.source.Vector({\n\t\t\t          \tfeatures: [sFeature]\n\t\t\t        }),\n\t\t\t        // style: function(feature) {\n\t\t\t        //   \t// hide geoMarker if animation is active\n\t\t\t        //   \tif (animating && feature.get('type') === 'geoMarker') {\n\t\t\t        //     \treturn null;\n\t\t\t        //   \t}\n\t\t\t        //   \treturn styles[feature.get('type')];\n\t\t\t        // }\n\t\t      \t});\n\n\t            let osm_single_map = new ol.Map({\n\t            \tinteractions: defaultInteractions().extend([new appOSM.Drag()]),\n\t\t\t\t\ttarget: ID,\n\t\t\t\t\tview: sview,\n\t\t\t\t\tlayers: [\n\t\t\t\t\t\tnew ol.layer.Tile({\n\t\t\t\t\t\t\tpreload: 3,\n\t\t\t\t\t\t\tsource: new ol.source.OSM(),\n\t\t\t\t\t\t}), \n\t\t\t\t\t\tsvectorLayer,\n\t\t\t\t\t],\n\t\t\t\t\tloadTilesWhileAnimating: true,\n\t\t\t\t});\n\t        });\n\t        \n\t    }\n\t    \n\t    if($('.submitMapOSM').length){\n\t    \t$( window ).load(function() {\n\t\t\t\tsubmitMapOSM()\n\t\t\t});\n\t    }\n\n\t}else{\n        // for google map\n        // https://developers.google.com/maps/documentation/javascript/markers\n        var markerIcon = {\n            anchor: new google.maps.Point(22, 16),\n            url: _townhub_add_ons.marker,\n        }\n\n        // http://htmlpreview.github.io/?https://github.com/googlemaps/v3-utility-library/blob/master/infobox/docs/reference.html\n        // https://htmlpreview.github.io/?https://raw.githubusercontent.com/googlemaps/v3-utility-library/master/infobox/docs/examples.html\n        var boxText = document.createElement(\"div\");\n        boxText.className = 'map-box'\n        // var currentInfobox;\n        var boxOptions = {\n            content: boxText,\n            disableAutoPan: true,\n            alignBottom: true,\n            maxWidth: 300,\n            pixelOffset: new google.maps.Size(-140, -45),\n            zIndex: null,\n            boxStyle: {\n                width: \"260px\"\n            },\n            closeBoxMargin: \"0\",\n            closeBoxURL: \"\",\n            infoBoxClearance: new google.maps.Size(1, 1),\n            isHidden: false,\n            pane: \"floatPane\",\n            enableEventPropagation: false,\n        };\n\t}\n\n    var mapHasIdled = false;\n    // https://developers.google.com/maps/documentation/javascript/events\n    function initMainMap(locsArr, bounds_changed) {\n\n        // if( !mapHasIdled ) return;\n        // auto google map center and zoom\n        // https://coderwall.com/p/hojgtq/auto-center-and-auto-zoom-a-google-map\n        var bounds  = new google.maps.LatLngBounds();\n\n        var mapCenter = {lat: parseFloat(_townhub_add_ons.center_lat), lng: parseFloat(_townhub_add_ons.center_lng) } ; // new google.maps.LatLng(parseFloat(_townhub_add_ons.center_lat), parseFloat(_townhub_add_ons.center_lng)); // new google.maps.LatLng(40.7, -73.87); //  {lat: 40.7, lng: -73.87};\n        var info_tmpl = _.template( ($('#tmpl-map-info').length ? $('#tmpl-map-info').html() : ''), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g, } )\n        // https://stackoverflow.com/questions/38137071/google-map-api-drag-and-drop-pin\n        \n        // function locationData(locationURL, locationCategory, locationImg, locationTitle, locationAddress, locationPhone, locationStarRating, locationRevievsCounter) {\n        function locationData(locationURL, locationCategories, locationImg, locationTitle, locationAddress, locationPhone, locationRating, status, statusText, price_to, price_from ) {\n            return info_tmpl( {\n                url: locationURL,\n                cats: locationCategories,\n                img: locationImg,\n                title: locationTitle,\n                address: locationAddress,\n                phone: locationPhone,\n                rating: locationRating,\n                status: status,\n                statusText: statusText,\n                price_to: price_to,\n                price_from: price_from,\n            } )\n            // return ('<div class=\"map-popup-wrap\"><div class=\"map-popup\"><div class=\"infoBox-close\"><i class=\"fa fa-times\"></i></div><div class=\"map-popup-category\">' + locationCategory + '</div><a href=\"' + locationURL + '\" class=\"listing-img-content fl-wrap\"><img src=\"' + locationImg + '\" alt=\"\"></a> <div class=\"listing-content fl-wrap\"><div class=\"card-popup-raining map-card-rainting\" data-staRrating=\"' + locationStarRating + '\"><span class=\"map-popup-reviews-count\">( ' + locationRevievsCounter + ' reviews )</span></div><div class=\"listing-title fl-wrap\"><h4><a href=' + locationURL + '>' + locationTitle + '</a></h4><span class=\"map-popup-location-info\"><i class=\"fa fa-map-marker\"></i>' + locationAddress + '</span><span class=\"map-popup-location-phone\"><i class=\"fa fa-phone\"></i>' + locationPhone + '</span></div></div></div></div>')\n        }\n        var locations = [];\n        if(locsArr.length){\n            for (var i = 0; i < locsArr.length; i++) {\n                if(valid_coords(locsArr[i]['latitude'], locsArr[i]['longitude'] )){\n                    locations.push(\n                        [\n                            locationData(locsArr[i]['url'], locsArr[i]['cats'], locsArr[i]['thumbnail'], locsArr[i]['title'], locsArr[i]['address'], locsArr[i]['phone'], locsArr[i]['rating'], locsArr[i]['status'], locsArr[i]['statusText'], locsArr[i]['price_from'], locsArr[i]['price_to'] ), \n                            locsArr[i]['latitude'], \n                            locsArr[i]['longitude'], \n                            i+1, \n                            // locsArr[i]['ID'], \n                            (locsArr[i]['gmap_marker']? locsArr[i]['gmap_marker'] : markerIcon)\n                        ]\n                    )\n                }\n                    \n            }\n\n            // $('#main-theme').append( locationData(locsArr[0]['url'], locsArr[0]['cats'], locsArr[0]['thumbnail'], locsArr[0]['title'], locsArr[0]['address'], locsArr[0]['phone'], locsArr[0]['rating']) )\n            \n        }\n        var mapZoomAttr = $(mainMapEle).attr('data-map-zoom');\n        var mapScrollAttr = $(mainMapEle).attr('data-map-scroll');\n        if ( mapZoomAttr != null ) {\n            var zoomLevel = parseInt(mapZoomAttr);\n        }\n        else {\n            var zoomLevel = parseInt(_townhub_add_ons.map_zoom)\n        }\n        if ( mapScrollAttr != null ) {\n            var scrollEnabled = parseInt(mapScrollAttr);\n        }\n        else {\n            var scrollEnabled = false;\n        }\n        $('.nextmap-nav').on(\"click\", function (e) {\n            e.preventDefault();\n            map.setZoom(zoomLevel);\n            \n            if (window.currentMarker == undefined) {\n                google.maps.event.trigger(allMarkers[0], 'click');\n            }else{\n                var index = window.currentMarker;\n                if (index + 1 < allMarkers.length) {\n                    google.maps.event.trigger(allMarkers[index + 1], 'click');\n                }else {\n                    google.maps.event.trigger(allMarkers[0], 'click');\n                }\n            }\n        });\n        $('.prevmap-nav').on(\"click\", function (e) {\n\n            e.preventDefault();\n            map.setZoom(zoomLevel);\n            \n            if (window.currentMarker == undefined) {\n                google.maps.event.trigger(allMarkers[allMarkers.length - 1], 'click');\n            }else {\n                var index = window.currentMarker;\n                if (index - 1 < 0) {\n                    google.maps.event.trigger(allMarkers[allMarkers.length - 1], 'click');\n                }\n                else {\n                    google.maps.event.trigger(allMarkers[index - 1], 'click');\n                }\n            }\n        });\n\n        var mapOptions = window.cth_apply_filters('main_map_options', {\n            maxZoom: 18,\n            zoom: zoomLevel,\n            scrollwheel: scrollEnabled,\n            center: new google.maps.LatLng( mapCenter ),\n            mapTypeId: google.maps.MapTypeId[_townhub_add_ons.gmap_type],\n            zoomControl: false,\n            mapTypeControl: false,\n            scaleControl: false,\n            panControl: false,\n            navigationControl: false,\n            streetViewControl: false,\n            animation: google.maps.Animation.BOUNCE,\n            gestureHandling: 'cooperative',\n            styles: [{\n                    \"featureType\": \"administrative\",\n                    \"elementType\": \"labels.text.fill\",\n                    \"stylers\": [{\n                        \"color\": \"#444444\"\n                    }]\n                }\n            ]\n        });\n        \n\n        var map = new google.maps.Map(mainMapEle, mapOptions);\n        \n        var allMarkers = [];\n\n        google.maps.event.addListener(map, 'idle', function() { mapHasIdled = true; });\n\n        // Create OverlappingMarkerSpiderfier instsance\n        if( mapHasIdled ) var oms = new OverlappingMarkerSpiderfier(map,{markersWontMove: true, markersWontHide: true});\n\n        // This is necessary to make the Spiderfy work\n        // oms.addListener('click', function(marker) {\n        //     console.log('oms marker clicked')\n        // });\n        \n        // var zoomControlDiv = document.createElement('div');\n        ZoomControl(document.createElement('div'), map);\n        for (var i = 0; i < locations.length; ++i) {\n            var marker = new google.maps.Marker({\n                animation: google.maps.Animation.DROP,\n                position: new google.maps.LatLng(locations[i][1], locations[i][2]),\n                icon: locations[i][4],\n                id: i,\n                // id: locations[i][3],\n                map: map\n            });\n            // marker.addListener('click', function() {\n            //     \n            // });\n\n            allMarkers.push(marker);\n            attachMarkerInfoContent(marker, locations[i][0]);\n            // for auto center and zoom\n            var loc = new google.maps.LatLng(marker.position.lat(), marker.position.lng());\n            bounds.extend(loc);\n\n            // needed to make Spiderfy work\n            if( mapHasIdled ) oms.addMarker(marker);\n        }\n        // for auto center and zoom\n        if(allMarkers.length){\n            // map.setCenter(bounds.getCenter());\n            map.fitBounds(bounds);       //# auto-zoom\n            map.panToBounds(bounds);     //# auto-center\n        }\n        // cluster style\n        var clusterStyles = [{\n            url: '',\n            height: 40,\n            width: 40\n        }];\n        var options = {\n            cssClass: 'cluster',\n            imagePath: 'images/',\n            styles: clusterStyles,\n            minClusterSize: 2,\n            maxZoom: 15\n        };\n        var markerCluster = new MarkerClusterer(map, allMarkers, options);\n        // window resize event\n        google.maps.event.addDomListener(window, \"resize\", function () {\n            var center = map.getCenter();\n            google.maps.event.trigger(map, \"resize\");\n            map.setCenter(center);\n        });\n\n\n        map.addListener('bounds_changeds', function() {\n            // var center = map.getCenter();\n\n            \n\n            var bounds = map.getBounds();\n            var center = map.getCenter();\n\n            // console.log(center);\n            // console.log(bounds);\n\n            // if (bounds && center) {\n            //      var ne = bounds.getNorthEast();\n            //      // Calculate radius (in meters).\n            //      var radius = google.maps.geometry.spherical.computeDistanceBetween(center, ne);\n\n            //      console.log(radius)\n            // }\n\n            var radius = getBoundsRadius(bounds);\n\n            // console.log(radius)\n\n            // console.log('bounds_changed inside iniMap ' + bounds_changed)\n            \n            if( bounds_changed == true && document.getElementById('list-search-page-form') != null ){\n                // console.log('do bounds_changed ajax search')\n                bounds_changed == false;\n                doAjaxSearch(document.getElementById('list-search-page-form'), {\n                    address_lat: center.lat(),\n                    address_lng: center.lng(),\n                    ldistance: radius,\n                }, true );\n            }\n\n            // reset bounds_changed after 3 seconds\n            setTimeout(()=>{\n                if(bounds_changed == null) bounds_changed = true;\n            },3000)\n\n\n            // console.log(\n            //  {\n            //      address_lat: center.lat(),\n            //      address_lng: center.lng(),\n            //      ldistance: radius,\n            //  }\n            // )\n\n        });\n\n        // if(bounds_changed === true) bounds_changed = false;\n\n        // mouseover event on listing item on the list\n        // google.maps.event.addDomListener($('.listing-item'), \"mouseover\", function () {\n        //     \n        // });\n        $('#listing-items').on('mouseover','.listing-item',function(){\n            var index = $(this).index()\n            \n            if(allMarkers.length && -1 < index < allMarkers.length && allMarkers[index] != undefined){\n                allMarkers[index].setAnimation(google.maps.Animation.BOUNCE);\n            } //google.maps.event.trigger(allMarkers[index], 'mouseover');\n        })\n        $('#listing-items').on('mouseout','.listing-item',function(){\n            var index = $(this).index()\n            \n            if(allMarkers.length && -1 < index < allMarkers.length && allMarkers[index] != undefined){\n                // allMarkers[index].setAnimation(google.maps.Animation.DROP);\n                allMarkers[index].setAnimation(null);\n            } //google.maps.event.trigger(allMarkers[index], 'mouseout');\n        })\n\n        // create new event when main gmap is init\n\n        window.listingsMap = map;\n        var mapevt = new CustomEvent('listingsMapInit', { detail: 'mapInit' });\n        \n        window.dispatchEvent(mapevt);\n\n        \n    }\n    var mainMapEle = document.getElementById('map-main');\n    if (mainMapEle != undefined && mainMapEle != null) {\n        google.maps.event.addDomListener(window, 'load', function(){initMainMap(_townhub_add_ons_locs)});\n    }\n\n\n    function singleMap() {\n        $('.singleMap').each(function(){\n            var $that = $(this),\n                myLatLng = {\n                    lng: $that.data('lng'),\n                    lat: $that.data('lat'),\n                },\n                loc = $that.data('loc'),\n                zoom = $that.data('zoom') ? $that.data('zoom') : parseInt(_townhub_add_ons.map_zoom);\n            var mapOptions = window.cth_apply_filters('single_map_options', {\n                    zoom: zoom,\n                    center: myLatLng,\n                    scrollwheel: false,\n                    zoomControl: false,\n                    mapTypeControl: false,\n                    scaleControl: false,\n                    panControl: false,\n                    navigationControl: false,\n                    streetViewControl: false,\n                    mapTypeId: google.maps.MapTypeId[_townhub_add_ons.gmap_type],\n                    styles: [{\n                        \"featureType\": \"landscape\",\n                        \"elementType\": \"all\",\n                        \"stylers\": [{\n                            \"color\": \"#f2f2f2\"\n                        }]\n                    }]\n                });\n            var single_map = new google.maps.Map($that[0], mapOptions );\n\n            var marker = new google.maps.Marker({\n                position: myLatLng,\n                map: single_map,\n                icon: markerIcon,\n                title: loc\n            });\n            ZoomControl(document.createElement('div'),single_map)\n\n\n\n        });\n        \n    }\n    \n\n    if($('.singleMap').length){\n        google.maps.event.addDomListener(window, 'load', singleMap);\n    }\n\n    // for submit listing map\n    function submitMap(){\n        $('.submitMap').each(function(){\n            var $that = $(this),\n                mapCenter = {lat: parseFloat(_townhub_add_ons.center_lat), lng: parseFloat(_townhub_add_ons.center_lng) };\n            if($that.data('lat') && $that.data('lng')){\n                mapCenter = {\n                    lng: parseFloat($that.data('lng')),\n                    lat: parseFloat($that.data('lat')),\n                }\n            }\n            var submit_map = new google.maps.Map($('.submitMap')[0], {\n                    zoom: parseInt(_townhub_add_ons.map_zoom),\n                    center: mapCenter,\n                    mapTypeId: google.maps.MapTypeId[_townhub_add_ons.gmap_type],\n                    styles: [{\n                        \"featureType\": \"landscape\",\n                        \"elementType\": \"all\",\n                        \"stylers\": [{\n                            \"color\": \"#f2f2f2\"\n                        }]\n                    }]\n                });\n\n            var submit_marker = new google.maps.Marker({\n                position: mapCenter,\n                map: submit_map,\n                draggable: true,\n            });\n\n            submit_marker.addListener('dragend', (event)=>{\n                $('#latitude').val(event.latLng.lat())\n                $('#longitude').val(event.latLng.lng())\n                let coordinate = [event.latLng.lng(),event.latLng.lat()]\n                fetchAddress(coordinate)\n            });\n\n            $(document).on('webkitfullscreenchange mozfullscreenchange fullscreenchange', function() {\n                var isFullScreen = document.fullScreen ||\n                    document.mozFullScreen ||\n                    document.webkitIsFullScreen;\n                if (!isFullScreen) {\n                    submit_map.setCenter(submit_marker.position);\n                }\n            });\n\n            // on auto complete place change\n            $(document).on('change', '#latitude, #longitude', function(){\n                var latlng = new google.maps.LatLng( $('#latitude').val(), $('#longitude').val() );\n                submit_marker.setPosition(latlng);\n                submit_map.setCenter(latlng);\n            })\n\n        });\n    }\n    if($('.submitMap').length){\n        google.maps.event.addDomListener(window, 'load', submitMap);\n    }   \n    \n    \n    // Attaches an info window to a marker with the provided listing content. When the\n    // marker is clicked, the info window will open with the content.\n    function attachMarkerInfoContent(marker, infoContent) {\n        var theMap = marker.get('map');\n        // boxText.innerHTML = infoContent;\n        // var ib = new InfoBox(boxOptions);\n        marker.addListener('click', function() {\n            window.currentMarker = marker.id\n\n            boxText.innerHTML = infoContent;\n            var ib = new InfoBox(boxOptions);\n            \n            ib.open(theMap, marker);\n\n            \n\n            // pan to marker\n            theMap.panTo(marker.getPosition());\n            theMap.panBy(0, -180);\n            // close infoBox\n            google.maps.event.addListener(ib, 'domready', function () {\n                cardRaining();\n                $('.infoBox-close').click(function (e) {\n                    e.preventDefault();\n                    ib.close();\n                });\n            });\n            theMap.addListener('click', function(e) {\n                ib.close();\n            });\n            theMap.addListener('zoom_changed', function(e) {\n                ib.close();\n            });\n            \n            \n        });\n        // animate marker when hover listing item\n        // marker.addListener('mouseover', function() {\n        //     marker.setAnimation(google.maps.Animation.BOUNCE);\n        // });\n        // marker.addListener('mouseout', function() {\n        //     marker.setAnimation(null);\n        // });\n        \n    }\n\n    function ZoomControl(zoomControlDiv, theMap) {\n        zoomControlDiv.index = 1;\n        zoomControlDiv.className = \"zoom-controls-wrap\";\n        // https://developers.google.com/maps/documentation/javascript/controls#ControlPositioning\n\n        if(cthMobileDetect()){\n            theMap.controls[google.maps.ControlPosition.BOTTOM_LEFT].push(zoomControlDiv);\n            zoomControlDiv.classList.add(\"for-mobile\");\n        }else{\n            theMap.controls[google.maps.ControlPosition.RIGHT_CENTER].push(zoomControlDiv);\n        }\n        \n        zoomControlDiv.style.padding = '5px';\n        var controlWrapper = document.createElement('div');\n        \n        zoomControlDiv.appendChild(controlWrapper);\n        var zoomInButton = document.createElement('div');\n        zoomInButton.className = \"mapzoom-in\";\n        controlWrapper.appendChild(zoomInButton);\n        var zoomOutButton = document.createElement('div');\n        zoomOutButton.className = \"mapzoom-out\";\n        controlWrapper.appendChild(zoomOutButton);\n        google.maps.event.addDomListener(zoomInButton, 'click', function () {\n            theMap.setZoom(theMap.getZoom() + 1);\n        });\n        google.maps.event.addDomListener(zoomOutButton, 'click', function () {\n            theMap.setZoom(theMap.getZoom() - 1);\n        });\n    }\n    \n\n    // ajax helpers\n    var AjaxHelper = {\n        config: {},\n\n        initConfig: function() {\n            this.config = {\n                ajaxParams: {\n                    type: 'POST',\n                    url: _townhub_add_ons.url,\n                    data: {}\n                },\n                actionPrefix: 'townhub_addons_'\n            };\n        },\n\n        init: function() {\n            this.initConfig();\n        },\n\n        send: function( action, options ) {\n            var ajaxParams = JSON.parse(JSON.stringify(this.config.ajaxParams));\n\n            options = options || {};\n\n            action = this.config.actionPrefix + action;\n\n            $.extend( ajaxParams, options );\n\n           \n\n\n            if ( ajaxParams.data instanceof FormData ) {\n                \n                ajaxParams.data.append( 'action', action );\n                ajaxParams.data.append( '_nonce', _townhub_add_ons.nonce );\n            } else {\n                \n                ajaxParams.data.action = action;\n                ajaxParams.data._nonce = _townhub_add_ons.nonce;\n            }\n\n            var successCallback = ajaxParams.success,\n                errorCallback = ajaxParams.error;\n\n            if ( successCallback || errorCallback ) {\n                ajaxParams.success = function( response ) {\n                    \n                    if ( response.success && successCallback ) {\n                        successCallback( response.data );\n                    }\n\n                    if ( ( ! response.success ) && errorCallback ) {\n                        \n                        errorCallback( response.data );\n                    }\n                };\n\n                if ( errorCallback ) {\n                    ajaxParams.error = function( data ) {\n                        \n                        errorCallback( data );\n                    };\n                }\n            }\n\n            return $.ajax( ajaxParams );\n        }\n    };\n\n    AjaxHelper.init();\n\n\n\n\n    // listing submission\n    $(function(){\n        // $('#listing_cats').niceSelect()\n        // // $('#listing_cats').select2()\n        // // $('#timezone').select2()\n\n        // $('.search_lcats').niceSelect()\n        // $('#search_llocs').niceSelect()\n\n        var placesAutocompleteOptions = {types: ['geocode']} // geocode, address, establishment, regions, cities\n        if(_townhub_add_ons.country_restrictions){\n            var countries = _townhub_add_ons.country_restrictions.filter(country => country)\n            if(countries) placesAutocompleteOptions.componentRestrictions = {country: countries}\n        } \n    \tif(_townhub_add_ons.place_lng){\n\t        placesAutocompleteOptions.language = _townhub_add_ons.place_lng\n\t    } \n        if(_townhub_add_ons.free_map != '1'){\n\t        // init google autocomplete place\n\t        var submitLocationEle = document.getElementById('location');\n\t        if (submitLocationEle != undefined && submitLocationEle != null) {\n\t            var submitLocationAutocomplete = new google.maps.places.Autocomplete(\n\t                /** @type {!HTMLInputElement} */\n\t                submitLocationEle,\n\t                placesAutocompleteOptions\n\t                // {types: ['geocode']} // geocode, address, establishment, regions, cities\n\t            );\n\t        }\n        \tvar submitAddressEle = document.getElementById('address');\n\t        if (submitAddressEle != undefined && submitAddressEle != null) {\n\t            var submitAddressAutocomplete = new google.maps.places.Autocomplete(\n\t                /** @type {!HTMLInputElement} */\n\t                submitAddressEle,\n\t                placesAutocompleteOptions\n\t                // {types: ['geocode']} // geocode, address, establishment, regions, cities\n\t            );\n\n\t            submitAddressAutocomplete.addListener('place_changed', function(){\n\t                var place = submitAddressAutocomplete.getPlace();\n\t                $('#latitude').val(place.geometry.location.lat()).trigger('change')\n\t                $('#longitude').val(place.geometry.location.lng()).trigger('change')\n\t            });\n\t        }\n        }\n        // location picker for listing submit\n        \n\n    })\n    // 1 - load features\n    $(document).on('change', '#submit-listing-view #listing_cats', function(e){\n        var cats = $(this).val()\n\n        \n\n        var feasView = $('#submit-listing-view .listing-features-view');\n\n        feasView.addClass('loading-feas');\n\n        feasView.children('.listing-features').html('') // empty features before submit form\n        feasView.children('.listing-additional-features').html('') // empty additional-features before submit form\n\n\n        \n        AjaxHelper.send('cats_features', {\n            data : {\n                cats : cats\n            },\n            success: function(res){\n                \n                var feaTmpl = _.template( $('#tmpl-features-new').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,} ),\n                    addFeaTmpl = _.template( $('#tmpl-add-features').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,} ),\n                    feas = _townhub_submit.feas,\n                    add_feas = _townhub_submit.addfeas,\n                    newRes = {\n                        'features': [],\n                        'add-features': []\n                    }\n\n                if(_.isArray(feas) && feas.length){\n                    if(_.isArray(res['features']) && res['features'].length){\n                        feas = _.map(feas,function(f){return f+''})\n                        _.each(res['features'],function(fea){\n                            if( _.indexOf(feas, fea['value']) !== -1 ){\n                                fea['lvalue'] = fea['value']\n                            }\n                            newRes['features'].push(fea)\n                        })\n                    }\n                    \n                }else{\n                    newRes['features'] = res['features']\n                }\n\n                if(_.size(add_feas)){\n                    if(_.isArray(res['add-features']) && res['add-features'].length){\n                        _.each(res['add-features'],function(field){\n                            if(add_feas[field['name']] != undefined){\n                                field['lvalue'] = add_feas[field['name']]\n                            }\n                            newRes['add-features'].push(field)\n                        })\n                    }\n                }else{\n                    newRes['add-features'] = res['add-features']\n                }\n\n                var feasHTML = feaTmpl( {features:newRes['features']} ),\n                    addFeasHTML = addFeaTmpl( {addFeatures:newRes['add-features']} );\n                        \n                feasView.children('.listing-features').html(feasHTML)\n                feasView.children('.listing-additional-features').html(addFeasHTML)\n                if( feasHTML.indexOf('<') > -1 || addFeasHTML.indexOf('<') > -1 ) feasView.removeClass('loading-feas');\n            },\n            error: function(data){\n                \n            }\n        });\n\n    });\n\n    // file input type changed\n    // https://stackoverflow.com/questions/3144419/how-do-i-remove-a-file-from-the-filelist\n    // https://www.w3.org/TR/FileAPI/#dfn-filelist\n    // https://html.spec.whatwg.org/multipage/input.html#common-input-element-apis\n    // https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications\n    $(document).on('change','.fuzone input[type=\"file\"]',function(e){\n        var input = this;\n       \n        $(input).closest('.fuzone').children('.fu-imgs').html('')\n        // var inputFiles = input.files\n        if(input.files.length > _townhub_add_ons.md_limit){\n            alert(_townhub_add_ons.md_limit_msg);\n            input.value='';\n        }else if(input.files.length > 0) {\n            _.each(input.files,function(file,index){\n                if(file.type != undefined && file.type.indexOf('image/') === 0){\n                    if(file.size/1024/1024 > _townhub_add_ons.md_limit_size){\n                        alert(_townhub_add_ons.md_limit_size_msg);\n                        input.value='';\n                    }else{\n                        var reader = new FileReader();\n                        reader.onload = function (e) {\n                            $(input).closest('.fuzone').children('.fu-imgs').append('<img src=\"'+e.target.result+'\">');\n                        }\n                        reader.readAsDataURL(file);\n                    }\n                }else{\n                    \n\n                    input.value='';\n                }\n                    \n            });\n        }\n        \n    });\n    // validate submit form\n  //   $(\"#listing-submission-form\").validate({\n  //   \tinvalidHandler: function(event, validator) {\n\t\t//     if($('#listing_cats').length && $('#listing_cats').value == null){\n\t\t//     \t// console.log('destroy')\n\t\t//     \t$('#listing_cats').niceSelect('destroy')\n\t\t//     \t// $('#listing_cats').niceSelect()\n\t\t//     }\n\t\t// },\n  //       ignore: \".ignore\",\n  //       focusInvalid: true\n  //       //your other validation settings\n  //   });\n\n    // 2 - submit form\n    // $(document).on('submit','#listing-submission-form',function(e){\n    //     e.preventDefault();\n    //     var $form = $(this),\n    //         // data = new FormData(this),\n    //         sumbitBtn = $('#submit-listing-btn'),\n    //         submitMsg = $('#submit-listing-message');\n\n    //     submitMsg.removeClass('show success');\n\n    //     // safari fix\n    //     var $fileInputs = $('input[type=\"file\"]:not([disabled])', $form)\n    //     $fileInputs.each(function(_, input) {\n    //         if (input.files.length > 0) return\n    //         $(input).prop('disabled', true)\n    //     })\n    //     var data = new FormData(this)\n    //     $fileInputs.prop('disabled', false)\n\n    //     data.append('listing_id',_townhub_submit.id) \n\n    //     sumbitBtn.children('i').removeClass('fa-angle-right').addClass('fa-spinner fa-pulse')\n    //     sumbitBtn.attr('disabled',true)\n    //     // https://stopbyte.com/t/how-to-sending-multipart-formdata-with-jquery-ajax/58\n    //     AjaxHelper.send('submit_listing', {\n    //         data: data,\n\n    //         cache: false,\n    //         contentType: false,\n    //         processData: false,\n    //         success: function(res){\n    //             if(res['url'] != undefined) \n    //                 window.location.href = res['url']\n    //             else\n    //                 if(_townhub_add_ons.gcaptcha) grecaptcha.reset(submitCaptcha);\n\n    //             // console.log(res)\n    //             // sumbitBtn.children('i').removeClass('fa-spinner fa-pulse').addClass('fa-angle-right')\n    //             // sumbitBtn.attr('disabled',false)\n    //         },\n    //         error: function(data){\n    //             // console.log(data)\n    //             if(typeof data.submit_msg != 'undefined') submitMsg.html(data.submit_msg).addClass('show');\n    //             var a = 100\n    //             if (submitMsg.length) {\n    //                 $(\"html,body\").animate({\n    //                     scrollTop: submitMsg.offset().top - a\n    //                 }, {\n    //                     queue: false,\n    //                     duration: 1200,\n    //                     easing: \"easeInOutExpo\"\n    //                 });\n    //                 // return false;\n    //             }\n    //             sumbitBtn.children('i').removeClass('fa-spinner fa-pulse').addClass('fa-angle-right')\n    //             sumbitBtn.attr('disabled',false)\n    //             // reset recaptcha\n    //             if(_townhub_add_ons.gcaptcha) grecaptcha.reset(submitCaptcha);\n    //         }\n    //     })\n\n    //     return false;\n    // })\n    // listing submission end\n\n    // delete listing dashboard\n    $(document).on('click','.del-listing',function(e){\n        e.preventDefault();\n        var $btn = $(this),\n            lid = $(this).data('id'),\n            title = $(this).data('title')\n\n        var confirm = window.confirm( _townhub_add_ons.i18n['del-listing'].replace('{{listing_title}}',title) );\n        if(confirm && lid){\n            AjaxHelper.send('delete_listing', {\n                data: {\n                    lid: lid\n                },\n                success: function(res){\n                    \n                    $btn.closest('.dashboard-list.listing').remove();\n                },\n                error: function(data){\n                    \n                }\n            })\n\n        }\n\n    })\n    // end delete listing dashboard\n    // featured listing dashboard\n    $(document).on('click','.set-lfeatured',function(e){\n        e.preventDefault();\n        var $btn = $(this),\n            data = {\n                lid: $(this).data('id')\n            },\n            lfeatured = false;\n        if($btn.hasClass('lfeatured')){\n            lfeatured = true;\n            data['lfeatured'] = true;\n        }\n\n        $btn.addClass('do-process').attr('disabled',true);\n\n            \n        AjaxHelper.send('featured_listing', {\n            data: data,\n            success: function(res){\n                \n                if(lfeatured) \n                    $btn.removeClass('lfeatured');\n                else \n                    $btn.addClass('lfeatured');\n                $btn.removeClass('do-process').attr('disabled',false);\n            },\n            error: function(data){\n                \n                if(data.error != null && data.error ) $.notify(data.error, {globalPosition: 'bottom right'});\n                $btn.removeClass('do-process').attr('disabled',false);\n            }\n        })\n\n    })\n    // end featured listing dashboard\n\n    \n\n    // change listing layout\n\n    $(\".more-filter-option\").on(\"click\", function () {\n        $(\".hidden-listing-filter\").slideToggle(500);\n        $(this).find(\"span\").toggleClass(\"mfilopact\");\n    });\n    $(\".show-search-button\").on(\"click\", function () {\n        $(\".vis-header-search\").slideToggle(500);\n    });\n    // $(window).on('resize', function(){\n    //     if($(window).width() < 1368) $(\".vis-header-search\").fadeOut(500);\n    //     else $(\".vis-header-search\").fadeIn(500);\n    // })\n    $(\".listing-view-layout li a.list\").on(\"click\", function (e) {\n        e.preventDefault();\n        $(\".listing-view-layout li a\").removeClass(\"active\");\n        $(\".listing-item\").addClass(\"list-layout\");\n        $(this).addClass(\"active\");\n\n        // trigger listingsChanged event on window\n        onListingsChanged('listing-view-list')\n    });\n    $(\".listing-view-layout li a.grid\").on(\"click\", function (e) {\n        e.preventDefault();\n        $(\".listing-view-layout li a\").removeClass(\"active\");\n        $(\".listing-item\").removeClass(\"list-layout\");\n        $(this).addClass(\"active\");\n\n        // trigger listingsChanged event on window\n        onListingsChanged('listing-view-grid')\n    });\n    var listing_grid_wrap_cols = '';\n    $(\".listing-view-layout li a.expand-listing-view\").on(\"click\", function (e) {\n        e.preventDefault();\n        var $btn = $(this)\n        if(listing_grid_wrap_cols == '') listing_grid_wrap_cols = $(this).closest('.listings-grid-wrap').attr('class');\n        if($(this).hasClass('active')){\n            $(this).closest('.col-list-wrap').removeClass('expanded');\n            $(this).closest('.listings-grid-wrap').attr('class',listing_grid_wrap_cols);\n        }else{\n            $(this).closest('.col-list-wrap').addClass('expanded');\n            $(this).closest('.listings-grid-wrap').attr('class','listings-grid-wrap clearfix four-cols');\n        }\n        $(this).toggleClass(\"active\");\n        onListingsChanged('listing-view-expand')\n    });\n\n    // ajax search listing\n    //\n    $(document).on('submit','#list-search-page-form',function(e){\n        e.preventDefault();\n        if($(window).outerWidth() < 1065){\n            doAjaxSearch(this)\n            \n\n            // scroll to listings top\n            var b = $(this).closest('.listsearch-options');\n            if (b.length) {\n                $('.mb-open-filter').removeClass('active');\n                b.removeClass('mb-filter-show')\n                $(\"html,body\").animate({\n                    scrollTop: b.offset().top - 80\n                }, {\n                    queue: false,\n                    duration: 200,\n                    // easing: \"easeInOutExpo\"\n                });\n            }\n\n        } \n        return false;\n    })\n    // show hide mobile filters\n    $(document).on('click','.mb-open-filter', function(e){\n        e.preventDefault();\n        $(this).toggleClass('active');\n        $(this).closest('.listsearch-options').toggleClass('mb-filter-show')\n    })\n    // 1 - load features\n    $(document).on('change', '.listsearch-options select[name=\"lcats[]\"]', function(e){\n        var cat = $(this).val()\n        var feasView = $('.listsearch-options .listing-features-view');\n        if(feasView.length){\n            feasView.addClass('loading-feas');\n            feasView.children('.listing-features').html('') // empty feature before submit form\n        }\n        var subCatsView = $('.listsearch-options .listing-subcats-view');\n        if(subCatsView.length){\n            subCatsView.addClass('loading-subcats');\n            subCatsView.children('.listing-subcats').html('')\n        }\n        if($(window).outerWidth() > 1064) doAjaxSearch(this.form)\n\n        \n        AjaxHelper.send('cats_features', {\n            data : {\n                cats : [cat]\n            },\n            success: function(res){\n                if(feasView.length && res['features'] != null){\n                    var template = _.template( $('#tmpl-feature-search').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,} ),\n                        feasHTML = template( {features:res['features']} );\n                    feasView.children('.listing-features').html(feasHTML)\n                    if(feasHTML.indexOf('<') > -1) feasView.removeClass('loading-feas');\n                }\n                if($('.listing-term-desc').length && res['cat_desc'] != null){\n                    $('.listing-term-desc').html(res['cat_desc']);\n                } \n                if(subCatsView.length && res['subcats'] != null){\n                    var template = _.template( $('#tmpl-filter-subcats').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,} ),\n                        subCatsHTML = template( {subcats: res['subcats']} );\n                    \n                    subCatsView.children('.listing-subcats').html(subCatsHTML)\n                    \n                    if( subCatsHTML.indexOf('<') > -1) subCatsView.removeClass('loading-subcats');\n                }\n            },\n            error: function(data){\n                if($('.listing-term-desc').length){\n                    $('.listing-term-desc').html('');\n                } \n            }\n        });\n\n        // if(_townhub_add_ons.filter_subcats == 'yes'){\n        //     var subCatsView = $('.listsearch-options .listing-subcats-view');\n\n        //     subCatsView.addClass('loading-subcats');\n        //     subCatsView.children('.listing-subcats').html('')\n        //     AjaxHelper.send('cats_subcats', {\n        //         data : {\n        //             cats : [cat]\n        //         },\n        //         success: function(res){\n                    \n\n        //             var template = _.template( $('#tmpl-filter-subcats').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,} ),\n        //                 subCatsHTML = template( {subcats: res['subcats']} );\n                    \n        //             subCatsView.children('.listing-subcats').html(subCatsHTML)\n                    \n        //             if( subCatsHTML.indexOf('<') > -1) subCatsView.removeClass('loading-subcats');\n        //         },\n        //         error: function(data){\n                    \n        //         }\n        //     });\n        // }\n    });\n\n    // features checkbox\n    $(document).on('change', '.listsearch-options input[name=\"search_term\"],.listsearch-options input[name=\"lfeas[]\"],.listsearch-options select[name=\"llocs\"],.listsearch-options input[name=\"filter_subcats[]\"],.listsearch-options input[name=\"status\"],.listsearch-options select[name=\"price_range\"],.listsearch-options select[name=\"morderby\"],.listsearch-options input[name=\"event_date\"],.listsearch-options input[name=\"event_time\"],.listsearch-options input[name=\"ltags[]\"],.listsearch-options input[name=\"ldistance\"]', function(e){\n        if($(window).outerWidth() > 1064) doAjaxSearch(this.form)\n    });\n\n    $(document).on('change', '.listsearch-options #address_add', function(e, gplace_event, curr_event){\n        if( $(currentLocationEle).length && $('#nearme-filter-checkbox').length ){\n            if(curr_event == null){\n                if(gplace_event != null && gplace_event){\n                    $('#nearme-filter-checkbox').prop( \"checked\", true );\n                    $(currentLocationEle).closest('.listsearch-address-inputs').addClass('show-distance-filter');\n                }else{\n                    $('#nearme-filter-checkbox').prop( \"checked\", false );\n                    $(currentLocationEle).closest('.listsearch-address-inputs').removeClass('show-distance-filter');\n                }\n            }  \n        }\n        if($(window).outerWidth() > 1064) doAjaxSearch(this.form)\n    });\n\n    // function calSearchDistance(lat,lng,distance){\n    //     if(lat && lng) {\n    //         // north\n    //         var north = ComputeLatLng(lat, lng, 0, distance),\n    //             south = ComputeLatLng(lat, lng, 180, distance),\n    //             east = ComputeLatLng(lat, lng, 90, distance),\n    //             west = ComputeLatLng(lat, lng, 270, distance);\n    //         if(_.isArray(north) && _.isArray(south) && _.isArray(east) && _.isArray(west) && north.length == 2 && south.length == 2 && east.length == 2 && west.length == 2){\n    //             var max_lat = Math.max(north[0],south[0],east[0],west[0]),\n    //                 min_lat = Math.min(north[0],south[0],east[0],west[0]),\n\n    //                 max_lng = Math.max(north[1],south[1],east[1],west[1]),\n    //                 min_lng = Math.min(north[1],south[1],east[1],west[1]);\n\n    //             $('#distance_lat_min').val(min_lat)\n    //             $('#distance_lat_max').val(max_lat)\n\n    //             $('#distance_lng_min').val(min_lng)\n    //             $('#distance_lng_max').val(max_lng)\n\n    //         }\n    //     }\n    // }\n\n    // distance search\n    // $(document).on('change', '#listing-distance-search', function(e){\n    //     var distance = $(this).val();\n    //     var address_lat = $('#address_lat').val(),\n    //         address_lng = $('#address_lng').val();\n\n\n    //     // drawMapCircle(distance);\n\n    //     distance *= 1.2; // \n\n    //     calSearchDistance(address_lat, address_lng, distance);\n\n    //     if($(window).outerWidth() > 1064) doAjaxSearch(this.form)\n    // });\n\n    // ajax pagination\n    $(document).on('click', '.ajax-pagination .ajax-pagi-item', function(e){\n        if($('#list-search-page-form').length){\n            e.preventDefault();\n            var paged = $(this).data('page') || 1\n\n            // scroll to listings top\n            var b = $('#listing-items');\n            if (b.length) {\n                $(\"html,body\").animate({\n                    scrollTop: b.offset().top - 200\n                }, {\n                    queue: false,\n                    duration: 0,\n                    // easing: \"easeInOutExpo\"\n                });\n            }\n\n            doAjaxSearch(document.getElementById('list-search-page-form'), {paged: paged });\n            \n\n        }\n    });\n\n     // new listing slider\n    $(document).ready(function(){\n\n        if($('.listing-carousel').length){\n            $('.listing-carousel').each(function(){\n                var $slider = $(this),\n                    sliderItems = $slider.data('items');\n\n                 // console.log(sliderItems)\n                try{\n                    sliderItems = JSON.parse(decodeURIComponent(sliderItems))\n\n                     // console.log(sliderItems)\n\n                    if(sliderItems != null && sliderItems.length){\n                    \n                        var listingTypeTmpls = {};\n                        _.each(_townhub_add_ons.listing_types, function(typeID){\n                        \t// console.log(typeID)\n                            listingTypeTmpls['listing_template_type_'+typeID] = _.template( $('#tmpl-listing-item-type-'+typeID).html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,})\n                        })\n                        _.each(sliderItems, function(listing){\n                        \tif(listingTypeTmpls['listing_template_type_'+listing.typeID] != null)\n                            \t$slider.append( '<div class=\"slick-slide-item\">' + listingTypeTmpls['listing_template_type_'+listing.typeID]( listing ) + '</div>' );\n                            else\n                                $slider.append( '<div class=\"slick-slide-item\">' + listingTypeTmpls[Object.keys(listingTypeTmpls)[0]]( listing ) + '</div>' );\n                        });\n\n                        $slider.slick({\n                            infinite: true,\n                            slidesToShow: 4,\n                            slidesToScroll: 3,\n                            dots: true,\n                            arrows: false,\n                            centerMode: true,\n                            centerPadding: '0',\n                            responsive: [{\n                                    breakpoint: 1500,\n                                    settings: {\n                                        slidesToShow: 4,\n                                        slidesToScroll: 2,\n                                    }\n                                },\n                                {\n                                    breakpoint: 1224,\n                                    settings: {\n                                        slidesToShow: 3,\n                                        slidesToScroll: 1,\n                                    }\n                                },\n\n                                {\n                                    breakpoint: 1024,\n                                    settings: {\n                                        slidesToShow: 2,\n                                        slidesToScroll: 1,\n                                    }\n                                },\n                                {\n                                    breakpoint: 800,\n                                    settings: {\n                                        slidesToShow: 2,\n                                        slidesToScroll: 1,\n                                    }\n                                },\n                                {\n                                    breakpoint: 528,\n                                    settings: {\n                                        slidesToShow: 1,\n                                        slidesToScroll: 1,\n                                    }\n                                }\n                            ]\n\n                        });\n                        $slider.closest(\".list-carousel\").children('.swiper-button-prev').click(function(){\n                            $slider.slick('slickPrev');\n                        })\n                        $slider.closest(\".list-carousel\").children('.swiper-button-next').click(function(){\n                            $slider.slick('slickNext');\n                        })\n                        // sbp.on(\"click\", function () {\n                        //     $(this).closest(\".list-carousel\").find('.listing-carousel').slick('slickPrev');\n                        // });\n                        // sbn.on(\"click\", function () {\n                        //     $(this).closest(\".list-carousel\").find('.listing-carousel').slick('slickNext');\n                        // });\n                    }\n                    cardRainingVis()\n                }catch(e){\n                    console.log(e)\n                }\n                \n\n                    \n            })\n        }\n\n        // new js listing preview\n        if(window._townhub_add_ons_locs != null && window._townhub_add_ons_locs.length){\n            var template = _.template( $('#tmpl-no-results').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n            var listingTypeTmpls = {};\n\n            _.each(_townhub_add_ons.listing_types, function(typeID){\n                listingTypeTmpls['listing_template_type_'+typeID] = _.template( $('#tmpl-listing-item-type-'+typeID).html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,})\n            \n                 // console.log(listingTypeTmpls);\n            })\n            \n            _.each(window._townhub_add_ons_locs, function(listing){\n            \tif(listingTypeTmpls['listing_template_type_'+listing.typeID] != null)\n                \t$('#listing-items').append( listingTypeTmpls['listing_template_type_'+listing.typeID]( listing ) );\n                else\n                    $('#listing-items').append( listingTypeTmpls[Object.keys(listingTypeTmpls)[0]]( listing ) );\n            });\n\n            // trigger listingsChanged event on window\n            onListingsChanged('ajax_search')\n\n            cardRainingVis()\n        }\n\n\n    })\n\n\n\n    // get form data object\n    function getFormDataObj(dataArray){\n        \n        var paramObj = {};\n        if(dataArray){\n            $.each(dataArray, function(_, kv) {\n                if (paramObj.hasOwnProperty(kv.name)) {\n                    paramObj[kv.name] = $.makeArray(paramObj[kv.name]);\n                    paramObj[kv.name].push(kv.value);\n                }else {\n                    paramObj[kv.name] = kv.value;\n                }\n            });\n        }\n        \n        return paramObj\n    }\n\n    var ajax_count = 1;\n\n    // 2 - do ajax search listings with form data\n    /*\n    * form - filter form element\n    * vars - object - additional filter variables\n    */\n    function doAjaxSearch(form, vars, bounds_changed){\n        ajax_count++;\n        var data = getFormDataObj($(form).serializeArray());\n        if(vars != null) $.extend(true, data, vars)\n        data['ajax_count'] = ajax_count\n        if(!$('.listings-loader').length) $('#listing-items').addClass('loading-listings').after('<div class=\"listings-loader\"><i class=\"fa fa-spinner fa-pulse fa-3x\"></i></div>')\n        AjaxHelper.send('ajax_search', {\n            data : data,\n            success: function(res){\n            \t\n                if(res.ajax_count != undefined && res.ajax_count == ajax_count){\n                    \n                    var template = _.template( $('#tmpl-no-results').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n                \tvar listingTypeTmpls = {};\n\n                    $('#listing-items').html('');\n\n                    if(res.posts && res.posts.length){\n                        \n                        _.each(_townhub_add_ons.listing_types, function(typeID){\n                            listingTypeTmpls['listing_template_type_'+typeID] = _.template( $('#tmpl-listing-item-type-'+typeID).html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,})\n                        \n                            // console.log(listingTypeTmpls);\n                        })\n                        \n                        _.each(res.posts, function(listing){\n                        \tif(listingTypeTmpls['listing_template_type_'+listing.typeID] != null)\n                            \t$('#listing-items').append( listingTypeTmpls['listing_template_type_'+listing.typeID]( listing ) );\n                            else\n                                $('#listing-items').append( listingTypeTmpls[Object.keys(listingTypeTmpls)[0]]( listing ) );\n                        });\n                    }else{\n                        $('#listing-items').html( template( ) );\n                    }\n                      \n                    // trigger listingsChanged event on window\n                    onListingsChanged('ajax_search')\n                    if ( document.getElementById('map-main') != null ) initMainMap( res.posts, bounds_changed )\n                    if ( document.getElementById('map-osm-main') != null ) {\n                    \t// initMainOSMMap( res.posts, bounds_changed )\n                    \tmainOSMApp.updateMap(res.posts)\n                    }\n                    cardRainingVis()\n                    // update pagination\n                    if(typeof res.pagination != 'undefined') $('.listings-pagination-wrap').html(res.pagination)\n                    $('#listing-items').removeClass('loading-listings')\n                    $('.listings-loader').remove()\n                }// end eheck ajax count\n            },\n            error: function(res){\n                \n            }\n        });\n    }\n    // https://stackoverflow.com/questions/23344625/create-javascript-custom-event\n    function onListingsChanged(state){\n        // create new window event for listing change\n        var evt = new CustomEvent('listingsChanged', { detail: state });\n        \n        window.dispatchEvent(evt);\n    }\n\n    // get current geo location\n    function getPreciseLocation() {\n        return new Promise(function (resolve, reject) {\n            navigator.geolocation.getCurrentPosition(function (position) {\n                resolve({\n                    lat: position.coords.latitude,\n                    lng: position.coords.longitude\n                });\n            });\n        });\n    }\n\n    function getLocationDataResult(data){\n        let location_result = ''\n        if( data !== null && typeof data === 'object' ){\n            if(Array.isArray(_townhub_add_ons.address_format) && _townhub_add_ons.address_format.length){\n                let result_parts = _townhub_add_ons.address_format.filter((part)=>{return  data[part] != null && data[part] !=  '' }).map( (part)=>{return data[part]} );\n                location_result = result_parts.join(', ');\n            }else if(data[_townhub_add_ons.location_type] != null){\n                location_result = data[_townhub_add_ons.location_type]\n            }\n        }\n        return location_result\n    }\n\n    function extractAddressComponent(addresses, data){\n        var location_result = '';\n        $.each(addresses, function(i, address_component) {\n            // and new formatted_address from google\n            if(data['formatted_address'] == null && address_component['formatted_address']) data['formatted_address'] = address_component['formatted_address'];\n            if(typeof data != 'undefined' ) data[address_component.types[0]] = address_component.address_components[0].long_name;\n            if (address_component.types[0] == _townhub_add_ons.location_type) { // political or locality\n                location_result = address_component.address_components[0].long_name;\n            }\n        });\n        \n        location_result = getLocationDataResult(data)\n        if( data !== null && typeof data === 'object' ){\n            data.result = location_result;\n            return data;\n        }\n        return location_result;\n\n    }\n\n    function extractOSMAddress(address, data){\n        let location_result = '';\n        if(address.display_name != null) data['formatted_address'] = address.display_name\n        if(address.address != null){\n            if(address.address.country != null) data['country'] = address.address.country\n            if(address.address.state != null) data['administrative_area_level_1'] = address.address.state\n            if(address.address.city != null) \n                data['administrative_area_level_2'] = address.address.city\n            else if(address.address.county != null)\n                data['administrative_area_level_2'] = address.address.city\n\n            if(address.address.postcode != null) data['postal_code'] = address.address.postcode\n            if(address.address.village != null) data['locality'] = address.address.village\n            if(address.address.city_district != null) data['sublocality'] = address.address.city_district\n\n        }\n\n        location_result = getLocationDataResult(data)\n\n        if( data !== null && typeof data === 'object'){\n            data.result = location_result;\n            return data;\n        }\n        return location_result;\n    }\n\n    function addCurrentCity(geolocation) {\n        if (_townhub_add_ons.free_map == '1'){\n            return new Promise((resolve, reject) => {\n                let api = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${geolocation.lat}&lon=${geolocation.lng}&zoom=18&addressdetails=1`\n                fetch(api)\n                .then(function(response) {\n                    // console.log(response)\n\n                    return response.json();\n                })\n                .then(function(address) {\n                    \n                    geolocation = extractOSMAddress(address, geolocation);\n                    resolve(geolocation);\n                });\n            });\n        }else{\n            var geocoder = new google.maps.Geocoder;\n            return new Promise(function (resolve, reject) {\n                geocoder.geocode({location: geolocation}, function(results, status) {\n                    if (status === 'OK') {\n                        if (results[0]) {\n                            geolocation = extractAddressComponent(results, geolocation);\n                            resolve(geolocation);\n                        }\n                    }\n                });\n\n\n            });\n        }\n            \n    }\n\n    function getCurrentGeoLocation(callback){\n\n        var data = Cookies.get('cth-geolocation');\n        if( data != null && data ){\n            if( typeof data == 'string' ) data = JSON.parse(data);\n\n            if(_.isArray(_townhub_add_ons.address_format) && _townhub_add_ons.address_format.length){\n                var result_parts = _townhub_add_ons.address_format.filter((part)=>{return typeof data[part] != 'undefined' && data[part] !=  '' }).map( (part)=>{return data[part]} );\n                data.result = result_parts.join(', ');\n            }else if(typeof data[_townhub_add_ons.location_type] != 'undefined' && data.result != data[_townhub_add_ons.location_type] ){\n                data.result = data[_townhub_add_ons.location_type]\n            }\n            callback(data)\n        }else{\n            getPreciseLocation()\n                .then(addCurrentCity)\n                .then((data)=>{\n                    Cookies.set('cth-geolocation', data);\n                    callback(data)\n                })\n        }\n    }\n\n    // current location\n    $(function(){\n        if( $('#main_search_loc').length && Cookies.get('cth-geolocation') != null && Cookies.get('cth-geolocation')){\n            var data = Cookies.get('cth-geolocation');\n            if(typeof data == 'string') data = JSON.parse(data);\n            if(_.isArray(_townhub_add_ons.address_format) && _townhub_add_ons.address_format.length){\n                var result_parts = _townhub_add_ons.address_format.filter((part)=>{return data[part] != 'undefined' && typeof data[part] != 'undefined' && data[part] !=  '' }).map( (part)=>{return data[part]} );\n                data.result = result_parts.join(', ');\n            }else if(typeof data[_townhub_add_ons.location_type] != 'undefined' && data.result != data[_townhub_add_ons.location_type] ){\n                data.result = data[_townhub_add_ons.location_type]\n            }\n            $('#main_search_loc').val(data.result);\n\n            if( $('#hero-nearme-filter-checkbox').length ) $('#hero-nearme-filter-checkbox').prop( \"checked\" , true)\n            if( $('#address_lat').length ) $('#address_lat').val(data.lat)\n            if( $('#address_lng').length ) $('#address_lng').val(data.lng)\n        }\n    });\n\n    var placesAutocompleteOptions = {types: ['geocode']} // geocode, address, establishment, regions, cities\n    if(_townhub_add_ons.country_restrictions){\n        var countries = _townhub_add_ons.country_restrictions.filter(country => country)\n        if(countries) placesAutocompleteOptions.componentRestrictions = {country: countries}\n    } \n\tif(_townhub_add_ons.place_lng){\n        placesAutocompleteOptions.language = _townhub_add_ons.place_lng\n    } \n\n\n    // 2-2 - init auto complete for main search\n\n    if (_townhub_add_ons.free_map != '1'){\n        var mainSearchLocationEle = document.getElementById('main_search_loc');\n\t    if (mainSearchLocationEle != undefined && mainSearchLocationEle != null) {\n\t        document.addEventListener('DOMContentLoaded', function(){\n\t            \n\t            var locationAutocomplete = new google.maps.places.Autocomplete(\n\t                /** @type {!HTMLInputElement} */\n\t                mainSearchLocationEle,\n\t                placesAutocompleteOptions\n\t                // {types: ['geocode']} // geocode, address, establishment, regions, cities\n\t            );\n\t            locationAutocomplete.addListener('place_changed', function(){\n\t                var place = locationAutocomplete.getPlace();\n\t                if( $('#hero-nearme-filter-checkbox').length ) $('#hero-nearme-filter-checkbox').prop( \"checked\" , true)\n\t\t            if( $('#address_lat').length ) $('#address_lat').val(place.geometry.location.lat())\n\t\t            if( $('#address_lng').length ) $('#address_lng').val(place.geometry.location.lng())\n\t            });\t            \n\t        });\n\n\t        mainSearchLocationEle.oninput = function(){\n\t\t    \tif( $('#hero-nearme-filter-checkbox').length ) $('#hero-nearme-filter-checkbox').prop( \"checked\" , false)\n\t\t        if( $('#address_lat').length ) $('#address_lat').val('')\n\t\t        if( $('#address_lng').length ) $('#address_lng').val('')\n\t\t    };\n\t    }\n    }\n\n\n    $(document).on('change', '#nearme-filter-checkbox', function(e){\n    \tif($(this).prop( \"checked\")){\n    \t\tvar parent_wrap = $(this).closest('.nearme-filter-ver2')\n    \t\t// console.log('checked')\n    \t\tgetCurrentGeoLocation((data)=>{\n            // if(typeof data == 'string') data = JSON.parse(data)\n\n            \n\t            if( data.result != null ) {\n\n\t            \t// delay one second for checkbox\n\t                setTimeout(()=>{\n\n\t                \tparent_wrap.children('.address_lat').val(data.lat)\n\t                \tparent_wrap.children('.address_lng').val(data.lng)\n\n\t                \tdoAjaxSearch(document.getElementById('list-search-page-form'));\n\n\t                }, 500)\n\n\n\t            } \n\t        })\n    \t}else{\n    \t\tconsole.log('checked')\n    \t}\n    })\n    \n    \n    $(document).on('click','.get-current-city',function(e){\n        // e.preventDefault(); - not prevent default to make lable for checkbox work\n        getCurrentGeoLocation((data)=>{\n            // if(typeof data == 'string') data = JSON.parse(data)\n\n            \n            if( data.result != null ) {\n\n            \t// delay one second for checkbox\n                setTimeout(()=>{\n\n                \t// console.log(data)\n                    \n                \t$(mainSearchLocationEle).val( data.result )\n                    \n                    // console.log( $('#hero-nearme-filter-checkbox').prop( \"checked\" ) )\n                    // draw circle\n                    // drawMapCircle();\n                    // show radius filter\n                    if( $('#hero-nearme-filter-checkbox').length && $('#hero-nearme-filter-checkbox').prop( \"checked\" ) ){\n                    \tif( $('#address_lat').length ) $('#address_lat').val(data.lat)\n\t            \t\tif( $('#address_lng').length ) $('#address_lng').val(data.lng)\n                    }else{\n                        if( $('#address_lat').length ) $('#address_lat').val('')\n\t            \t\tif( $('#address_lng').length ) $('#address_lng').val('')\n                    }\n                    \n\n                },500)\n\n\n            } \n        })\n        \n    })\n    \n\n    // 3 - init auto complete\n    if (_townhub_add_ons.free_map != '1'){\n    \tvar currentLocationEle = document.getElementById('address_add');\n\t    if (currentLocationEle != undefined && currentLocationEle != null) {\n\t        document.addEventListener('DOMContentLoaded', function(){\n\t            \n\t            var locationAutocomplete = new google.maps.places.Autocomplete(\n\t                /** @type {!HTMLInputElement} */\n\t                currentLocationEle,\n\t                placesAutocompleteOptions\n\t                // {types: ['geocode']} // geocode, address, establishment, regions, cities\n\t            );\n\n\t            locationAutocomplete.addListener('place_changed', function(){\n\t                var place = locationAutocomplete.getPlace();\n\t                $('#address_lat').val(place.geometry.location.lat())\n\t                $('#address_lng').val(place.geometry.location.lng())\n\t                \n\t                $(currentLocationEle).trigger('change', [true])\n\t            });\n\t            \n\t        });\n\t    }\n    }\n    \n\n    // abort default input change when using google place autocomplete\n    // https://stackoverflow.com/questions/446594/abort-ajax-requests-using-jquery \n\n    // get current location by user IP\n    $(document).on('click','#get-curr-loc',function(e){\n        // e.preventDefault();\n        getCurrentGeoLocation((data)=>{\n            \n            // if(typeof data == 'string') data = JSON.parse(data)\n            if( data.result != null ){\n\n                // delay one second for checkbox\n                setTimeout(()=>{\n\n                    $('#address_lat').val(data.lat)\n                    $('#address_lng').val(data.lng)\n\n                    \n\n                    // draw circle\n                    // drawMapCircle();\n                    // show radius filter\n                    if( $('#nearme-filter-checkbox').length && $('#nearme-filter-checkbox').prop( \"checked\" ) ){\n                        $(currentLocationEle).closest('.listsearch-address-inputs').addClass('show-distance-filter');\n                        $(currentLocationEle).val( '' ).trigger('change', [false, true])\n                    }else{\n                        $(currentLocationEle).closest('.listsearch-address-inputs').removeClass('show-distance-filter');\n                        $(currentLocationEle).val( data.result ).trigger('change', [false, true])\n                    }\n                    \n\n                },500)\n                \n            }\n        })\n        \n    })\n\n    function drawMapCircle(distance){\n        // default distance\n        if(distance == null) \n            distance = 20;\n        else \n            distance = parseInt(distance);\n        var center = {lat: parseFloat($('#address_lat').val()), lng: parseFloat($('#address_lng').val())}\n        var cityCircle = new google.maps.Circle({\n            strokeColor: '#FF0000',\n            strokeOpacity: 0.8,\n            strokeWeight: 2,\n            fillColor: '#FF0000',\n            fillOpacity: 0.35,\n            map: window.listingsMap,\n            center: center,\n            radius: distance * 1000 // in meters\n        });\n\n    }\n\n\n    // var geocoder = new google.maps.Geocoder;\n\n    // $(document).on('click','#get-curr-loc',function(e){\n        \n    //     if (navigator.geolocation) {\n    //         navigator.geolocation.getCurrentPosition(getCurrentCity)\n    //     }else{\n    //         \n    //     }\n    // })\n\n    // function getCurrentCity(position){\n        \n    //     var geolocation = {\n    //             lat: position.coords.latitude,\n    //             lng: position.coords.longitude\n    //         };\n    //     $('#address_lat').val(geolocation.lat)\n    //     $('#address_lng').val(geolocation.lng)\n    //     geocoder.geocode({'location': geolocation}, function(results, status) {\n    //         if (status === 'OK') {\n    //             if (results[0]) {\n    //                 var arrAddress = results;\n                    \n    //                 $.each(arrAddress, function(i, address_component) {\n    //                     // https://developers.google.com/maps/documentation/javascript/geocoding#GeocodingAddressTypes\n    //                     if (address_component.types[0] == \"administrative_area_level_1\") { // political or locality\n\n                            \n    //                         // itemLocality = address_component.address_components[0].long_name;\n    //                         $(currentLocationEle).val( address_component.address_components[0].long_name ).trigger('change')\n    //                     }\n    //                 });\n    //             }\n    //         } else {\n    //         }\n    //     });\n\n    // }\n    \n    // submit edit profile form\n    $(document).on('submit','#user-info-form',function(e){\n        e.preventDefault();\n        var $form = $(this);\n        $form.find('.edit-profile-msg').removeClass('dis-msg')\n        $('#edit-profile-submit').addClass('disabled').attr('disabled', true).children('i').removeClass('fa-angle-right').addClass('fa-spinner fa-pulse')\n\n        // safari fix\n        var $fileInputs = $('input[type=\"file\"]:not([disabled])', $form)\n        $fileInputs.each(function(_, input) {\n            if (input.files.length > 0) return\n            $(input).prop('disabled', true)\n        })\n        var data = new FormData(this)\n        $fileInputs.prop('disabled', false)\n\n        AjaxHelper.send('profile', {\n            data : data,\n\n            cache: false,\n            contentType: false,\n            processData: false,\n            success: function(res){\n                // console.log(res)\n                if(typeof res['url'] != 'undefined') window.location.href = res['url']\n            },\n            error: function(res){\n                // console.log(res)\n                $('#edit-profile-submit').removeClass('disabled').attr('disabled', false).children('i').removeClass('fa-spinner fa-pulse').addClass('fa-angle-right')\n                if(typeof res['error'] != 'undefined') {\n                    $form.find('.edit-profile-msg').addClass('dis-msg').text(res['error'])\n                }\n            }\n        });\n    });\n    // on custom_avatar_upload change\n    $(document).on('change','.edit-profile-photo input[type=\"file\"]',function(e){\n        var input = this,\n            $photowrap = $(input).closest('.edit-profile-photo').children('.profile-photo-wrap');\n        if (input.files.length) {\n            _.each(input.files,function(file,index){\n                if(file.type != undefined && file.type.indexOf('image/') === 0){\n                    if(file.size/1024/1024 > _townhub_add_ons.md_limit_size){\n                        alert(_townhub_add_ons.md_limit_size_msg);\n                        input.value='';\n                    }else{\n                        var reader = new FileReader();\n                        reader.onload = function (e) {\n                            $photowrap.html('<img src=\"'+e.target.result+'\" class=\"avatar avatar-150 photo\">');\n                        }\n                        reader.readAsDataURL(file);\n                    }\n                }else{\n                    \n                    input.value=''\n                }\n                    \n            });\n        }\n        \n    });\n    // submit edit profile form\n    $(document).on('submit','#user-changepass-form',function(e){\n        e.preventDefault();\n        var $form = $(this),\n            data = new FormData(this);\n        $('.change-pass-error').remove()\n        $('#change-pass-submit').addClass('disabled').attr('disabled', true).children('i').removeClass('fa-angle-right').addClass('fa-spinner fa-pulse')\n        AjaxHelper.send('change_pass', {\n            data : data,\n\n            cache: false,\n            contentType: false,\n            processData: false,\n            success: function(res){\n                \n                if(typeof res['url'] != 'undefined') window.location.href = res['url']\n            },\n            error: function(res){\n                $('#change-pass-submit').removeClass('disabled').attr('disabled', false).children('i').removeClass('fa-spinner fa-pulse').addClass('fa-angle-right')\n                if(typeof res['error'] != 'undefined') {\n                    $form.find('.custom-form.no-icons').before(`<div class=\"change-pass-error\">${res['error']}</div>`)\n                }\n                \n            }\n        });\n    });\n\n    // booking widget\n    $('.quantity-item').on('click','.minus',function(e){\n        e.preventDefault()\n        var $qItem = $(this).closest('.quantity-item'),\n            min = $qItem.data('min') || 0,\n            step = $qItem.data('step') || 1,\n            $qty = $qItem.children('.qty'),\n            qtyval = parseInt($qty.val())\n\n        qtyval = isNaN(qtyval)? 1: qtyval\n        if(qtyval > min) $('.qty').val(qtyval-step);\n        if(qtyval > min) $qty.val(qtyval-step)\n        else $qty.val(min)\n        \n    })\n    $('.quantity-item').on('click','.plus',function(e){\n        e.preventDefault()\n        var $qItem = $(this).closest('.quantity-item'),\n            step = $qItem.data('step') || 1,\n            $qty = $qItem.children('.qty'),\n            qtyval = parseInt($qty.val())\n        qtyval = isNaN(qtyval)? 0: qtyval\n        $qty.val(qtyval+step)\n        $('.qty').val(qtyval+step);\n\n    })\n    // submit listing booking form\n    $(document).on('submit','.listing-booking-formxs',function(e){\n        e.preventDefault();\n        var data = new FormData(this),\n            $form = $(this),\n            $btn = $(this).find('.lbooking-submitxs');\n            console.log(data)\n        $btn.addClass('disabled').attr('disabled', true).children('i').removeClass('fa-angle-right').addClass('fa-spinner fa-pulse');\n        AjaxHelper.send('booking_listing', {\n            data : data,\n            cache: false,\n            contentType: false,\n            processData: false,\n            success: function(res){\n                console.log(res);\n                $form.fadeOut(300, function(){ \n                    if(res.message != undefined) $form.after(`<div class=\"booking-message\">${res.message}</div>`)\n                    $(this).remove();\n                });\n                if(typeof res.url != 'undefined'){\n                    if(_townhub_add_ons.lb_delay){\n                        setTimeout(()=>{\n                            window.location.href = res.url;\n                        }, _townhub_add_ons.lb_delay);\n                    }else{\n                        window.location.href = res.url;\n                    }\n                }\n            },\n            error: function(res){\n                console.log(res)\n                $btn.removeClass('disabled').attr('disabled', false).children('i').removeClass('fa-spinner fa-pulse').addClass('fa-angle-right');\n            }\n        });\n    });\n   \t$( \".lroom-form-cart\" ).each(function(){\n        $( \".lroom-form-cart\" ).on( \"submit\",function(e){\n            e.preventDefault();\n            var data = new FormData(this),\n                $form = $(this),\n                $btn = $(this).find('.lroom-submit'),\n                slid = $(\".rooms-container\").data(\"listingids\");\n                $(\".get-listing-ids\").val(slid);\n                // console.log(slid)\n            // $btn.addClass('disabled').attr('disabled', true).children('i').removeClass('fa-angle-right').addClass('fa-spinner fa-pulse');\n            \n            AjaxHelper.send('booking_woo_listing', {\n                data : data,\n                cache: false,\n                contentType: false,\n                processData: false,\n                success: function(res){\n                    // console.log(res)\n                    if(res.message != undefined) $form.after(`<div class=\"booking-message\">${res.message}</div>`)\n                        $(this).remove();\n                    if(typeof res.url != 'undefined'){\n                        window.location.href = res.url;\n                    }\n                },\n                error: function(res){\n                    \n                    // $btn.removeClass('disabled').attr('disabled', false).children('i').removeClass('fa-spinner fa-pulse').addClass('fa-angle-right');\n                }\n            });\n        });\n    });\n\n    $(function () {\n        $(\".lroom-options\").hide();\n        $(\".lroom-option-submit\").click(function () {\n            var target = $(this).nextAll('div.lroom-options:first');\n            $(\".lroom-options\").not(target).hide();\n            target.toggle();\n        });\n    });\n    //quantity---------------------\n    $('<div class=\"quantity-nav\"><div class=\"quantity-button quantity-up\">+</div><div class=\"quantity-button quantity-down\">-</div></div>').insertAfter(\".quantity-search input\");\n    $(\".quantity-search\").each(function(){\n        var t=jQuery(this),i=t.find('input[type=\"number\"]'),\n        n=t.find(\".quantity-up\"),a=t.find(\".quantity-down\"),\n        u=i.attr(\"min\"),r=i.attr(\"max\");\n        n.click(function(){\n            var n=parseFloat(i.val());\n            if(n>=r)var a=n;else a=n+1;\n            t.find(\"input\").val(a),\n            t.find(\"input\").trigger(\"change\")\n        }),\n        a.click(function(){\n            var n=parseFloat(i.val());\n            if(n<=u)var a=n;\n            else a=n-1;\n            t.find(\"input\").val(a),\n            t.find(\"input\").trigger(\"change\")\n        })\n    });\n    //daterangepicker--------------\n    function formatDate(date, modify, format = 'YYYY-MM-DD') {\n        if(date == null || date == '') \n            date = new Date()\n        else  \n            date = new Date(date)\n        if(typeof date.getMonth !== 'function') \n            date = new Date()\n        let d = date.getDate()\n        if(modify != null && !isNaN(parseInt(modify))){\n            d += parseInt(modify)\n            date.setDate(d)\n        }\n        \n        d = date.getDate()\n        let y = date.getFullYear(), m = date.getMonth(), fullm = _getMonthNum(m);\n        let fulld = _getDateNum(d)\n        if(format != '')\n            // http://blog.stevenlevithan.com/archives/date-time-format\n            return format.replace(/YYYY/g, y).replace(/MM/g, fullm).replace(/DD/g, fulld)\n        else\n            return date.toString()\n    };\n\n    function _getMonthNum(month){\n        month = parseInt(month) + 1\n        if(month < 10) return '0'+month\n        return month\n    }\n    function _getDateNum(date){\n        if(date < 10) return '0'+date\n        return date\n    }\n    $('.listing-search-dates').each(function(){\n            let ckinval = Cookies.get('esb_checkin'),\n                ckoutval = Cookies.get('esb_checkout');\n            ckinval = formatDate(ckinval, null, 'MM/DD/YYYY')\n            // console.log(ckinval);\n            if(ckoutval)\n                ckoutval = formatDate(ckoutval, null, 'MM/DD/YYYY')\n            else \n                ckoutval = formatDate(null, 1, 'MM/DD/YYYY')\n            // console.log(ckoutval);\n            $('.listing-search-dates').daterangepicker({\n                autoUpdateInput: false,\n                autoApply: true,\n                parentEl: $(this).parent(),\n                locale: {\n                    cancelLabel: 'Clear'\n                },\n                startDate: ckinval, \n                endDate: ckoutval,\n                minDate: formatDate(null, null, 'MM/DD/YYYY'), //'12/28/2018'\n            });\n            $('.listing-search-dates').on('apply.daterangepicker', function (ev, picker) {\n                let checkin = picker.startDate.format('YYYY-MM-DD'),\n                    checkout = picker.endDate.format('YYYY-MM-DD');\n\n                $(this).val(checkin + ' -> ' + checkout);\n                $('input[name=\"checkin\"]').val(checkin);\n                $('input[name=\"checkout\"]').val(checkout);\n\n                Cookies.set('esb_checkin', checkin, { expires: 7 });\n                Cookies.set('esb_checkout', checkout, { expires: 7 });\n            });\n            $('.listing-search-dates').on('cancel.daterangepicker', function (ev, picker) {\n                $(this).val('');\n            });\n        });\n    // cancel booking\n    $(document).on('click','.cancel-booking',function(e){\n        e.preventDefault();\n        var $btn = $(this),\n            bkid = $btn.data('id'),\n            bktitle = $btn.data('title')\n\n        var confirm = window.confirm( _townhub_add_ons.i18n['cancel-booking'].replace('{{booking_title}}',bktitle) );\n        if(confirm && bkid){\n            AjaxHelper.send('cancel_lbooking', {\n                data: {\n                    bkid: bkid\n                },\n                success: function(res){\n                    \n                    $btn.closest('.dashboard-list.lbooking').remove();\n                },\n                error: function(data){\n                    \n                }\n            })\n\n        }\n\n    });\n    // delete booking\n    $(document).on('click','.del-booking',function(e){\n        e.preventDefault();\n        var $btn = $(this),\n            bkid = $btn.data('id'),\n            bktitle = $btn.data('title')\n\n        var confirm = window.confirm( _townhub_add_ons.i18n['del-booking'].replace('{{booking_title}}',bktitle) );\n        if(confirm && bkid){\n            AjaxHelper.send('delete_lbooking', {\n                data: {\n                    bkid: bkid\n                },\n                success: function(res){\n                    \n                    $btn.closest('.dashboard-list.lbooking').remove();\n                },\n                error: function(data){\n                    console.log(data)\n                }\n            })\n\n        }\n\n    });\n\n    // approve booking\n    $(document).on('click','.approve-booking',function(e){\n        e.preventDefault();\n        var $btn = $(this),\n            bkid = $btn.data('id'),\n            bktitle = $btn.data('title')\n\n        var confirm = window.confirm( _townhub_add_ons.i18n['approve-booking'].replace('{{booking_title}}',bktitle) );\n        if(confirm && bkid){\n            AjaxHelper.send('approve_lbooking', {\n                data: {\n                    bkid: bkid\n                },\n                success: function(res){\n                    \n                    $btn.removeClass('approve-booking').children('span').text(_townhub_add_ons.lb_approved);\n                },\n                error: function(data){\n                    \n                }\n            })\n\n        }\n\n    });\n\n    // send author message\n    $(document).on('submit','.author-message-form',function(e){\n        e.preventDefault();\n        var data = new FormData(this),\n            $form = $(this),\n            $btn = $('.author-msg-submit')\n        $btn.addClass('disabled').attr('disabled', true).children('i').removeClass('fa-angle-right').addClass('fa-spinner fa-pulse');\n        $form.addClass('processing');\n        AjaxHelper.send('lauthor_message', {\n            data : data,\n\n            cache: false,\n            contentType: false,\n            processData: false,\n            success: function(res){\n                $form.fadeOut(300, function(){ \n                    if(res.message != undefined) $form.after(`<div class=\"lauthor-message\">${res.message}</div>`)\n                    $(this).remove();\n                });\n            },\n            error: function(res){\n            \tif(res.error != null) $('.author-message-error').html(res.error)\n            \t$btn.removeClass('disabled').attr('disabled', false).children('i').removeClass('fa-spinner fa-pulse').addClass('fa-angle-right');\n                // console.log(res);\n            }\n        });\n    });\n\n    // delete message\n    $(document).on('click','.del-lauthor_msg',function(e){\n        e.preventDefault();\n        var $btn = $(this),\n            msgid = $btn.data('id'),\n            msgtitle = $btn.data('title')\n\n        var confirm = window.confirm( _townhub_add_ons.i18n['del-message'].replace('{{message_title}}',msgtitle) );\n        if(confirm && msgid){\n            AjaxHelper.send('del_lmessage', {\n                data: {\n                    msgid: msgid\n                },\n                success: function(res){\n                    \n                    $btn.closest('.dashboard-list.lmessage').remove();\n                },\n                error: function(data){\n                    \n                }\n            })\n\n        }\n\n    });\n    $(document).on('click','.show-ctform-btn',function(e){\n    \te.preventDefault();\n    \t$(this).closest('.contacts-boxes').addClass('show-ctform')\n    });\n    $(document).on('click','.close-ctform-btn',function(e){\n    \te.preventDefault();\n    \t$(this).closest('.contacts-boxes').removeClass('show-ctform')\n    });\n\n    // chat author message\n    $(document).on('submit','.chat-lauthor-message-form',function(e){\n        e.preventDefault();\n        var data = new FormData(this),\n            $form = $(this)\n        AjaxHelper.send('chat_lauthor_message', {\n            data : data,\n\n            cache: false,\n            contentType: false,\n            processData: false,\n            success: function(res){\n                \n                // if(res.message != undefined) $form.after(`<div class=\"lauthor-message\">${res.message}</div>`)\n                $form.fadeOut(300, function(){ \n                    if(res.message != undefined) $form.after(`<div class=\"lauthor-message\">${res.message}</div>`)\n                    $(this).remove();\n                });\n            },\n            error: function(res){\n                \n            }\n        });\n    });\n\n    // new chat system\n    \n    // $(document).on('submit','#author-chat-form',function(e){\n    // \te.preventDefault();\n    // \tvar $form = $(this);\n\n    // \tconsole.log($form.serialize())\n    // });\n\n    // $(function(){\n    // \tif($('#chat-box').length) chat.init();\n\n\n    // });\n\n   //  var chat = {\n   //  \t// data holds variables for use in the class:\n\t  //   data : {\n\t  //   \tfirstLoaded\t\t\t\t: true, // getReplies on first page load\n\t  //       firstRemain         \t: true, // there is still previous replies\n\t  //       firstRID         \t\t: 0,\n\t  //       lastRID         \t\t: 0,\n\t  //       noActivity    \t\t\t: 0,\n\n\t  //       uid \t\t\t\t\t: _townhub_add_ons.curr_user.id,\n\t  //       user_one\t\t\t\t: 0,\n\n\t  //       current_user\t\t\t: _townhub_add_ons.curr_user.id,\n\t  //       display_name \t\t\t: _townhub_add_ons.curr_user.display_name,\n\t  //       avatar \t\t\t\t\t: _townhub_add_ons.curr_user.avatar,\n\t  //   },\n\t  //   init : function(){\n\t  //   \tvar top_loading = false;\n\t  //       // Converting the #chatLineHolder div into a jScrollPane,\n\t  //       // and saving the plugin's API in chat.data:\n\t  //       chat.data.jspAPI = $('#chat-box')\n\t\t //        .on(\n\t\t\t// \t\t'jsp-user-scroll-y',\n\t\t\t// \t\tfunction(event, destTop, isAtTop, isAtBottom){\n\t\t\t// \t\t\t// console.log(\n\t\t\t// \t\t\t// \t\t'Handle jsp-user-scroll-y', this,\n\t\t\t// \t\t\t// \t\t\t'destTop=', destTop,\n\t\t\t// \t\t\t// \t\t\t'isAtTop=', isAtTop,\n\t\t\t// \t\t\t// \t\t\t'isAtBottom=', isAtBottom\n\t\t\t// \t\t\t// );\n\t\t\t// \t\t\tif(chat.data.firstRemain == true && top_loading == false && isAtTop){\n\t\t\t// \t\t\t\ttop_loading = true;\n\t\t\t// \t\t\t\t// console.log('at Top')\n\t\t\t// \t\t\t\tchat.data.jspAPI.getContentPane().prepend(chat.data._tmpl_lmore({}))\n\n\t\t\t// \t\t\t\t// console.log(chat.data.firstRID)\n\n\t\t\t// \t\t\t\tAjaxHelper.send('chat_replies', {\n\t\t\t// \t\t            data : {\n\t\t\t// \t\t            \tcid: chat.data.cid,\n\t\t\t// \t\t            \tfirstID: chat.data.firstRID,\n\t\t\t// \t\t            },\n\t\t\t// \t\t            success: function(res){\n\t\t\t// \t\t            \tconsole.log(res)\n\t\t\t// \t\t            \t$('.chat-replies-lmore').remove();\n\n\t\t\t// \t\t          //   \tchat.data.jspAPI.getContentPane().html('');\n\t\t\t// \t\t            \tif(res.replies.length){\n\t\t\t// \t\t            \t\t// need to reverse replies for loading prev\n\t\t\t// \t\t            \t\tres.replies.reverse().forEach(function(reply){\n\t\t\t// \t\t            \t\t\tif(reply.crid != null && $('#chat-box .chat-reply-'+reply.crid).length == 0){\n\t\t\t// \t\t            \t\t\t\tif(reply.reply != null) reply.reply = reply.reply.replace(/\\n/g, \"<br />\");\n\t\t\t// \t\t            \t\t\t\tvar markup = chat.data._tmpl(reply)\n\t\t\t// \t\t\t            \t\t\tchat.data.jspAPI.getContentPane().prepend(markup);\n\t\t\t// \t\t            \t\t\t}\n\t\t\t// \t\t            \t\t})\n\t\t\t// \t\t\t                chat.data.firstRID = res.replies[res.replies.length - 1]['crid'];\n\t\t\t// \t\t            \t}else{\n\t\t\t// \t\t            \t\tchat.data.firstRemain = false;\n\t\t\t// \t\t            \t}\n\n\t\t\t// \t\t            \t// As we added new content, we need to\n\t\t\t// \t\t\t\t        // reinitialise the jScrollPane plugin:\n\t\t\t// \t\t\t\t        chat.data.jspAPI.reinitialise();\n\n\t\t\t// \t\t                // console.log(res)\n\t\t\t// \t\t                top_loading = false;\n\t\t\t// \t\t            },\n\t\t\t// \t\t            error: function(res){\n\t\t\t// \t\t                // console.log(res)\n\t\t\t// \t\t                if(res.error != null) chat.displayError(res.error);\n\t\t\t// \t\t                top_loading = false;\n\n\t\t\t// \t\t            }\n\t\t\t// \t\t        });\n\t\t\t// \t\t\t}\n\t\t\t// \t\t}\n\t\t\t// \t)\n\t\t\t// \t.jScrollPane({\n\t\t //            verticalDragMinHeight: 12,\n\t\t //            verticalDragMaxHeight: 12,\n\n\t\t //            maintainPosition: true,\n\t\t //            stickToBottom: true,\n\t\t //            verticalGutter: 1,\n\t\t //        }).data('jsp');\n\n\t\t\t// chat.data.touid = $('input[name=\"touid\"]').val();\n\t  //       chat.data.user_one = $('input[name=\"fuid\"]').val();\n\t  //       chat.data.cid = $('input[name=\"cid\"]').val();\n\n\t  //       chat.data._tmpl = _.template( $('#tmpl-chat-reply').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n\t  //       chat.data._tmpl_lmore = _.template( $('#tmpl-replies-lmore').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n\t  //       chat.data._tmpl_typing = _.template( $('#tmpl-chat-typing').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n\t  //       chat.data._tmpl_no_replies = _.template( $('#tmpl-chat-no-replies').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n\t  //       // We use the working variable to prevent\n\t  //       // multiple form submissions:\n\n\t  //       var working = false;\n\n\n\n\t  //       // Submitting a new chat entry:\n\t  //       $('#author-chat-form').submit(function(e){\n\t  //       \te.preventDefault();\n\t  //       \t// console.log(chat.data)\n\t  //           var text = $('textarea[name=\"reply_text\"]').val();\n\t  //           if(text.length == 0){\n\t  //               return false;\n\t  //           }\n\n\t  //           if(working) return false;\n\t  //           working = true;\n\n\t  //           // Assigning a temporary ID to the chat:\n\t  //           var tempID = 't'+Math.round(Math.random()*1000000),\n\t  //               params = {\n\t  //                   crid            \t: tempID,\n\t  //                   uid        \t\t\t: chat.data.uid,\n\t  //                   user_one        \t: chat.data.user_one,\n\t  //                   current_user        : chat.data.current_user,\n\t  //                   display_name        : chat.data.display_name,\n\t  //                   avatar    \t\t\t: chat.data.avatar,\n\t  //                   reply        \t\t: text.replace(/\\n/g, \"<br />\"),\n\t  //               };\n\n\t  //           // Using our addChatReply method to add the chat box\n\t  //           // to the screen immediately, without waiting for\n\t  //           // the AJAX request to complete:\n\n\t  //           chat.addChatReply($.extend({},params));\n\n\t  //           // Using our tzPOST wrapper method to send the chat\n\t  //           // via a POST AJAX request:\n\t  //           var data = getFormDataObj($(this).serializeArray());\n\t  //           data.user_id = _townhub_add_ons.curr_user.id;\n\t\t //        AjaxHelper.send('chat_reply', {\n\t\t //            data : data,\n\t\t //            success: function(res){\n\t\t //                console.log(res)\n\t\t //                working = false;\n\t\t //                if( chat.data.cid == 'new' && res.cid != null ){\n\t\t //                \tchat.data.cid = res.cid;\n\t\t //                \t$('input[name=\"cid\"]').val(res.cid);\n\t\t //                }  \n\t\t //                $('textarea[name=\"reply_text\"]').val('');\n\t\t //                $('.chat-reply-'+tempID).remove();\n\t\t //                // params['crid'] = res.crid;\n\t\t //                chat.data.lastRID = res.crid\n\t\t //                res.reply = res.reply.replace(/\\n/g, \"<br />\");\n\t\t //                chat.addChatReply($.extend({},res));\n\n\t\t //            },\n\t\t //            error: function(res){\n\t\t //                // console.log(res)\n\n\t\t //                if(res.error != null) chat.displayError(res.error);\n\n\t\t //                working = false;\n\n\t\t //            }\n\t\t //        });\n\n\t  //           return false;\n\t  //       });\n\n\n\t  //       // on select chat contact\n\t  //       $(document).on('click','.chat-item',function(e){\n\t  //       \te.preventDefault();\n\n\t  //       \t// console.log('chat item clicked')\n\n\t  //       \tif($(this).is('active')) return false;\n\n\t  //       \tif(working) return false;\n\t  //           working = true;\n\n\t  //       \tvar cid = $(this).data('cid') != null ? $(this).data('cid') : 0,\n\t  //       \t\tto_uid = $(this).data('touid') != null ? $(this).data('touid') : 0,\n\t  //       \t\tfirst_uid = $(this).data('fuid') != null ? $(this).data('fuid') : 0;\n\n\t  //       \t$('input[name=\"cid\"]').val(cid)\n\t  //       \t$('input[name=\"touid\"]').val(to_uid)\n\t  //       \t$('input[name=\"fuid\"]').val(first_uid)\n\n\t  //       \t// reinitialize chat data variable depends on chat contact\n\t  //       \tchat.data.touid = to_uid;\n\t  //       \tchat.data.user_one = first_uid;\n\t  //       \tchat.data.cid = cid;\n\t  //       \tchat.data.firstRemain = true;\n\n\t  //       \t$('.chat-item').removeClass('active');\n\t  //       \t$(this).addClass('active');\n\n\t  //       \t$('#chat-box').addClass('loading-replies');\n\n\n\n\t  //       \t// load chat replies\n\t\t //        AjaxHelper.send('chat_replies', {\n\n\t\t //            data : {\n\t\t //            \tcid: cid\n\t\t //            },\n\t\t //            success: function(res){\n\t\t //            \tconsole.log(res)\n\t\t //            \tchat.data.jspAPI.getContentPane().html('');\n\t\t //            \tif(res.replies.length){\n\t\t //            \t\tres.replies.forEach(function(reply){\n\t\t //            \t\t\tif(reply.reply != null) reply.reply = reply.reply.replace(/\\n/g, \"<br />\");\n\t\t //            \t\t\tvar markup = chat.data._tmpl(reply)\n\t\t //            \t\t\tchat.data.jspAPI.getContentPane().append(markup);\n\t\t //            \t\t})\n\n\t\t //            \t\tchat.data.noActivity = 0;\n\t\t\t//                 chat.data.firstRID = res.replies[0]['crid'];\n\t\t\t//                 chat.data.lastRID = res.replies[res.replies.length - 1]['crid'];\n\t\t //            \t}\n\n\t\t //            \t$('#chat-box').removeClass('loading-replies');\n\n\t\t //            \t// As we added new content, we need to\n\t\t\t// \t        // reinitialise the jScrollPane plugin:\n\t\t\t// \t        chat.data.jspAPI.reinitialise();\n\t\t\t// \t        chat.data.jspAPI.scrollToBottom(true);\n\n\t\t //                // console.log(res)\n\t\t //                working = false;\n\t\t //            },\n\t\t //            error: function(res){\n\t\t //                // console.log(res)\n\t\t //                if(res.error != null) chat.displayError(res.error);\n\t\t //                working = false;\n\n\t\t //            }\n\t\t //        });\n\n\t\t        \n\t        \t\n\t  //       });\n\n\t  //       $(document).on('focusin','textarea[name=\"reply_text\"]',function(e){\n\t\t //    \te.preventDefault();\n\n\t\t //    \tchat.data.jspAPI.getContentPane().append(chat.data._tmpl_typing({}));\n\t\t //    \tchat.data.jspAPI.reinitialise();\n\t\t\t// \tchat.data.jspAPI.scrollToBottom(true);\n\t\t //    });\n\t\t //    $(document).on('focusout','textarea[name=\"reply_text\"]',function(e){\n\t\t //    \te.preventDefault();\n\t\t //    \t$('.typing-indicator').remove();\n\t\t //    \tchat.data.jspAPI.reinitialise();\n\t\t\t// \tchat.data.jspAPI.scrollToBottom(true);\n\t\t //    });\n\n\t\t //    // Self executing timeout functions\n\t  //       (function getRepliesTimeoutFunction(){\n\t  //           chat.getReplies({cid: chat.data.cid,touid: chat.data.touid}, getRepliesTimeoutFunction);\n\t  //       })();\n\t\t    \n\n\n\t  //   }, // end init\n\n\t  //   // The addChatReply method ads a reply entry to the chat box\n\t  //   addChatReply : function(params){\n\t  //       // All times are displayed in the user's timezone\n\t        \n\t  //       if(params.time == null) {\n\n\t  //           // PHP returns the time in UTC (GMT). We use it to feed the date\n\t  //           // object and later output it in the user's timezone. JavaScript\n\t  //           // internally converts it for us.\n\n\t  //           // d.setUTCHours(params.time.hours,params.time.minutes);\n\n\t  //           var d = new Date();\n\n\t  //           params.time = (d.getHours() < 10 ? '0' : '' ) + d.getHours()+':'+\n\t  //                     (d.getMinutes() < 10 ? '0':'') + d.getMinutes();\n\t  //       }\n\n\t  //       if(params.reply != null) params.reply = params.reply.replace(/\\n/g, \"<br />\");\n\n\t  //       // var tmpl = _.template( $('#tmpl-chat-reply').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n\t  //       var markup = chat.data._tmpl(params),\n\t  //           exists = $('#chat-box .chat-reply-'+params.crid);\n\n\t  //       if(exists.length){\n\t  //           exists.remove();\n\t  //       }\n\n\t  //       if(!chat.data.lastRID){\n\t  //           // If this is the first chat, remove the\n\t  //           // paragraph saying there aren't any:\n\n\t  //           $('#chat-box .no-replies').remove();\n\t  //       }\n\n\t  //       // If this isn't a temporary chat:\n\t  //       if(params.crid.toString().charAt(0) != 't'){\n\t  //           var previous = $('#chat-box .chat-reply-'+(+params.crid - 1));\n\t  //           if(previous.length){\n\t  //               previous.after(markup);\n\t  //           }else chat.data.jspAPI.getContentPane().append(markup);\n\t  //       }else chat.data.jspAPI.getContentPane().append(markup);\n\n\t  //       // As we added new content, we need to\n\t  //       // reinitialise the jScrollPane plugin:\n\t  //       chat.data.jspAPI.reinitialise();\n\t  //       chat.data.jspAPI.scrollToBottom(true);\n\n\t  //   },\n\n\t  //   getRepliesCount : 1,\n\t  //   // This method requests the latest replies\n   //  \t// (since lastRID), and adds them to the page.\n\t  //   getReplies : function(args, callback){\n\t  //   \targs = $.extend({},args,{lastID: chat.data.lastRID, repliesCount: chat.getRepliesCount})\n\t  //   \t// load chat replies\n\t  //   \tchat.getRepliesCount++\n\t  //       AjaxHelper.send('chat_replies', {\n\t  //           data : args,\n\t  //           success: function(res){\n\t  //           \tconsole.log(res)\n\t  //           \tif(res.replies.length){\n\t  //           \t\tres.replies.forEach(function(reply){\n\t  //           \t\t\tif(reply.crid != null && $('#chat-box .chat-reply-'+reply.crid).length == 0){\n\t  //           \t\t\t\tif(reply.reply != null) reply.reply = reply.reply.replace(/\\n/g, \"<br />\");\n\t  //           \t\t\t\tvar markup = chat.data._tmpl(reply)\n\t\t //            \t\t\tchat.data.jspAPI.getContentPane().append(markup);\n\t  //           \t\t\t}\n\t  //           \t\t})\n\t  //           \t\tchat.data.noActivity = 0;\n\t  //           \t\tif(!chat.data.firstRID) chat.data.firstRID = res.replies[0]['crid'];\n\t\t //                chat.data.lastRID = res.replies[res.replies.length - 1]['crid'];\n\t  //           \t}else{\n\t  //           \t\t// If no chats were received, increment\n\t\t //                // the noActivity counter.\n\n\t\t //                chat.data.noActivity++;\n\t  //           \t}\n\t  //           \tif(!chat.data.lastRID){\n\t\t //                chat.data.jspAPI.getContentPane().html(chat.data._tmpl_no_replies({}));\n\t\t //            }\n\n\t\t //            // reinitialise the jScrollPane plugin:\n\t  //       \t\tchat.data.jspAPI.reinitialise();\n\t  //       \t\tif(chat.data.firstLoaded == true){\n\t  //       \t\t\t$('#chat-box').removeClass('loading-replies');\n\t  //       \t\t\tchat.data.jspAPI.scrollToBottom(true);\n\t  //       \t\t\tchat.data.firstLoaded = false;\n\t  //       \t\t}\n\t        \t\t\n\t\t //            // Setting a timeout for the next request,\n\t\t //            // depending on the chat activity:\n\t\t //            if(callback != null && typeof callback == \"function\"){\n\t\t //            \t// console.log('callback is a function')\n\t\t //            \tvar nextRequest = 1000;\n\n\t\t\t//             // 2 seconds\n\t\t\t//             if(chat.data.noActivity > 3){\n\t\t\t//                 nextRequest = 2000;\n\t\t\t//             }\n\n\t\t\t//             if(chat.data.noActivity > 10){\n\t\t\t//                 nextRequest = 5000;\n\t\t\t//             }\n\n\t\t\t//             // 15 seconds\n\t\t\t//             if(chat.data.noActivity > 20){\n\t\t\t//                 nextRequest = 15000;\n\t\t\t//             }\n\n\t\t\t//             setTimeout(callback,nextRequest);\n\t\t //            }\n\t  //               // console.log(res)\n\t  //               // working = false;\n\t  //           },\n\t  //           error: function(res){\n\t  //               // console.log(res)\n\t  //               // working = false;\n\t  //               if(chat.data.firstLoaded == true){\n\t  //       \t\t\t$('#chat-box').removeClass('loading-replies');\n\t  //       \t\t\tchat.data.jspAPI.scrollToBottom(true);\n\t  //       \t\t\tchat.data.firstLoaded = false;\n\t  //       \t\t}\n\t  //               if(res.error != null) chat.displayError(res.error);\n\t  //           }\n\t  //       });\n\n\t        \n\n\t  //   },\n\n\n\t  //   // This method displays an error message on the top of the page:\n\t  //   displayError : function(msg){\n\t  //       var elem = $('<div class=\"chat-error-message\">'+msg+'</div>');\n\t  //       elem.click(function(){\n\t  //           $(this).fadeOut(function(){\n\t  //               $(this).remove();\n\t  //           });\n\t  //       });\n\t  //       setTimeout(function(){\n\t  //           elem.click();\n\t  //       },15000);\n\n\t  //       elem.hide().prependTo('#chat-input-wrap').slideDown();\n\t  //   }\n   //  };\n\n    \n\n\n    // submit reset password form\n    $(document).on('submit','.reset-password-form',function(e){\n        e.preventDefault();\n        var data = new FormData(this),\n            $form = $(this)\n        AjaxHelper.send('reset_password', {\n            data : data,\n\n            cache: false,\n            contentType: false,\n            processData: false,\n            success: function(res){\n                \n                $('.resetpwd-error').remove();\n                $form.fadeOut(300, function(){ \n                    if(res.message != undefined) $form.after(`<div class=\"resetpwd-message\">${res.message}</div>`)\n                    $(this).remove();\n                });\n            },\n            error: function(res){\n                \n                $('.resetpwd-error').remove();\n                if(res.error != undefined) $form.before(`<div class=\"resetpwd-error\">${res.error}</div>`)\n            }\n        });\n    });\n\n    // submit listing claim form\n    $(document).on('submit','.listing-claim-form',function(e){\n        e.preventDefault();\n        var data = new FormData(this),\n            $form = $(this)\n        \n\n        $('#lclaim-submit').attr('disabled', true).addClass('submitted').append('<i class=\"fa fa-spinner fa-pulse\"></i>')\n        AjaxHelper.send('claim-listing', {\n            data : data,\n\n            cache: false,\n            contentType: false,\n            processData: false,\n            success: function(res){\n                \n                $('.claim-error').remove();\n                if(typeof res.message != 'undefined') $form.before(`<div class=\"claim-msg claim-success\">${res.message}</div>`)\n                $('#lclaim-submit').removeClass('submitted')\n\n                // $form.fadeOut(300, function(){ \n                //     if(typeof res.message != 'undefined') $form.before(`<div class=\"claim-msg claim-success\">${res.message}</div>`)\n                //     $form.remove();\n                // });\n            },\n            error: function(res){\n                \n                $('#lclaim-submit').removeClass('submitted')\n                $('.claim-error').remove();\n                if(typeof res.error != 'undefined') $form.before(`<div class=\"claim-msg claim-error\">${res.error}</div>`)\n            }\n        });\n    });\n\n    // delete notification\n    $(document).on('click','.delete-notification',function(e){\n        e.preventDefault();\n        var $btn = $(this),\n            noti_key = $btn.data('notification')\n        if(noti_key){\n            $btn.children('i').removeClass('fa-times').addClass('fa-spinner fa-pulse')\n            AjaxHelper.send('delete_notification', {\n                data: {\n                    id: noti_key\n                },\n                success: function(res){\n                    $btn.closest('.notification-item').remove();\n                },\n                error: function(data){\n                    \n                }\n            })\n\n        }\n\n    })\n\n    // bookmarks a listing\n    $(document).on('click','.bookmark-listing-btn',function(e){\n        e.preventDefault();\n        var $btn = $(this),\n            listing = $btn.data('id')\n\n        \n        if(parseInt(listing)){\n            $btn.removeClass('bookmark-listing-btn').addClass('bookmark-listing-btn-clicked')\n            $btn.html('<i class=\"fa fa-spinner fa-pulse\"></i>')\n            AjaxHelper.send('bookmarks_listing', {\n                data: {\n                    listing: parseInt(listing)\n                },\n                success: function(res){\n                    if(typeof res.icon != 'undefined') $btn.html(res.icon)\n                },\n                error: function(data){\n\n                }\n            })\n\n        }\n\n    })\n    $(document).on('click','.bookmark-listing-btn-clicked',function(e){\n        e.preventDefault();\n    })\n\n    // delete bookmark\n    $(document).on('click','.delete-bookmark-btn',function(e){\n        e.preventDefault();\n        var $btn = $(this),\n            listing = $btn.data('id')\n\n        \n        if(parseInt(listing)){\n            $btn.removeClass('delete-bookmark-btn').addClass('delete-bookmark-btn-clicked')\n            $btn.html('<i class=\"fa fa-spinner fa-pulse\"></i>')\n            AjaxHelper.send('delete_bookmark', {\n                data: {\n                    listing: parseInt(listing)\n                },\n                success: function(res){\n\n                    // if(typeof res.icon != 'undefined') $btn.html(res.icon)\n                    $btn.closest('.cth-table-list').remove();\n                },\n                error: function(data){\n\n                }\n            })\n\n        }\n\n    })\n    $(document).on('click','.delete-bookmark-btn-clicked',function(e){\n        e.preventDefault();\n    })\n\n    // selectbox\n    $('.chosen-select').niceSelect();\n\n    $('#listing_cats').niceSelect()\n    // $('#listing_cats').select2()\n    // $('#timezone').select2()\n\n    // $('.search_lcats').niceSelect()\n    $('#search_llocs').niceSelect()\n        \n    \n    // // select payment method\n    // $(document).on('change','input[type=\"radio\"][name=\"payment-method\"]',function(e){\n    //     e.preventDefault();\n    //     var btn_text = $(this).data('btn') || ''\n    //     if(btn_text) $('#lcheckout_btn').val(btn_text)\n    // })\n    //   lightGallery------------------\n    function initHiddenGal() {\n        $(\".dynamic-gal\").on('click', function () {\n            var dynamicgal = eval($(this).attr(\"data-dynamicPath\"));\n            // console.log(dynamicgal);\n            $(this).lightGallery({\n                dynamic: true,\n                dynamicEl: dynamicgal,\n                download: false,\n                loop: false,\n                counter: false\n            });\n\n        });\n    }\n    initHiddenGal();\n    //------------------------\n    $(document).on('click', '.ajax-link', function (e) {\n        e.preventDefault();\n        var roomid = $(this).data(\"roomid\");\n        $(\"html, body\").addClass(\"hid-body\");\n        $(\".ajax-modal-overlay\").fadeIn(400);\n        $(\".ajax-modal-container\").animate({\n            right: \"0\",\n            opacity: 1\n        }, 300);\n        $.ajax({\n            type : \"POST\",\n            url: _townhub_add_ons.url,\n            // dataType : \"json\",\n            data: {\n                action      : 'townhub_single_room',\n                rid         : roomid,\n                _wpnonce    : _townhub_add_ons.nonce\n            },\n            success: function(html) {\n            \t// console.log(html)\n                $(\"#ajax-modal\").empty().append(html);\n                initHiddenGal();\n\n                $(\".ajax-loader\").fadeOut(200);\n\n                // setTimeout(()=>{\n                    $(\".ajax-modal-wrap\").animate({\n                        opacity: 1\n                    }, 300);\n                // }, 1000);\n\n                $(\".ajax-modal-overlay , .ajax-modal-close\").on('click', function () {\n                    $(\"html, body\").removeClass(\"hid-body\");\n                    $(\".ajax-modal-overlay\").fadeOut(100);\n                    $(\".ajax-modal-container\").animate({\n                        right: \"-550px\",\n                        opacity: 0\n                    }, 300);\n                    setTimeout(function () {\n                        $(\"#ajax-modal\").empty();\n                        $(\".ajax-loader\").fadeIn(100);\n                    }, 300);\n                });\n            },\n            error : function(error){\n                console.log(error)\n            }\n        });\n        // $(\".ajax-loader\").delay(700).fadeOut(400);\n        \n        return false;\n    });\n    \n\n\n    //   Isotope------------------\n    function initIsotope() {\n        \n\n        if ($(\".gallery-items\").length) {\n            var a = $(\".gallery-items\").masonry({\n                percentPosition: true,\n                columnWidth: \".grid-sizer, .grid-sizer-second, .grid-sizer-three\",\n                itemSelector: \".gallery-item, .gallery-item-second, .gallery-item-three\",\n                transitionDuration: \"700ms\",\n                resize: true\n            });\n            a.imagesLoaded(function () {\n                a.masonry(\"layout\");\n            });\n            \n        }\n\n    }\n    \n\n\n    $(function(){\n\n        $(\".box-cat\").on({\n          mouseenter: function () {\n            if(typeof $(this).data(\"bgscr\") != 'undefined'){\n                var a = $(this).data(\"bgscr\");\n                $(this).closest('.slider-item').children(\".bg-ser\").css(\"background-image\", \"url(\" + a + \")\");\n            }\n          }\n        });\n\n        \n        // event countdown\n        if ($(\".countdown-widget\").length > 0) {\n            $(\".countdown-widget\").each(function(){\n                var $that = $(this),\n                    countDate = $that.data(\"countdate\"); // must be in utc time and Y-m-d H:i:s format\n                    // countTime = $that.data(\"counttime\"),\n                    // timezone = $that.data(\"tz\");\n                // #Options Option | Description ---|--- date | Target date, ex 08/27/2013 12:00:00 offset | UTC Timezone offset\n                $that.children('.countdown').downCount({\n                    date: countDate,\n                    // date: countDate+' '+countTime,\n                    // offset: parseInt(timezone)\n                }, function () {\n                    $that.addClass('countdown-ended')\n                });\n            });\n                \n        }\n\n        // listing weather widget\n        if($('.lweather-widget').length){\n            $(\".lweather-widget\").each(function(){\n                let $el = $(this),\n                lat = $el.data('lat'),\n                lon = $el.data('lng')\n\t            if(lat && lon){\n\t                $el.flatWeatherPlugin({\n\t                    lat: lat,\n\t                    lon: lon,\n\t                    api: \"openweathermap\",\n\t                    // apikey: weatherkey,\n\t                    view: \"full\",\n\t                    \n\t                    timeformat: \"12\",\n\t                    displayCityNameOnly: false,\n\t                    forecast: 50,\n\t                    render: true,\n\t                    loadingAnimation: true,\n\t                })\n\t            }\n            });\n        }\n\n        // listing background video\n        //   Video------------------\n        $(\".background-youtube-wrapper\").each(function(){\n            var $that   = $(this),\n                vid     = $that.data('vid'),\n                mt     = $that.data('mt'),\n                ql     = $that.data('ql') ? $that.data('ql') : 'highres',\n                pos     = $that.data('pos'),\n                ftb     = $that.data('ftb'),\n                rep     = $that.data('rep');\n\n            $that.YTPlayer({\n                fitToBackground: ftb,\n                videoId: vid,\n                pauseOnScroll: pos,\n                mute: mt,\n                repeat : rep,\n                //ratio: 16 / 9,// 4/3\n                callback: function() {\n                    var a = $that.data(\"ytPlayer\").player;\n                    a.setPlaybackQuality(ql);//small,medium,large,hd720,hd1080,highres,default\n                },\n                // playerVars: {\n                //     controls: 1,\n                // }\n            });\n        });\n        $(\".background-vimeo\").each(function(){\n            var $that       = $(this),\n                options     = $that.data('opts') ? $that.data('opts') : {video: '97871257',quality: '1080p',mute: '1'};\n            var url         = '//player.vimeo.com/video/' + options.video;\n            if(options.mute == '1') url +='?background=1&quality='+options.quality+'&loop='+options.loop;\n            else url += '?autoplay=1&quality='+options.quality+'&loop='+options.loop;\n            $that.append('<iframe src=\"' + url + '\"  frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen ></iframe>');\n\n        });\n\n        var bvmc = $(\".media-container\"),\n            bvfc =  $(\".background-vimeo iframe\"),\n            vch =  $(\".video-container\");\n        \n        $(\".video-holder\").height(bvmc.height());\n        if ($(window).width() > 1024) {\n            if ($(\".video-holder\").size() > 0)\n                if (bvmc.height() / 9 * 16 > bvmc.width()) {\n                    bvfc.height(bvmc.height()).width(bvmc.height() / 9 * 16);\n                   bvfc.css({\n                        \"margin-left\": -1 * $(\"iframe\").width() / 2 + \"px\",\n                        top: \"-75px\",\n                        \"margin-top\": \"0px\"\n                    });\n                } else {\n                    bvfc.width($(window).width()).height($(window).width() / 16 * 9);\n                    bvfc.css({\n                        \"margin-left\": -1 * $(\"iframe\").width() / 2 + \"px\",\n                        \"margin-top\": -1 * $(\"iframe\").height() / 2 + \"px\",\n                        top: \"50%\"\n                    });\n                }\n        } else if ($(window).width() < 760) {\n            $(\".video-holder\").height(bvmc.height());\n            bvfc.height(bvmc.height());\n        } else {\n            $(\".video-holder\").height(bvmc.height());\n            bvfc.height(bvmc.height());\n        }\n        vch.css(\"width\", $(window).width() + \"px\");\n        vch.css(\"height\", parseInt(720 / 1280 * $(window).width()) + \"px\");\n        if (vch.height() < $(window).height()) {\n            vch.css(\"height\", $(window).height() + \"px\");\n            vch.css(\"width\", parseInt(1280 / 720 * $(window).height()) + \"px\");\n        }\n\n\n        // call initIsotope\n        initIsotope();\n\n        // Share   ------------------\n        var shrcn = $(\".share-container\"),\n            shs = shrcn.data('share')\n        if(typeof shs == 'string'){\n            shs = shs.split(',')\n            shs = shs.map((n)=>{return n.trim()})\n            if(shs.length) shrcn.share({networks: shs})\n        }\n        function showShare() {\n            shrcn.removeClass(\"isShare\");\n            shrcn.addClass(\"visshare\");\n        }\n        function hideShare() {\n            shrcn.addClass(\"isShare\");\n            shrcn.removeClass(\"visshare\");\n        }\n        $(\".showshare\").on(\"click\", function () {\n            $(this).toggleClass(\"vis-butsh\");\n            // $(this).find(\"span\").text($(this).text() == 'Close' ? 'Share' : 'Close');\n            if ($(\".share-container\").hasClass(\"isShare\")) showShare();\n            else hideShare();\n        });\n\n    });\n\n\n\n})(jQuery);\n\n(function($) {\n    \n\n    // https://codeburst.io/how-to-the-masonry-layout-56f0fe0b19df\n    // Classname reference\n    const CLASSES = {\n        MASONRY: 'listing-items',\n        PANEL  : 'listing-item',\n        PAD    : 'masonry-pad',\n    }\n\n    const masonryConfig = {\n        sm: {\n            width: 430,\n            columns: 1,\n        },\n        md: {\n            width: 768,\n            columns: 2,\n        },\n        // lg: {\n        //     width: 992,\n        //     columns: 3,\n        // },\n        // xl: {\n        //     width: 1500,\n        //     columns: 4,\n        // },\n        lg: {\n            width: 992,\n            columns: 3,\n        },\n        four: {\n            columns: 4,\n        },\n        five: {\n            columns: 5,\n        },\n        six: {\n            columns: 6,\n        },\n        seven: {\n            columns: 7,\n        },\n        eight: {\n            columns: 8,\n        },\n        nine: {\n            columns: 9,\n        },\n        ten: {\n            columns: 10,\n        },\n    }\n\n    class Masonry {\n        constructor(el) {\n            if(el === null) return false\n            const {\n                layout\n            } = this\n            this.container = el\n            this.panels = el.querySelectorAll(`.${CLASSES.PANEL}`) \n            this.state = {\n                heights: [],\n            }\n            this.layout()\n\n            /**\n             * To make responsive, onResize layout again\n             * NOTE:: For better performance, please debounce this!\n             */\n            window.addEventListener('resize', _.debounce(()=>{this.layout()}, 100))\n            window.addEventListener('listingsChanged', _.debounce(()=>{\n                \n                this.__reInit()\n                // this.layout()\n                imagesLoaded(el, (instance) => {\n                    this.layout()\n                })\n            }, 100))\n            const load = imagesLoaded(el, (instance) => {\n                // _.debounce(layout.call(this), 500)\n                this.layout()\n            })\n            // load.on('progress', (instance, image) => {\n            //   // This trick allows us to avoid any floating pixel sizes 👍\n            //   // image.img.style.height = image.img.height\n            //   // image.img.setAttribute('height', image.img.height)\n            //   image.img.classList.remove('loading')\n            //   // NOTE: Not the cleanest thing to do here but this is a demo 😅\n            //   // const parentPanel = image.img.parentNode.parentNode\n            //   // parentPanel.setAttribute('style', `height: ${image.img.height}px`)\n            //   // parentPanel.classList.remove(`${CLASSES.PANEL}--loading`)\n            //   this.layout()\n            // })\n        }\n        /**\n          * Re init panels for adding new items\n          *\n        */\n        __reInit(){\n            const {\n                container,\n            } = this\n            this.panels = container.querySelectorAll(`.${CLASSES.PANEL}`)\n            // this.state = {\n            //     heights: [],\n            // } \n        }\n        /**\n          * Reset the layout by removing padding elements, resetting heights\n          * reference and removing the container inline style\n        */\n        __reset() {\n            const {\n                container,\n            } = this\n            this.state.heights = []\n            const fillers = container.querySelectorAll(`.${CLASSES.PAD}`)\n            if (fillers.length) {\n                for(let f = 0; f < fillers.length; f++) {\n                    fillers[f].parentNode.removeChild(fillers[f])\n                }\n            }\n            container.removeAttribute('style')\n        }\n        /**\n          * Iterate through panels and work out the height of the layout\n        */\n        __populateHeights() {\n            const {\n                panels,\n                state,\n            } = this\n            const {\n                heights,\n            } = state\n            if(panels.length){\n                for (let p = 0; p < panels.length; p++) {\n                    const panel = panels[p]\n                    const {\n                        order: cssOrder,\n                        msFlexOrder,\n                        height,\n                        marginTop,\n                        marginBottom\n                    } = getComputedStyle(panel)\n                    // const style = panel.currentStyle || getComputedStyle(panel);\n                    const order = cssOrder || msFlexOrder\n                    if (!heights[order - 1]) heights[order - 1] = 0\n                    heights[order - 1] = parseInt(heights[order - 1], 10) + parseInt(height, 10) + parseInt(marginTop, 10) + parseInt(marginBottom, 10)\n\n                }\n            }\n            \n        }\n        /**\n          * Set the layout height based on referencing the content cumulative height\n          * This probably doesn't need its own function but felt right to be nice\n          * and neat\n        */\n        __setLayout() {\n            const {\n                container,\n                state,\n            } = this\n            const {\n                heights,\n            } = state\n            this.state.maxHeight = Math.max(...heights)\n            container.style.height = `${this.state.maxHeight+10}px`\n        }\n        // /**\n        //   * JavaScript method for setting order of each panel based on panels.length and desired number of columns\n        // */\n        // __setOrders() {\n        //     const {\n        //         panels,\n        //     } = this\n        //     const cols = 2 // There needs to be an internal reference here that checks how many cols for viewport size\n        //     panels.forEach((panel, idx) => {\n        //         panel.style.order = ((idx + 1) % cols === 0) ? cols : (idx + 1) % cols\n        //     })\n        // }\n        /**\n          * Pad out layout \"columns\" with padding elements that make heights equal\n        */\n        __pad() {\n            const {\n                container,\n            } = this\n            const {\n                heights,\n                maxHeight,\n            } = this.state\n            // modify to add pad if there is not enough panel in a row\n            const currentSize = this._getLayoutSize()\n            if(heights.length < masonryConfig[currentSize].columns){\n                const remainder = masonryConfig[currentSize].columns - heights.length\n                for (let p = 0; p < remainder; p++){\n                    heights.push(0)\n                }\n            }\n            \n            heights.forEach((height, idx) => {\n                // if (height < maxHeight && height > 0) {\n                if (height < maxHeight ) {\n                    const pad             = document.createElement('div')\n                    pad.className         = CLASSES.PAD\n                    pad.style.height      = `${maxHeight - height}px`\n                    pad.style.width      = `${100/masonryConfig[currentSize].columns}%`\n                    pad.style.order       = idx + 1\n                    pad.style.msFlexOrder = idx + 1\n                    container.appendChild(pad)\n                }\n            })\n        }\n        /**\n          * Resets and lays out elements\n        */\n        layout() {\n            // this.__createNewPanels()\n\n            this.__reset()\n            // this.__setOrders()\n            this.__populateHeights()\n            this.__setLayout()\n            this.__pad()\n\n            // this.__createNewPanels()\n        }\n\n        // new for column larger than 2\n        \n\n        // return current layout size config to use\n        _getLayoutSize(){\n            const {\n                container,\n            } = this\n            const n = window.innerWidth\n            if(n< 768) return 'sm'\n            if(n< 992) return 'md'\n            // if(n< 1500) return 'lg'\n            // return 'xl'\n            // config for listing gallery wraper\n            var manWrap = $(container).closest('.listings-grid-wrap')\n            if(manWrap.hasClass('one-cols')) return 'sm'\n            else if(manWrap.hasClass('two-cols')) return 'md'\n            else if(manWrap.hasClass('four-cols')) return 'four'\n            else if(manWrap.hasClass('five-cols')) return 'five'\n            else if(manWrap.hasClass('six-cols')) return 'six'\n            else if(manWrap.hasClass('seven-cols')) return 'seven'\n            else if(manWrap.hasClass('eight-cols')) return 'eight'\n            else if(manWrap.hasClass('nine-cols')) return 'nine'\n            else if(manWrap.hasClass('ten-cols')) return 'ten'\n            return 'lg'\n        }\n\n        // class method\n        // __setOrders(){\n        //     const {panels} = this\n        //     const currentSize = this._getLayoutSize()\n        //     panels.forEach((panel,idx)=>{\n        //         let order = idx % masonryConfig[currentSize].columns\n        //         if(order === 0) order = masonryConfig[currentSize].columns\n        //         panel.style.order = order\n        //     })\n        // }\n\n        /**\n          * Create new hidden panel elements to push real panel in right order\n        */\n        __createNewPanels() {\n            const {\n                container,\n                panels\n            } = this\n            if(panels.length){\n                const currentSize = this._getLayoutSize()\n                let remainder = panels.length % masonryConfig[currentSize].columns\n                \n                if(remainder > 0){\n                    let remainder_panel = masonryConfig[currentSize].columns - remainder\n                    \n                    for (let p = 0; p < remainder_panel; p++){\n                        const panel             = document.createElement('div')\n                        panel.className         = CLASSES.PANEL\n                        panel.className         += ' hidden-listing'\n                        panel.style.height      = '1px'\n                        container.appendChild(panel)\n                    }\n                }\n            }\n        }\n    }\n\n    window.listingsMasonry = new Masonry(document.querySelector(`.${CLASSES.MASONRY}`))\n    /**\n    * To make responsive, onResize layout again\n    * NOTE:: For better performance, please debounce this!\n    */\n    // window.addEventListener('resize', () => myMasonry.layout())\n\n    // $(function() {\n    //     $('.listing-items').imagesLoaded( function() {\n    //         // images have loaded\n    //         $('.listing-item').matchHeight();\n    //     });\n        \n    // });\n\n\n})(jQuery);\n\n// handle media manager for frontend edit listing\n(function($) {\n    // When the DOM is ready.\n    $(function() {\n        $( \".select-images-list:not(.single-image-select)\" ).sortable();\n        // var files_frame; // variable for the wp.media file_frame\n        var file_frame; // variable for the wp.media file_frame\n\n        // attach a click event (or whatever you want) to some element on your page\n        $( '.select-images-btn' ).on( 'click', function( event ) {\n            event.preventDefault();\n\n            var $btn = $(this),\n                is_multiple = $btn.data('single') == undefined ? true : false,\n                fieldname = $(this).data('field')\n\n            // if the file_frame has already been created, just reuse it\n            // if ( file_frame ) {\n            //     // file_frame.options.multiple = true;\n            //     // var selection = file_frame.state().get('selection')\n            //     // selection.add([])\n            //     file_frame.open();\n            //     return;\n            // }\n\n            file_frame = wp.media.frames.file_frame = wp.media({\n                title: $btn.data( 'uploader_title' ),\n                button: {\n                    text: $btn.data( 'uploader_button_text' ),\n                },\n                multiple: is_multiple // set this to true for multiple file selection\n            });\n\n            file_frame.on( 'select', function() {\n                if(is_multiple){\n                    var selection = file_frame.state().get('selection');\n                    selection.map( function( attachment ) {\n                        attachment = attachment.toJSON();\n\n                        var tmpl = _.template( $('#tmpl-imageslist').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n                        // add fieldname data\n                        // attachment.field = fieldname\n                            \n                        $btn.closest('.select-images-wrap').children('.select-images-list').append( tmpl( $.extend({},attachment,{field:fieldname}) ) )\n                    });\n                    $btn.closest('.select-images-wrap').children('.select-images-list').sortable();\n                }else{\n                    var attachment = file_frame.state().get('selection').first().toJSON();\n                    var tmpl = _.template( $('#tmpl-imageslist').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n\n                    $btn.closest('.select-images-wrap').children('.select-images-list').html( tmpl( $.extend({},attachment,{field:fieldname}) ) )\n\n                    // custom for custom avatar upload\n                    if($btn.data('field') == 'custom_avatar'){\n                        $btn.closest('.edit-profile-photo').children('.profile-photo-wrap').html( '<img src=\"'+attachment.url+'\" class=\"avatar avatar-150 photo\">' )\n                    }\n                }\n                    \n            });\n\n            //reset selection in popup, when open the popup\n            // file_frame.on('open',function() {\n            //     var selection = file_frame.state().get('selection');\n\n            //     // ids = jQuery('#my_field_id').val().split(',');\n            //     [1908,1907].forEach(function(id) {\n            //         var attachment = wp.media.attachment(id);\n            //         attachment.fetch();\n            //         selection.add( attachment ? [ attachment ] : [] );\n\n            //     });\n                \n            // });\n\n            // Set post id - listing id\n            if(typeof _townhub_submit != 'undefined') wp.media.model.settings.post.id = _townhub_submit.id\n\n            file_frame.open();\n        \n        });\n        // open reselect image\n        $(document).on( 'click' ,'.select-image-item', function( event ) {\n            event.preventDefault();\n            // event.stopPropagation()\n\n            var $selectedli = $(this),\n                fieldname = $(this).data('field')\n                // img_id = $(this).children('input').data('id')\n\n            // if the file_frame has already been created, just reuse it\n            // if ( file_frame ) {\n            //     // file_frame.options.multiple = false;\n            //     // setMediaSelectedImg()\n            //     file_frame.open();\n            //     return;\n            // }\n\n            file_frame = wp.media.frames.file_frame = wp.media({\n                title: $selectedli.data( 'uploader_title' ),\n                button: {\n                    text: $selectedli.data( 'uploader_button_text' ),\n                },\n                multiple: false // set this to true for multiple file selection\n            });\n\n            file_frame.on( 'select', function() {\n                var attachment = file_frame.state().get('selection').first().toJSON();\n                var tmpl = _.template( $('#tmpl-imageslist').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n                // add fieldname data\n                // attachment.field = fieldname\n                $selectedli.replaceWith(tmpl( $.extend({},attachment,{field:fieldname}) ))\n\n                // $selectedli.remove()\n            });\n\n            //reset selection in popup, when open the popup\n            file_frame.on('open',function() {\n                // file_frame.options.multiple = false;\n                // setMediaSelectedImg()\n\n                var selection = file_frame.state().get('selection'),\n                    img_id = $selectedli.children('input').data('id'),\n                    attachment = wp.media.attachment(img_id);\n                attachment.fetch();\n                selection.add( attachment ? [ attachment ] : [] );\n            });\n\n            // function setMediaSelectedImg(){\n            //     var selection = file_frame.state().get('selection'),\n            //         id = $selectedli.children('input').data('id'),\n            //         attachment = wp.media.attachment(id);\n            //     attachment.fetch();\n            //     selection.add( attachment ? [ attachment ] : [] );\n            // }\n\n            // Set post id - listing id\n            if(typeof _townhub_submit != 'undefined') wp.media.model.settings.post.id = _townhub_submit.id\n\n            file_frame.open();\n        });\n\n        // total rate comment\n        $(document).ready(function(){\n            $(\".rate-range\").each(function(){\n                    var total = 0;\n                    var  key = 0;\n                    key = key + 1;\n                    total = total + parseInt($(this).attr(\"value\"));  \n                var values = parseFloat(total)/parseFloat(key);\n                // console.log(total);\n                // console.log(values);\n                $('#reviews-total-score').html(values.toFixed(1));\n            }).change(function() {\n                var total = 0;\n                var  key = 0;\n                $(\".rate-range:checked\").each(function() {\n                \t// console.log($(this).val())\n                \t// console.log($(this).length)\n                    key = key + 1;\n                    if( $(this).val() != '' )\n                        total = total + parseInt($(this).val());  \n                });\n                // console.log(total);\n                var values = parseFloat(total)/parseFloat(key);\n                // console.log(total)\n               // console.log(values);\n                $('#reviews-total-score').html(values.toFixed(1));\n            });\n        });\n        $(document).ready(function(){\n           var remov = $(\".remov-reviw-cont\").data(\"remov\");\n           // console.log(remov)\n           if(remov == 'yes'){\n             $(\"#reviews-total-sec\").css(\"display\",\"none\");\n           }\n        });\n\n\n        // remove image item\n        $(document).on('click','.remove-img-btn',function(e){\n            e.preventDefault();\n            e.stopPropagation()\n            $(this).closest('.select-image-item').remove()\n        })\n        $(\".bk-tick\").on(\"click\", function (e) {\n            e.preventDefault();\n            $(\".quantity-item-bk\").toggle();\n        });\n        $(\".booking-ticket-warp\").each(function(){\n             var total = 0;\n            $(\".quantity-item\").each(function(){\n                var valq = $(this).find(\"input[name='lb_quantity']\").attr(\"value\"),\n                price = $(\".bk-tick\").data(\"lprice\");\n                // console.log(valq)\n                $('.qtyTotal').html(valq);\n                $( \"input[name='qty']\" ).val(valq);\n                if (price != '') {\n                     total += parseFloat(valq) * parseFloat(price);\n                }\n            })\n            $('#total-bki').html(total.toFixed(0));\n\n        }).change(function() {\n            var total = 0;\n            $(\".quantity-item\").each(function(){\n                var valq = $(this).find(\"input[name='lb_quantity']\").val(),\n                price = $(\".bk-tick\").data(\"lprice\");\n                // console.log(valq)\n                $('.qtyTotal').html(valq);\n                $( \"input[name='qty']\" ).val(valq);\n                if (price != '') {\n                     total += parseFloat(valq) * parseFloat(price);\n                }\n            })\n            $('#total-bki').html(total.toFixed(0));\n        });\n         //quantity---------------------\n        // $('<div class=\"quantity-nav\"><div class=\"quantity-button quantity-up\">+</div><div class=\"quantity-button quantity-down\">-</div></div>').insertAfter(\".quantity-search input\");\n        $(\".quantity-search\").each(function(){\n            var t=jQuery(this),i=t.find('input[type=\"number\"]'),\n            n=t.find(\".quantity-up\"),a=t.find(\".quantity-down\"),\n            u=i.attr(\"min\"),r=i.attr(\"max\");\n            n.click(function(){\n                var n=parseFloat(i.val());\n                if(n>=r)var a=n;else a=n+1;\n                t.find(\"input\").val(a),\n                t.find(\"input\").trigger(\"change\")\n            }),\n            a.click(function(){\n                var n=parseFloat(i.val());\n                if(n<=u)var a=n;\n                else a=n-1;\n                t.find(\"input\").val(a),\n                t.find(\"input\").trigger(\"change\")\n            })\n        });\n        // lservice toggle\n        $(document).ready(function(){\n        \t$('.lservices-header').click(function(){\n\t        \t$('.lservices-body').toggle();\n\t        })\n        \t$('.lservices-item').each(function(){\n        \t\t$('.lserv-item').click(function(){\n        \t\t\tvar checked = $(\"input[name='addservices[]']:checked\").length;\n        \t\t\t$('.count-select-ser').text(checked);\n        \t\t})\n        \t})\n        \t\n        })\n    });\n\n})(jQuery);\n\nfunction initImagesCollage(){\n    jQuery(\".images-collage-item\").each(function () {\n        var tcp = jQuery(this),\n      dpl = tcp.data(\"position-left\"),\n            dpt = tcp.data(\"position-top\"),\n            dzi = tcp.data(\"zindex\");\n        tcp.css({\n            \"top\": dpt + \"%\"\n        });\n        tcp.css({\n            \"z-index\": dzi,\n        });\n        tcp.css({\n            \"left\": dpl + \"%\",\n        });\n    });\n\n}\n\n\n// for elementor editor\njQuery( function( $ ) {\n    \n    initImagesCollage();\n    /**\n     * select2_renderselections\n     * @param  {jQuery Select2 object}\n     * @return {null}\n     */\n    function select2_renderSelections($select2) {\n        var order = $select2.data('preserved-order') || [];\n        var $container = $select2.next('.select2-container');\n        var $tags = $container.find('li.select2-selection__choice');\n        var $input = $tags.last().next();\n\n        // apply tag order\n        if(order.length){\n            order.forEach(function (val) {\n                var $el = $tags.filter(function (i, tag) {\n                    \n                    return $(tag).data('data').id === val;\n                });\n                $input.before($el);\n            });\n        }\n            \n    }\n\n    /**\n     * selectionHandler\n     * @param  {Select2 Event Object}\n     * @return {null}\n     */\n    function selectionHandler(e) {\n        var $select2 = $(this);\n        var val = e.params.data.id;\n        var order = $select2.data('preserved-order') || [];\n\n        switch (e.type) {\n            case 'select2:select':\n                \n                order[order.length] = val;\n                break;\n            case 'select2:unselect':\n              \n                var found_index = order.indexOf(val);\n                if (found_index >= 0) order.splice(found_index, 1);\n                break;\n        }\n        $select2.data('preserved-order', order); // store it for later\n        select2_renderSelections($select2);\n\n\n        \n    }\n\n    // Add space for Elementor Menu Anchor link\n    if ( undefined !== window.elementorFrontend && undefined !== window.elementorFrontend.hooks) {\n\n        // this.$window.trigger( 'elementor:init' );\n\n        // window.elementorFrontend.hooks.addAction( 'frontend/element_ready/global', function( $scope ) {\n        //     \n        // } );\n\n        // elementor.on('preview:loaded',function(){\n        //     \n        // })\n\n        // this.trigger( 'preview:loaded' );\n\n\n        // $( window ).on( 'elementor:init', function(){\n        //     \n\n        //     var CTHControlSelect2ItemView = elementor.modules.controls.Select2.extend( {\n        //         // initialize: function( options ) {\n        //         //     \n        //         //     elementor.modules.controls.Select2.prototype.initialize.apply( this, options );\n        //         // },\n\n        //         onReady: function() {\n        //             \n        //             // this.ui.select.select2( this.getSelect2Options() );\n\n        //             this.ui.select.on('select2:select', function(e){\n        //                 \n        //                 var id = e.params.data.id;\n        //                 var option = $(e.target).children('[value='+id+']');\n        //                 option.detach();\n        //                 $(e.target).append(option).change();\n        //             });\n        //         },\n        //     })\n\n        //     elementor.modules.controls.Select2 = CTHControlSelect2ItemView;\n\n        // } );\n\n        // elementorFrontend.hooks.addAction( 'init', function() {\n        // elementorFrontend.hooks.addAction( 'frontend/element_ready/global', function( $scope ) {\n        //     \n        //  // Do something that is based on the elementorFrontend object.\n        //     var CTHControlSelect2ItemView = elementor.modules.controls.Select2.extend( {\n        //         // initialize: function( options ) {\n        //         //     \n        //         //     elementor.modules.controls.Select2.prototype.initialize.apply( this, options );\n        //         // },\n\n        //         onReady: function() {\n        //             \n        //             // this.ui.select.select2( this.getSelect2Options() );\n\n        //             this.ui.select.on('select2:select', function(e){\n        //                 \n        //                 var id = e.params.data.id;\n        //                 var option = $(e.target).children('[value='+id+']');\n        //                 option.detach();\n        //                 $(e.target).append(option).change();\n        //             });\n        //         },\n        //     })\n\n        //     elementor.modules.controls.Select2 = CTHControlSelect2ItemView;\n\n\n        // } );\n\n\n\n        var firstLoaded = {},\n            CTHSelect2Inited = false;\n\n\n\n\n        window.elementorFrontend.hooks.addAction( 'frontend/element_ready/widget', function( $scope ) {\n            if ( $scope.data( 'element_type' ) == 'testimonials_slider.default' ){\n                // $('.single-carousel').slick()\n                \n                if(undefined == firstLoaded.testimonials_slider) {\n                    firstLoaded.testimonials_slider = true\n                }else{\n                    // initImagesCollage()\n                }\n            }\n\n            if ( $scope.data( 'element_type' ) == 'collage_images.default' ){\n                if(undefined == firstLoaded.collage_images) {\n                    firstLoaded.collage_images = true\n                }else{\n                    initImagesCollage()\n                }\n            }\n\n            if ( $scope.data( 'element_type' ) == 'listing_categories.default' ){ // select listing_categories widget default\n                \n\n                if(!CTHSelect2Inited){\n                    var CTHControlSelect2ItemView = elementor.modules.controls.Select2.extend( {\n                        onReady: function() {\n\n                            var rawValue = this.getControlValue()\n\n                            \n                            \n                            var $select2 = this.ui.select.select2( this.getSelect2Options() );\n\n\n                            \n\n                            // $select2.val(rawValue).data('preserved-order', rawValue) // must manually preserve the order\n                            // .trigger('change')\n\n\n                            \n\n                            // $select2.on('select2:select select2:unselect', selectionHandler);\n\n\n                            // https://github.com/select2/select2/issues/3106\n\n\n\n\n\n\n\n\n\n\n                            \n\n                            /**\n                             * defaults: Cache order of the initial values\n                             * @type {object}\n                             */\n                            // var defaults = $select2.select2('data');\n                            // defaults.forEach(function (obj) {\n                            //     var order = $select2.data('preserved-order') || [];\n                            //     order[order.length] = obj.id;\n                            //     $select2.data('preserved-order', order);\n                            // });\n\n                            \n\n                            // this.ui.select.on('select2:select', function(e){\n                            //     var id = e.params.data.id;\n                            //     var option = $(e.target).children('[value='+id+']');\n                            //     option.detach();\n                            //     $(e.target).append(option).change();\n                            // });\n\n\n                            /* fix select2 */\n\n\n\n\n\n\n\n\n                            // // Demo for default\n                            // runDemo($select2);\n                            // function runDemo($select2) {\n                            //     var selected = ['c', 'a', 'd'];\n                            //     $select2.val(selected).data('preserved-order', selected) // must manually preserve the order\n                            //     .trigger('change');\n\n                            //     // Render in preserved order\n                            //     select2_renderSelections($select2);\n\n                            \n                            // }\n\n\n                        },\n                    })\n                    elementor.modules.controls.Select2 = CTHControlSelect2ItemView;\n                    CTHSelect2Inited = true;\n\n                }\n\n                $(\".gallery-items\").masonry();\n                \n            }\n\n        } );\n\n    }\n} );\n"]}