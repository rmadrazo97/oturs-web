{"version":3,"sources":["../../../../jses/maintenance.js"],"names":["$","fn","downCount","options","callback","settings","extend","date","offset","error","Date","parse","container","currentDate","utc","getTime","getTimezoneOffset","new_date","countdown","target_date","current_date","difference","clearInterval","interval","_second","_minute","_hour","_day","days","Math","floor","hours","minutes","seconds","String","length","ref_days","ref_hours","ref_minutes","ref_seconds","find","text","setInterval","each","attr","css","data","countDate","countTime","timezone","parseInt","console","log","_townhub_add_ons","disable_bubble","randomValue","arr","random","appendTo","bArray","sArray","i","width","push","size","append","fadeOut","remove","sub_form","submit","e","preventDefault","fadeIn","pl_w","dataString","serialize","noredirect","ajax","type","url","success","d","message","window","location","href","redirect","last_response","body","undefined","bodyjson","JSON","title","jQuery"],"mappings":"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","file":"maintenance.min.js","sourcesContent":["/**\n * downCount: Simple Countdown clock with offset\n * Author: Sonny T. <hi@sonnyt.com>, sonnyt.com\n * URL: https://github.com/sonnyt/downCount\n */\n\n(function ($) {\n\n    $.fn.downCount = function (options, callback) {\n        var settings = $.extend({\n                date: null,\n                offset: null\n            }, options);\n\n        // Throw error if date is not set\n        if (!settings.date) {\n            $.error('Date is not defined.');\n        }\n\n        // Throw error if date is set incorectly\n        if (!Date.parse(settings.date)) {\n            $.error('Incorrect date format, it should look like this, 12/24/2012 12:00:00.');\n        }\n\n        // Save container\n        var container = this;\n\n        /**\n         * Change client's local date to match offset timezone\n         * @return {Object} Fixed Date object.\n         */\n        var currentDate = function () {\n            // get client's current date\n            var date = new Date();\n\n            // turn date to utc\n            var utc = date.getTime() + (date.getTimezoneOffset() * 60000);\n\n            // set new Date object\n            var new_date = new Date(utc + (3600000*settings.offset))\n\n            return new_date;\n        };\n\n        /**\n         * Main downCount function that calculates everything\n         */\n        function countdown () {\n            var target_date = new Date(settings.date), // set target date\n                current_date = currentDate(); // get fixed current date\n\n            // difference of dates\n            var difference = target_date - current_date;\n\n            // if difference is negative than it's pass the target date\n            if (difference < 0) {\n                // stop timer\n                clearInterval(interval);\n\n                if (callback && typeof callback === 'function') callback();\n\n                return;\n            }\n\n            // basic math variables\n            var _second = 1000,\n                _minute = _second * 60,\n                _hour = _minute * 60,\n                _day = _hour * 24;\n\n            // calculate dates\n            var days = Math.floor(difference / _day),\n                hours = Math.floor((difference % _day) / _hour),\n                minutes = Math.floor((difference % _hour) / _minute),\n                seconds = Math.floor((difference % _minute) / _second);\n\n                // fix dates so that it will show two digets\n                days = (String(days).length >= 2) ? days : '0' + days;\n                hours = (String(hours).length >= 2) ? hours : '0' + hours;\n                minutes = (String(minutes).length >= 2) ? minutes : '0' + minutes;\n                seconds = (String(seconds).length >= 2) ? seconds : '0' + seconds;\n\n            // based on the date change the refrence wording\n            var ref_days = (days === 1) ? 'day' : 'days',\n                ref_hours = (hours === 1) ? 'hour' : 'hours',\n                ref_minutes = (minutes === 1) ? 'minute' : 'minutes',\n                ref_seconds = (seconds === 1) ? 'second' : 'seconds';\n\n            // set to DOM\n            container.find('.days').text(days);\n            container.find('.hours').text(hours);\n            container.find('.minutes').text(minutes);\n            container.find('.seconds').text(seconds);\n\n            container.find('.days_ref').text(ref_days);\n            container.find('.hours_ref').text(ref_hours);\n            container.find('.minutes_ref').text(ref_minutes);\n            container.find('.seconds_ref').text(ref_seconds);\n        };\n        \n        // start\n        var interval = setInterval(countdown, 1000);\n    };\n\n    // end countDown plugin\n    $(function(){\n    \t//   Background image ------------------\n\t    $(\".bg\").each(function () {\n\t        if ($(this).attr(\"data-bg\")) $(this).css(\"background-image\", \"url(\" + $(this).data(\"bg\") + \")\");\n\t    });\n\n\t    // event countdown\n        if ($(\".countdown-widget\").length > 0) {\n            var countDate = $(\".countdown-widget\").data(\"countdate\"),\n                countTime = $(\".countdown-widget\").data(\"counttime\"),\n                timezone = $(\".countdown-widget\").data(\"tz\");\n            // #Options Option | Description ---|--- date | Target date, ex 08/27/2013 12:00:00 offset | UTC Timezone offset\n            $('.countdown').downCount({\n                date: countDate+' '+countTime,\n                offset: parseInt(timezone)\n            }, function () {\n                console.log('WOOT WOOT, done!');\n            });\n        }\n        if(_townhub_add_ons.disable_bubble != 'yes'){\n            //   Bubbles ------------------\n            $('<div class=\"bubbles\"></div>').appendTo(\".bubble-bg\");\n            var bArray = [];\n            var sArray = [5, 10, 15, 20];\n            for (var i = 0; i < $('.bubbles').width(); i++) {\n                bArray.push(i);\n            }\n            function randomValue(arr) {\n                return arr[Math.floor(Math.random() * arr.length)];\n            }\n            setInterval(function () {\n                var size = randomValue(sArray);\n                $('.bubbles').append('<div class=\"individual-bubble\" style=\"left: ' + randomValue(bArray) + 'px; width: ' + size + 'px; height:' + size + 'px;\"></div>');\n                $('.individual-bubble').fadeOut(5000, function () {\n                    $(this).remove()\n                });\n            }, 350);\n        }\n       $('.townhub_mailchimp-form').each(function(){\n\t\t\tvar sub_form = $(this);\n\t\t\tsub_form.submit(function(e){\n\t\t\t\te.preventDefault();\n\t\t\t\tsub_form.find('.subscribe-message').fadeIn('slow').text(_townhub_add_ons.pl_w);\n\t\t\t\tvar dataString = sub_form.serialize();\n\t\t            dataString += '&action=townhub_mailchimp';\n\t\t        var noredirect = true;\n\t\t\t\t$.ajax({\n\t\t            type: \"POST\",\n\t\t            data: dataString,\n\t\t            url: _townhub_add_ons.url,\n\t\t            success: function(d) {\n\t\t            \t// console.log(d);\n\t\t                if(d.success){\n\t\t                \tif (d.success === 'yes') {\n\t\t\t                    if (noredirect) {\n\t\t\t                    \tsub_form.find('.subscribe-message').fadeIn('slow').text(d.message);//.delay(3000).fadeOut('slow');\n\t\t\t                    } \n\t\t\t                    else {\n\t\t\t                        window.location.href = redirect;\n\t\t\t                    }\n\t\t\t                } else {\n                                sub_form.find('.subscribe-message').fadeIn('slow').text(d.message);//.delay(3000).fadeOut('slow');\n                                if(typeof d.last_response.body != undefined){\n                                    var bodyjson = JSON.parse(d.last_response.body);\n                                    sub_form.find('.subscribe-message').fadeIn('slow').text(bodyjson.title);//.delay(3000).fadeOut('slow');\n                                }\n\t\t\t                \t// console.log(d.last_response);\n\t\t\t                }\n\t\t                }\n\t\t            }\n\t\t        });\n                // end $.ajax\n\t\t\t});\n\t\t});\n       // end mailchimp townhub_mailchimp-form\n\n    })\n\n})(jQuery);\n\n"]}