{"version":3,"sources":["../../../../jses/addons-admin.js"],"names":["$","CTBModal","hide","fadeOut","on","e","preventDefault","fadeIn","$form","data","serialize","attr","addClass","ajax","method","url","ajaxurl","done","success","error","before","removeClass","plan_id","val","remove","fail","jqXHR","textStatus","errorThrown","console","log","document","wrapper","closest","fields","children","widgets","index","length","parentindex","childFieldName","tmplName","tmplData","template","_","html","variable","evaluate","interpolate","escape","append","extend","child_field_name","fieldName","field_name","key","btoa","Math","random","toString","substring","$tab_a","target","parent","siblings","find","not","_townhub_add_ons_admin","free_map","submitMapOSM","each","$that","ID","mapCenter","parseFloat","center_lng","center_lat","sview","ol","View","center","proj","fromLonLat","zoom","parseInt","map_zoom","sFeature","Feature","geometry","geom","Point","transform","mkIcon","style","Style","image","Icon","anchor","anchorXUnits","anchorYUnits","src","marker","crossOrigin","setStyle","svectorLayer","layer","Vector","source","features","osm_single_map","Map","interactions","defaultInteractions","appOSM","Drag","view","layers","Tile","preload","OSM","loadTilesWhileAnimating","onOSMDragMarker","coordinates","fetchAddress","inherits","PointerInteraction","interaction","Pointer","defaults","call","handleDownEvent","prototype","handleDragEvent","handleMoveEvent","handleUpEvent","coordinate_","cursor_","feature_","previousCursor_","undefined","evt","map","feature","forEachFeatureAtPixel","pixel","coordinate","deltaX","deltaY","getGeometry","translate","element","getTargetElement","cursor","window","load","submitMap","lat","lng","submit_map","google","maps","styles","submit_marker","Marker","position","draggable","addListener","event","latLng","isFullScreen","fullScreen","mozFullScreen","webkitIsFullScreen","setCenter","latlng","LatLng","setPosition","api","fetch","then","response","json","address","display_name","placesAutocompleteOptions","types","submitAddressEle","getElementById","submitAddressAutocomplete","places","Autocomplete","place","getPlace","location","trigger","datetimepicker","formatDate","formatTime","format","allowBlank","addons_referer","replace","$btn","action","lid","lfeatured","hasClass","res","lverified","jQuery","sortable","file_frame","is_multiple","fieldname","wp","media","frames","title","button","text","multiple","selection","state","get","attachment","toJSON","tmpl","field","first","open","$selectedli","replaceWith","img_id","add","stopPropagation","wpColorPicker"],"mappings":";;AAAA,CAAC,UAASA,CAAT,EAAY;AACZ;;AAEA,QAAIC,WAAW,EAAf;AACGA,aAASC,IAAT,GAAgB,YAAY;AACxBF,UAAE,YAAF,EAAgBG,OAAhB;AACH,KAFD;;AAIAH,MAAE,iBAAF,EAAqBI,EAArB,CAAwB,OAAxB,EAAiC,UAAUC,CAAV,EAAa;AAC1CA,UAAEC,cAAF;AACAN,UAAE,YAAF,EAAgBO,MAAhB;AACH,KAHD;;AAKAP,MAAE,kBAAF,EAAsBI,EAAtB,CAAyB,OAAzB,EAAkC,YAAY;AAC1CH,iBAASC,IAAT;AACH,KAFD;;AAKA;AACAF,MAAE,0BAAF,EAA8BI,EAA9B,CAAiC,QAAjC,EAA2C,UAAUC,CAAV,EAAa;AACpDA,UAAEC,cAAF;AACA,YAAIE,QAAQR,EAAE,IAAF,CAAZ;AAAA,YACIS,OAAOD,MAAME,SAAN,EADX;AAEAV,UAAE,gBAAF,EAAoBW,IAApB,CAAyB,UAAzB,EAAqC,IAArC,EAA2CC,QAA3C,CAAoD,WAApD;AACAZ,UAAEa,IAAF,CAAO;AACHC,oBAAQ,MADL;AAEHC,iBAAKC,OAFF;AAGHP,kBAAMA,OAAO;AAHV,SAAP;AAKA;AALA,SAMCQ,IAND,CAMM,UAAUR,IAAV,EAAiB;AACnB,gBAAGA,KAAKS,OAAL,IAAgB,KAAnB,EAAyB;AACrB,oBAAG,OAAOT,KAAKU,KAAZ,IAAqB,WAAxB,EAAqCX,MAAMY,MAAN,uCAAiDX,KAAKU,KAAtD;AACrCnB,kBAAE,gBAAF,EAAoBW,IAApB,CAAyB,UAAzB,EAAqC,KAArC,EAA4CU,WAA5C,CAAwD,WAAxD;AACH,aAHD,MAGK;AACD,oBAAG,OAAOZ,KAAKa,OAAZ,IAAuB,WAA1B,EAAsC;AAClCtB,sBAAE,sBAAF,EAA0BuB,GAA1B,CAA8Bd,KAAKa,OAAnC;AACH;AACDrB,yBAASC,IAAT;;AAEAM,sBAAMgB,MAAN;AACH;AACJ,SAlBD;AAmBA;AAnBA,SAoBCC,IApBD,CAoBM,UAASC,KAAT,EAAgBC,UAAhB,EAA4BC,WAA5B,EAAyC;AAC3CC,oBAAQC,GAAR,CAAYJ,KAAZ;AACH,SAtBD;AAuBA;AACH,KA7BD;;AA+BA;AACA1B,MAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAuB,iCAAvB,EAAyD,UAASC,CAAT,EAAW;AAChEA,UAAEC,cAAF;AACA,YAAI0B,UAAkBhC,EAAE,IAAF,EAAQiC,OAAR,CAAgB,uBAAhB,CAAtB;AAAA,YACIC,SAAkBF,QAAQG,QAAR,CAAiB,kBAAjB,CADtB;AAAA,YAEIC,UAAkBpC,EAAE,IAAF,EAAQiC,OAAR,CAAgB,wBAAhB,CAFtB;AAAA,YAGII,QAAkBrC,EAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,IAAuBT,EAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,CAAvB,GAAgDyB,OAAOC,QAAP,GAAkBG,MAAlB,GAAyBJ,OAAOC,QAAP,GAAkBG,MAA3C,GAAmD,CAHzH;AAAA,YAIIC,cAAkBvC,EAAE,IAAF,EAAQS,IAAR,CAAa,cAAb,IAA8BT,EAAE,IAAF,EAAQS,IAAR,CAAa,cAAb,CAA9B,GAA8D,OAAO2B,OAAP,IAAkB,WAAlB,GAA+BA,QAAQD,QAAR,CAAiB,mBAAjB,EAAsCA,QAAtC,GAAiDG,MAAhF,GAAyF,CAJ7K;AAAA,YAKIE,iBAAkB,OAAOxC,EAAE,IAAF,EAAQS,IAAR,CAAa,MAAb,CAAP,IAA+B,WAA/B,GAA4CT,EAAE,IAAF,EAAQS,IAAR,CAAa,MAAb,CAA5C,GAAmE,uBALzF;AAAA,YAMIgC,WAAkBT,QAAQvB,IAAR,CAAa,MAAb,CANtB;AAAA,YAOIiC,WAAkBV,QAAQvB,IAAR,CAAa,WAAb,IAA0BuB,QAAQvB,IAAR,CAAa,WAAb,CAA1B,GAAoD,EAP1E;AAAA,YAQIkC,WAAkBC,EAAED,QAAF,CAAY3C,EAAE,MAAIyC,QAAN,EAAgBI,IAAhB,EAAZ,EAAoC;AAClDC,sBAAU,MADwC;;AAGlDC,sBAAU,iBAHwC;AAIlDC,yBAAa,mBAJqC;AAKlDC,oBAAQ;AAL0C,SAApC,CARtB;;AAgBI;;AAEJf,eAAOgB,MAAP,CAAeP,SAAU3C,EAAEmD,MAAF,CAAS,EAAEd,OAAO,EAAEA,KAAX,EAAkBE,aAAaA,WAA/B,EAA4Ca,kBAAkBZ,cAA9D,EAAT,EAAwFE,QAAxF,CAAV,CAAf;AACA1C,UAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,EAAqB4B,KAArB;AACArC,UAAE,IAAF,EAAQS,IAAR,CAAa,cAAb,EAA4B8B,WAA5B;AAEH,KAxBD;AAyBAvC,MAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAuB,gCAAvB,EAAwD,UAASC,CAAT,EAAW;AAC/DA,UAAEC,cAAF;AACAN,UAAE,IAAF,EAAQiC,OAAR,CAAgB,QAAhB,EAA0BT,MAA1B;AACH,KAHD;;AAKA;AACAxB,MAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAuB,mCAAvB,EAA2D,UAASC,CAAT,EAAW;AAClEA,UAAEC,cAAF;AACA,YAAI0B,UAAUhC,EAAE,IAAF,EAAQiC,OAAR,CAAgB,wBAAhB,CAAd;AAAA,YACIC,SAASF,QAAQG,QAAR,CAAiB,mBAAjB,CADb;AAAA,YAEIE,QAAQrC,EAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,IAAuBT,EAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,CAAvB,GAAgDyB,OAAOC,QAAP,GAAkBG,MAAlB,GAAyBJ,OAAOC,QAAP,GAAkBG,MAA3C,GAAmD,CAF/G;AAAA,YAGIe,YAAY,OAAOrD,EAAE,IAAF,EAAQS,IAAR,CAAa,MAAb,CAAP,IAA+B,WAA/B,GAA4CT,EAAE,IAAF,EAAQS,IAAR,CAAa,MAAb,CAA5C,GAAmE,iBAHnF;AAAA,YAIIgC,WAAWT,QAAQvB,IAAR,CAAa,MAAb,CAJf;AAAA,YAKIiC,WAAWV,QAAQvB,IAAR,CAAa,WAAb,IAA0BuB,QAAQvB,IAAR,CAAa,WAAb,CAA1B,GAAoD,EALnE;AAAA,YAMIkC,WAAWC,EAAED,QAAF,CAAY3C,EAAE,MAAIyC,QAAN,EAAgBI,IAAhB,EAAZ,EAAoC;AAC3CC,sBAAU,MADiC;;AAG3CC,sBAAU,iBAHiC;AAI3CC,yBAAa,mBAJ8B;AAK3CC,oBAAQ;AALmC,SAApC,CANf;AAaA;AACAf,eAAOgB,MAAP,CAAeP,SAAU3C,EAAEmD,MAAF,CAAS,EAAEd,OAAO,EAAEA,KAAX,EAAkBiB,YAAYD,SAA9B,EAAT,EAAmDX,QAAnD,CAAV,CAAf;AACA1C,UAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,EAAqB4B,KAArB;AAEH,KAnBD;AAoBArC,MAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAuB,kCAAvB,EAA0D,UAASC,CAAT,EAAW;AACjEA,UAAEC,cAAF;AACAN,UAAE,IAAF,EAAQiC,OAAR,CAAgB,QAAhB,EAA0BT,MAA1B;AACH,KAHD;;AAKA;AACAxB,MAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAuB,qCAAvB,EAA6D,UAASC,CAAT,EAAW;AACpEA,UAAEC,cAAF;AACA,YAAI0B,UAAUhC,EAAE,IAAF,EAAQiC,OAAR,CAAgB,oBAAhB,CAAd;AAAA,YACIC,SAASF,QAAQG,QAAR,CAAiB,0BAAjB,CADb;AAAA,YAEIE,QAAQrC,EAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,IAAsBT,EAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,CAAtB,GAA6CyB,OAAOC,QAAP,GAAkBG,MAAlB,GAAyBJ,OAAOC,QAAP,GAAkBG,MAA3C,GAAkD,CAF3G;AAAA,YAGIe,YAAY,OAAOrD,EAAE,IAAF,EAAQS,IAAR,CAAa,MAAb,CAAP,IAA+B,WAA/B,GAA4CT,EAAE,IAAF,EAAQS,IAAR,CAAa,MAAb,CAA5C,GAAmE,iBAHnF;AAAA,YAIIgC,WAAWT,QAAQvB,IAAR,CAAa,MAAb,CAJf;AAAA,YAKI8C,MAAMC,KAAKC,KAAKC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,SAA3B,CAAqC,CAArC,EAAwC,EAAxC,IAA8CH,KAAKC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,SAA3B,CAAqC,CAArC,EAAwC,EAAxC,CAAnD,CALV;AAAA,YAMIlB,WAAWV,QAAQvB,IAAR,CAAa,WAAb,IAA0BuB,QAAQvB,IAAR,CAAa,WAAb,CAA1B,GAAoD,EANnE;AAAA,YAOIkC,WAAWC,EAAED,QAAF,CAAY3C,EAAE,MAAIyC,QAAN,EAAgBI,IAAhB,EAAZ,EAAoC;AAC3CC,sBAAU,MADiC;;AAG3CC,sBAAU,iBAHiC;AAI3CC,yBAAa,mBAJ8B;AAK3CC,oBAAQ;AALmC,SAApC,CAPf;AAcAf,eAAOgB,MAAP,CAAeP,SAAU3C,EAAEmD,MAAF,CAAS,EAAEd,OAAO,EAAEA,KAAX,EAAiBkB,KAAIA,GAArB,EAAyBD,YAAWD,SAApC,EAAT,EAAwDX,QAAxD,CAAV,CAAf;AACA1C,UAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,EAAqB4B,KAArB;AACH,KAlBD;AAmBArC,MAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAuB,2BAAvB,EAAmD,UAASC,CAAT,EAAW;AAC1DA,UAAEC,cAAF;AACAN,UAAE,IAAF,EAAQiC,OAAR,CAAgB,QAAhB,EAA0BT,MAA1B;AACH,KAHD;AAIA;AACAxB,MAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAwB,cAAxB,EAAwC,UAASC,CAAT,EAAW;AAC/CA,UAAEC,cAAF;;AAGA,YAAIuD,SAAS7D,EAAE,IAAF,CAAb;AAAA,YACI8D,SAASD,OAAOlD,IAAP,CAAY,MAAZ,CADb;;AAGAkD,eAAOE,MAAP,GAAgBnD,QAAhB,CAAyB,SAAzB;AACAiD,eAAOE,MAAP,GAAgBC,QAAhB,GAA2B3C,WAA3B,CAAuC,SAAvC;;AAEAwC,eAAO5B,OAAP,CAAe,eAAf,EAAgCgC,IAAhC,CAAqC,cAArC,EAAqDC,GAArD,CAAyDJ,MAAzD,EAAiEzC,WAAjE,CAA6E,SAA7E;AACAwC,eAAO5B,OAAP,CAAe,eAAf,EAAgCgC,IAAhC,CAAqCH,MAArC,EAA6ClD,QAA7C,CAAsD,SAAtD;AACH,KAZD;;AAeA,QAAGuD,wBAAwBC,QAA3B,EAAoC;AAqHhC;AArHgC,YAsHvBC,YAtHuB,GAsHhC,SAASA,YAAT,GAAuB;AACnBrE,cAAE,eAAF,EAAmBsE,IAAnB,CAAwB,YAAU;AAC9B,oBAAIC,QAAQvE,EAAE,IAAF,CAAZ;AAAA,oBACIwE,KAAKD,MAAM5D,IAAN,CAAW,IAAX,CADT;AAAA,oBAEI8D,YAAY,CAACC,WAAWP,wBAAwBQ,UAAnC,CAAD,EAAiDD,WAAWP,wBAAwBS,UAAnC,CAAjD,CAFhB;AAGA,oBAAGL,MAAM9D,IAAN,CAAW,KAAX,KAAqB8D,MAAM9D,IAAN,CAAW,KAAX,CAAxB,EAA0C;AACtCgE,gCAAY,CAACC,WAAWH,MAAM9D,IAAN,CAAW,KAAX,CAAX,CAAD,EAAgCiE,WAAWH,MAAM9D,IAAN,CAAW,KAAX,CAAX,CAAhC,CAAZ;AACH;;AAED,oBAAIoE,QAAQ,IAAIC,GAAGC,IAAP,CAAY;AACpBC,4BAAQF,GAAGG,IAAH,CAAQC,UAAR,CAAmBT,SAAnB,CADY;AAEpBU,0BAAMC,SAASjB,wBAAwBkB,QAAjC;AAFc,iBAAZ,CAAZ;;AAKA,oBAAIC,WAAW,IAAIR,GAAGS,OAAP,CAAe;AAC1BC,8BAAU,IAAIV,GAAGW,IAAH,CAAQC,KAAZ,CAAkBZ,GAAGG,IAAH,CAAQU,SAAR,CAAkBlB,SAAlB,EAA6B,WAA7B,EAA0C,WAA1C,CAAlB;AADgB,iBAAf,CAAf;;AAIA,oBAAImB,SAAS,IAAId,GAAGe,KAAH,CAASC,KAAb,CAAmB;AAC5BC,2BAAO,IAAIjB,GAAGe,KAAH,CAASG,IAAb,CAAkB;AACrBC,gCAAQ,CAAC,GAAD,EAAM,GAAN,CADa;AAErBC,sCAAc,UAFO;AAGrBC,sCAAc,UAHO;AAIrBC,6BAAKjC,wBAAwBkC,MAJR;AAKrB;AACAC,qCAAa;AANQ,qBAAlB;AADqB,iBAAnB,CAAb;AAUAhB,yBAASiB,QAAT,CAAkBX,MAAlB;;AAEA,oBAAIY,eAAe,IAAI1B,GAAG2B,KAAH,CAASC,MAAb,CAAoB;AACnCC,4BAAQ,IAAI7B,GAAG6B,MAAH,CAAUD,MAAd,CAAqB;AACzBE,kCAAU,CAACtB,QAAD;AADe,qBAArB;AAGR;AACA;AACA;AACA;AACA;AACA;AACA;AAVmC,iBAApB,CAAnB;;AAaA,oBAAIuB,iBAAiB,IAAI/B,GAAGgC,GAAP,CAAW;AAC5BC,kCAAcC,sBAAsB7D,MAAtB,CAA6B,CAAC,IAAI8D,OAAOC,IAAX,EAAD,CAA7B,CADc;AAE5BpD,4BAAQU,EAFoB;AAG5B2C,0BAAMtC,KAHsB;AAI5BuC,4BAAQ,CACJ,IAAItC,GAAG2B,KAAH,CAASY,IAAb,CAAkB;AACdC,iCAAS,CADK;AAEdX,gCAAQ,IAAI7B,GAAG6B,MAAH,CAAUY,GAAd;AAFM,qBAAlB,CADI,EAKJf,YALI,CAJoB;AAW5BgB,6CAAyB;AAXG,iBAAX,CAArB;AAaH,aAvDD;AAwDH,SA/K+B;;AAAA,YAgLvBC,eAhLuB,GAgLhC,SAASA,eAAT,CAAyBC,WAAzB,EAAqC;AACjC1H,cAAE,yBAAF,EAA6BuB,GAA7B,CAAiCmG,YAAY,CAAZ,CAAjC;AACA1H,cAAE,0BAAF,EAA8BuB,GAA9B,CAAkCmG,YAAY,CAAZ,CAAlC;AACAC,yBAAaD,WAAb;AACH,SApL+B;;AAChC;AACA,YAAIT,SAAO,EAAX;AAAA,YACIW,WAAW9C,GAAG8C,QADlB;AAAA,YAEIC,qBAAqB/C,GAAGgD,WAAH,CAAeC,OAFxC;AAAA,YAGIf,sBAAsBlC,GAAGgD,WAAH,CAAeE,QAHzC;AAIAf,eAAOC,IAAP,GAAc,YAAW;;AAErBW,+BAAmBI,IAAnB,CAAwB,IAAxB,EAA8B;AAC1BC,iCAAiBjB,OAAOC,IAAP,CAAYiB,SAAZ,CAAsBD,eADb;AAE1BE,iCAAiBnB,OAAOC,IAAP,CAAYiB,SAAZ,CAAsBC,eAFb;AAG1BC,iCAAiBpB,OAAOC,IAAP,CAAYiB,SAAZ,CAAsBE,eAHb;AAI1BC,+BAAerB,OAAOC,IAAP,CAAYiB,SAAZ,CAAsBG;AAJX,aAA9B;;AAOA;;;;AAIA,iBAAKC,WAAL,GAAmB,IAAnB;;AAEA;;;;AAIA,iBAAKC,OAAL,GAAe,SAAf;;AAEA;;;;AAIA,iBAAKC,QAAL,GAAgB,IAAhB;;AAEA;;;;AAIA,iBAAKC,eAAL,GAAuBC,SAAvB;AAEH,SAjCD;AAkCAf,iBAASX,OAAOC,IAAhB,EAAsBW,kBAAtB;;AAEA;;;;AAIAZ,eAAOC,IAAP,CAAYiB,SAAZ,CAAsBD,eAAtB,GAAwC,UAASU,GAAT,EAAc;AAClD,gBAAIC,MAAMD,IAAIC,GAAd;;AAEA,gBAAIC,UAAUD,IAAIE,qBAAJ,CAA0BH,IAAII,KAA9B,EAAqC,UAASF,OAAT,EAAkB;AAC7D,uBAAOA,OAAP;AACP,aAFa,CAAd;AAGA;AACA,gBAAIA,OAAJ,EAAa;AACT,qBAAKP,WAAL,GAAmBK,IAAIK,UAAvB;AACA,qBAAKR,QAAL,GAAgBK,OAAhB;AACH;;AAED;;AAEA,mBAAO,CAAC,CAACA,OAAT;AACH,SAfD;;AAkBA;;;AAGA7B,eAAOC,IAAP,CAAYiB,SAAZ,CAAsBC,eAAtB,GAAwC,UAASQ,GAAT,EAAc;AAClD,gBAAIM,SAASN,IAAIK,UAAJ,CAAe,CAAf,IAAoB,KAAKV,WAAL,CAAiB,CAAjB,CAAjC;AACA,gBAAIY,SAASP,IAAIK,UAAJ,CAAe,CAAf,IAAoB,KAAKV,WAAL,CAAiB,CAAjB,CAAjC;;AAEA,gBAAI/C,WAAW,KAAKiD,QAAL,CAAcW,WAAd,EAAf;AACA5D,qBAAS6D,SAAT,CAAmBH,MAAnB,EAA2BC,MAA3B;AACA;AACA,iBAAKZ,WAAL,CAAiB,CAAjB,IAAsBK,IAAIK,UAAJ,CAAe,CAAf,CAAtB;AACA,iBAAKV,WAAL,CAAiB,CAAjB,IAAsBK,IAAIK,UAAJ,CAAe,CAAf,CAAtB;;AAEA;;AAEA,gBAAG,KAAKV,WAAL,IAAoB,IAAvB,EAA6Bd,gBAAgB3C,GAAGG,IAAH,CAAQU,SAAR,CAAkB,KAAK4C,WAAvB,EAAoC,WAApC,EAAiD,WAAjD,CAAhB;AAChC,SAbD;;AAgBA;;;AAGAtB,eAAOC,IAAP,CAAYiB,SAAZ,CAAsBE,eAAtB,GAAwC,UAASO,GAAT,EAAc;AAClD,gBAAI,KAAKJ,OAAT,EAAkB;AACd,oBAAIK,MAAMD,IAAIC,GAAd;AACA,oBAAIC,UAAUD,IAAIE,qBAAJ,CAA0BH,IAAII,KAA9B,EAAoC,UAASF,OAAT,EAAkB;AAChE,2BAAOA,OAAP;AACH,iBAFa,CAAd;AAGA,oBAAIQ,UAAUV,IAAIC,GAAJ,CAAQU,gBAAR,EAAd;AACA,oBAAIT,OAAJ,EAAa;AACT,wBAAIQ,QAAQzD,KAAR,CAAc2D,MAAd,IAAwB,KAAKhB,OAAjC,EAA0C;AACxC,6BAAKE,eAAL,GAAuBY,QAAQzD,KAAR,CAAc2D,MAArC;AACAF,gCAAQzD,KAAR,CAAc2D,MAAd,GAAuB,KAAKhB,OAA5B;AACD;AACJ,iBALD,MAKO,IAAI,KAAKE,eAAL,KAAyBC,SAA7B,EAAwC;AAC3CW,4BAAQzD,KAAR,CAAc2D,MAAd,GAAuB,KAAKd,eAA5B;AACA,yBAAKA,eAAL,GAAuBC,SAAvB;AACH;AACJ;AACD;AACH,SAlBD;;AAqBA;;;AAGA1B,eAAOC,IAAP,CAAYiB,SAAZ,CAAsBG,aAAtB,GAAsC,YAAW;;AAE7C,iBAAKC,WAAL,GAAmB,IAAnB;AACA,iBAAKE,QAAL,GAAgB,IAAhB;AACA;AACA,mBAAO,KAAP;AACH,SAND;AAuEA,YAAGzI,EAAE,eAAF,EAAmBsC,MAAtB,EAA6B;AACzBtC,cAAGyJ,MAAH,EAAYC,IAAZ,CAAiB,YAAW;AACxBrF;AACH,aAFD;AAGH;AAEJ,KA3LD,MA2LK;AACD;AADC,YAEQsF,SAFR,GAED,SAASA,SAAT,GAAoB;AAChB3J,cAAE,YAAF,EAAgBsE,IAAhB,CAAqB,YAAU;AAC3B,oBAAIC,QAAQvE,EAAE,IAAF,CAAZ;AAAA,oBACIyE,YAAY,EAACmF,KAAKlF,WAAWP,wBAAwBS,UAAnC,CAAN,EAAsDiF,KAAKnF,WAAWP,wBAAwBQ,UAAnC,CAA3D,EADhB;AAEA,oBAAGJ,MAAM9D,IAAN,CAAW,KAAX,KAAqB8D,MAAM9D,IAAN,CAAW,KAAX,CAAxB,EAA0C;AACtCgE,gCAAY;AACRoF,6BAAKnF,WAAWH,MAAM9D,IAAN,CAAW,KAAX,CAAX,CADG;AAERmJ,6BAAKlF,WAAWH,MAAM9D,IAAN,CAAW,KAAX,CAAX;AAFG,qBAAZ;AAIH;AACD,oBAAIqJ,aAAa,IAAIC,OAAOC,IAAP,CAAYlD,GAAhB,CAAoBvC,MAAM,CAAN,CAApB,EAA8B;AACvCY,0BAAM,EADiC;AAEvCH,4BAAQP,SAF+B;AAGvCwF,4BAAQ,CAAC;AACL,uCAAe,WADV;AAEL,uCAAe,KAFV;AAGL,mCAAW,CAAC;AACR,qCAAS;AADD,yBAAD;AAHN,qBAAD;AAH+B,iBAA9B,CAAjB;;AAYA,oBAAIC,gBAAgB,IAAIH,OAAOC,IAAP,CAAYG,MAAhB,CAAuB;AACvCC,8BAAU3F,SAD6B;AAEvCoE,yBAAKiB,UAFkC;AAGvCO,+BAAW;AAH4B,iBAAvB,CAApB;;AAMAH,8BAAcI,WAAd,CAA0B,SAA1B,EAAqC,UAACC,KAAD,EAAS;AAC1CvK,sBAAE,yBAAF,EAA6BuB,GAA7B,CAAiCgJ,MAAMC,MAAN,CAAaZ,GAAb,EAAjC;AACA5J,sBAAE,0BAAF,EAA8BuB,GAA9B,CAAkCgJ,MAAMC,MAAN,CAAaX,GAAb,EAAlC;AACA,wBAAIZ,aAAa,CAACsB,MAAMC,MAAN,CAAaX,GAAb,EAAD,EAAoBU,MAAMC,MAAN,CAAaZ,GAAb,EAApB,CAAjB;AACAjC,iCAAasB,UAAb;AACH,iBALD;;AAOAjJ,kBAAE+B,QAAF,EAAY3B,EAAZ,CAAe,6DAAf,EAA8E,YAAW;AACrF,wBAAIqK,eAAe1I,SAAS2I,UAAT,IACf3I,SAAS4I,aADM,IAEf5I,SAAS6I,kBAFb;AAGA,wBAAI,CAACH,YAAL,EAAmB;AACfX,mCAAWe,SAAX,CAAqBX,cAAcE,QAAnC;AACH;AACJ,iBAPD;;AASA;AACApK,kBAAE+B,QAAF,EAAY3B,EAAZ,CAAe,QAAf,EAAyB,mDAAzB,EAA8E,YAAU;AACpF,wBAAI0K,SAAS,IAAIf,OAAOC,IAAP,CAAYe,MAAhB,CAAwB/K,EAAE,yBAAF,EAA6BuB,GAA7B,EAAxB,EAA4DvB,EAAE,0BAAF,EAA8BuB,GAA9B,EAA5D,CAAb;AACA2I,kCAAcc,WAAd,CAA0BF,MAA1B;AACAhB,+BAAWe,SAAX,CAAqBC,MAArB;AACH,iBAJD;AAMH,aAlDD;AAmDH,SAtDA;;AAuDD,YAAG9K,EAAE,YAAF,EAAgBsC,MAAnB,EAA0B;AACtBtC,cAAGyJ,MAAH,EAAYC,IAAZ,CAAiB,YAAW;AACxBC;AACH,aAFD;AAGH;AACJ;;AAED;AACA,aAAShC,YAAT,CAAsBD,WAAtB,EAAkC;AAC9B,YAAIuD,uEAAqEvD,YAAY,CAAZ,CAArE,aAA2FA,YAAY,CAAZ,CAA3F,8BAAJ;AACI;AACJwD,cAAMD,GAAN,EACCE,IADD,CACM,UAASC,QAAT,EAAmB;AACrB,mBAAOA,SAASC,IAAT,EAAP;AACH,SAHD,EAICF,IAJD,CAIM,UAASG,OAAT,EAAkB;AACpB,gBAAIA,QAAQC,YAAR,IAAwB,IAAxB,IAAgCD,QAAQC,YAA5C,EAA0DvL,EAAE,wBAAF,EAA4BuB,GAA5B,CAAgC+J,QAAQC,YAAxC;AAC7D,SAND;AAOH;AACD;AACAvL,MAAE,YAAU;AACR,YAAI,CAACmE,wBAAwBC,QAA7B,EAAsC;AAClC,gBAAIoH,4BAA4B,EAACC,OAAO,CAAC,SAAD,CAAR,CAAqB;AACrD;AACA;AACA;AACA;AAJgC,aAAhC,CAKA,IAAIC,mBAAmB3J,SAAS4J,cAAT,CAAwB,uBAAxB,CAAvB;AACA,gBAAID,oBAAoB/C,SAApB,IAAiC+C,oBAAoB,IAAzD,EAA+D;AAC3D,oBAAIE,4BAA4B,IAAI7B,OAAOC,IAAP,CAAY6B,MAAZ,CAAmBC,YAAvB;AAC5B;AACAJ,gCAF4B,EAG5BF;AACA;AAJ4B,iBAAhC;;AAOAI,0CAA0BtB,WAA1B,CAAsC,eAAtC,EAAuD,YAAU;AAC7D,wBAAIyB,QAAQH,0BAA0BI,QAA1B,EAAZ;AACAhM,sBAAE,yBAAF,EAA6BuB,GAA7B,CAAiCwK,MAAMvG,QAAN,CAAeyG,QAAf,CAAwBrC,GAAxB,EAAjC,EAAgEsC,OAAhE,CAAwE,QAAxE;AACAlM,sBAAE,0BAAF,EAA8BuB,GAA9B,CAAkCwK,MAAMvG,QAAN,CAAeyG,QAAf,CAAwBpC,GAAxB,EAAlC,EAAiEqC,OAAjE,CAAyE,QAAzE;AACH,iBAJD;AAKH;AACJ;;AAGD;;AAEA;AACA;AACA;;AAEAlM,UAAE,sBAAF,EAA0BmM,cAA1B,CAAyC;AACrCC,wBAAY,OADyB;AAErCC,wBAAY,OAFyB;AAGrCC,oBAAO,aAH8B;AAIrCC,wBAAY;AACZ;AALqC,SAAzC;AAOAvM,UAAE,cAAF,EAAkBmM,cAAlB,CAAiC;AAC7BC,wBAAY,OADiB;AAE7BC,wBAAY,OAFiB;AAG7BC,oBAAO,aAHsB;AAI7BC,wBAAY;AACZ;AAL6B,SAAjC;AAOH,KA7CD;;AA+CA,QAAIC,iBAAiB,EAArB;;AAEA;AACAxM,MAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAwB,iBAAxB,EAA2C,UAASC,CAAT,EAAW;AAClDA,UAAEC,cAAF;AACA,YAAIuD,SAAS7D,EAAE,IAAF,CAAb;AACAA,UAAE,iBAAF,EAAqBqB,WAArB,CAAiC,gBAAjC;AACAwC,eAAOjD,QAAP,CAAgB,gBAAhB;;AAEAZ,UAAE,kBAAF,EAAsBqB,WAAtB,CAAkC,SAAlC;AACArB,UAAE6D,OAAOlD,IAAP,CAAY,MAAZ,CAAF,EAAuBC,QAAvB,CAAgC,SAAhC;;AAIA,YAAGZ,EAAE,yDAAF,EAA6DsC,MAAhE,EAAuE;AACnE,gBAAGkK,kBAAkB,EAArB,EAAyBA,iBAAiBxM,EAAE,yDAAF,EAA6DuB,GAA7D,EAAjB;;AAEzB;AACAiL,6BAAiBA,eAAeC,OAAf,CAAuB,kBAAvB,EAA2C,EAA3C,CAAjB;;AAEAzM,cAAE,yDAAF,EAA6DuB,GAA7D,CAAiEiL,iBAAe,aAAf,GAA6B3I,OAAOpD,IAAP,CAAY,OAAZ,CAA9F;AACH;AACJ,KAnBD;;AAqBAT,MAAE,YAAU;AACR;AACAA,UAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAuB,gBAAvB,EAAwC,UAASC,CAAT,EAAW;AAC/CA,cAAEC,cAAF;AACA,gBAAIoM,OAAO1M,EAAE,IAAF,CAAX;AAAA,gBACIS,OAAO;AACHkM,wBAAQ,iBADL;AAEHC,qBAAK5M,EAAE,IAAF,EAAQS,IAAR,CAAa,IAAb;AAFF,aADX;AAAA,gBAKIoM,YAAY,KALhB;AAMA,gBAAGH,KAAKI,QAAL,CAAc,WAAd,CAAH,EAA8B;AAC1BD,4BAAY,IAAZ;AACApM,qBAAK,WAAL,IAAoB,IAApB;AACH;;AAEDiM,iBAAK9L,QAAL,CAAc,YAAd,EAA4BD,IAA5B,CAAiC,UAAjC,EAA4C,IAA5C;;AAEAX,cAAEa,IAAF,CAAO;AACHC,wBAAQ,MADL;AAEHC,qBAAKC,OAFF;AAGHP,sBAAMA;AAHH,aAAP;AAKA;AALA,aAMCQ,IAND,CAMM,UAAU8L,GAAV,EAAgB;AAClB;AACA,oBAAGA,IAAI7L,OAAP,EAAe;AACX,wBAAG2L,SAAH,EACIH,KAAKrL,WAAL,CAAiB,WAAjB,EADJ,KAGIqL,KAAK9L,QAAL,CAAc,WAAd;AACP;AACD8L,qBAAKrL,WAAL,CAAiB,YAAjB,EAA+BV,IAA/B,CAAoC,UAApC,EAA+C,KAA/C;AACH,aAfD;AAgBA;AAhBA,aAiBCc,IAjBD,CAiBM,UAASC,KAAT,EAAgBC,UAAhB,EAA4BC,WAA5B,EAAyC;AAC3C;AACA8K,qBAAKrL,WAAL,CAAiB,YAAjB,EAA+BV,IAA/B,CAAoC,UAApC,EAA+C,KAA/C;AACH,aApBD;AAqBA;AAEH,SAtCD;AAuCA;AACA;AACAX,UAAE,eAAF,EAAmBI,EAAnB,CAAsB,QAAtB,EAAgC,YAAU;AACtC,gBAAGJ,EAAE,IAAF,EAAQuB,GAAR,MAAiB,cAApB,EACIvB,EAAE,iBAAF,EAAqBY,QAArB,CAA8B,iBAA9B,EADJ,KAGIZ,EAAE,iBAAF,EAAqBqB,WAArB,CAAiC,iBAAjC;AACP,SALD;;AAOA;AACArB,UAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAuB,gBAAvB,EAAwC,UAASC,CAAT,EAAW;AAC/CA,cAAEC,cAAF;AACA,gBAAIoM,OAAO1M,EAAE,IAAF,CAAX;AAAA,gBACIS,OAAO;AACHkM,wBAAQ,iBADL;AAEHC,qBAAK5M,EAAE,IAAF,EAAQS,IAAR,CAAa,IAAb;AACL;AAHG,aADX;AAAA,gBAMIuM,YAAY,KANhB;AAOA,gBAAGN,KAAKI,QAAL,CAAc,WAAd,CAAH,EAA8B;AAC1BE,4BAAY,IAAZ;AACAvM,qBAAK,WAAL,IAAoB,IAApB;AACH;;AAEDiM,iBAAK9L,QAAL,CAAc,YAAd,EAA4BD,IAA5B,CAAiC,UAAjC,EAA4C,IAA5C;;AAEAX,cAAEa,IAAF,CAAO;AACHC,wBAAQ,MADL;AAEHC,qBAAKC,OAFF;AAGHP,sBAAMA;AAHH,aAAP;AAKA;AALA,aAMCQ,IAND,CAMM,UAAU8L,GAAV,EAAgB;AAClB;AACA,oBAAGA,IAAI7L,OAAP,EAAe;AACX,wBAAG8L,SAAH,EACIN,KAAKrL,WAAL,CAAiB,WAAjB,EADJ,KAGIqL,KAAK9L,QAAL,CAAc,WAAd;AACP;AACD8L,qBAAKrL,WAAL,CAAiB,YAAjB,EAA+BV,IAA/B,CAAoC,UAApC,EAA+C,KAA/C;AACH,aAfD;AAgBA;AAhBA,aAiBCc,IAjBD,CAiBM,UAASC,KAAT,EAAgBC,UAAhB,EAA4BC,WAA5B,EAAyC;AAC3C;AACA8K,qBAAKrL,WAAL,CAAiB,YAAjB,EAA+BV,IAA/B,CAAoC,UAApC,EAA+C,KAA/C;AACH,aApBD;AAqBA;AAEH,SAvCD;AAwCH,KA3FD;AA+FH,CA/jBD,EA+jBGsM,MA/jBH;;AAmkBA;AACA,CAAC,UAASjN,CAAT,EAAY;AACT;AACAA,MAAE,YAAW;AACTA,UAAG,qBAAH,EAA2BkN,QAA3B;AACA;AACA,YAAIC,UAAJ,CAHS,CAGO;;AAEhB;AACAnN,UAAG,oBAAH,EAA0BI,EAA1B,CAA8B,OAA9B,EAAuC,UAAUmK,KAAV,EAAkB;AACrDA,kBAAMjK,cAAN;;AAEA,gBAAIoM,OAAO1M,EAAE,IAAF,CAAX;AAAA,gBACIoN,cAAcV,KAAKjM,IAAL,CAAU,QAAV,KAAuB,IAAvB,GAA8B,IAA9B,GAAqC,KADvD;AAAA,gBAEI4M,YAAYrN,EAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,CAFhB;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA0M,yBAAaG,GAAGC,KAAH,CAASC,MAAT,CAAgBL,UAAhB,GAA6BG,GAAGC,KAAH,CAAS;AAC/CE,uBAAOf,KAAKjM,IAAL,CAAW,gBAAX,CADwC;AAE/CiN,wBAAQ;AACJC,0BAAMjB,KAAKjM,IAAL,CAAW,sBAAX;AADF,iBAFuC;AAK/CmN,0BAAUR,WALqC,CAKzB;AALyB,aAAT,CAA1C;;AAQAD,uBAAW/M,EAAX,CAAe,QAAf,EAAyB,YAAW;AAChC,oBAAGgN,WAAH,EAAe;AACX,wBAAIS,YAAYV,WAAWW,KAAX,GAAmBC,GAAnB,CAAuB,WAAvB,CAAhB;AACAF,8BAAUhF,GAAV,CAAe,UAAUmF,UAAV,EAAuB;AAClCA,qCAAaA,WAAWC,MAAX,EAAb;AACA;;AAEA,4BAAIC,OAAOtL,EAAED,QAAF,CAAY3C,EAAE,kBAAF,EAAsB6C,IAAtB,EAAZ,EAA0C,EAACC,UAAU,MAAX,EAAmBC,UAAU,iBAA7B,EAAgDC,aAAa,mBAA7D,EAAkFC,QAAQ,oBAA1F,EAA1C,CAAX;AACA;AACA;;AAEAyJ,6BAAKzK,OAAL,CAAa,qBAAb,EAAoCE,QAApC,CAA6C,qBAA7C,EAAoEe,MAApE,CAA4EgL,KAAMlO,EAAEmD,MAAF,CAAS,EAAT,EAAY6K,UAAZ,EAAuB,EAACG,OAAMd,SAAP,EAAvB,CAAN,CAA5E;AACH,qBATD;AAUH,iBAZD,MAYK;AACD,wBAAIW,aAAab,WAAWW,KAAX,GAAmBC,GAAnB,CAAuB,WAAvB,EAAoCK,KAApC,GAA4CH,MAA5C,EAAjB;AACA,wBAAIC,OAAOtL,EAAED,QAAF,CAAY3C,EAAE,kBAAF,EAAsB6C,IAAtB,EAAZ,EAA0C,EAACC,UAAU,MAAX,EAAmBC,UAAU,iBAA7B,EAAgDC,aAAa,mBAA7D,EAAkFC,QAAQ,oBAA1F,EAA1C,CAAX;;AAEAyJ,yBAAKzK,OAAL,CAAa,qBAAb,EAAoCE,QAApC,CAA6C,qBAA7C,EAAoEU,IAApE,CAA0EqL,KAAMlO,EAAEmD,MAAF,CAAS,EAAT,EAAY6K,UAAZ,EAAuB,EAACG,OAAMd,SAAP,EAAvB,CAAN,CAA1E;;AAEA;AACA,wBAAGX,KAAKjM,IAAL,CAAU,OAAV,KAAsB,eAAzB,EAAyC;AACrCiM,6BAAKzK,OAAL,CAAa,qBAAb,EAAoCE,QAApC,CAA6C,qBAA7C,EAAoEU,IAApE,CAA0E,eAAamL,WAAWjN,GAAxB,GAA4B,oCAAtG;AACH;AAEJ;AACD2L,qBAAKzK,OAAL,CAAa,qBAAb,EAAoCE,QAApC,CAA6C,qBAA7C,EAAoE+K,QAApE;AACH,aA1BD;;AA4BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEAC,uBAAWkB,IAAX;AAEH,SAzED;AA0EA;AACArO,UAAE+B,QAAF,EAAY3B,EAAZ,CAAgB,OAAhB,EAAyB,oBAAzB,EAA+C,UAAUmK,KAAV,EAAkB;AAC7DA,kBAAMjK,cAAN;AACA;;AAEA,gBAAIgO,cAActO,EAAE,IAAF,CAAlB;AAAA,gBACIqN,YAAYrN,EAAE,IAAF,EAAQS,IAAR,CAAa,OAAb,CADhB;AAEI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA0M,yBAAaG,GAAGC,KAAH,CAASC,MAAT,CAAgBL,UAAhB,GAA6BG,GAAGC,KAAH,CAAS;AAC/CE,uBAAOa,YAAY7N,IAAZ,CAAkB,gBAAlB,CADwC;AAE/CiN,wBAAQ;AACJC,0BAAMW,YAAY7N,IAAZ,CAAkB,sBAAlB;AADF,iBAFuC;AAK/CmN,0BAAU,KALqC,CAK/B;AAL+B,aAAT,CAA1C;;AAQAT,uBAAW/M,EAAX,CAAe,QAAf,EAAyB,YAAW;AAChC,oBAAI4N,aAAab,WAAWW,KAAX,GAAmBC,GAAnB,CAAuB,WAAvB,EAAoCK,KAApC,GAA4CH,MAA5C,EAAjB;AACA,oBAAIC,OAAOtL,EAAED,QAAF,CAAY3C,EAAE,kBAAF,EAAsB6C,IAAtB,EAAZ,EAA0C,EAACC,UAAU,MAAX,EAAmBC,UAAU,iBAA7B,EAAgDC,aAAa,mBAA7D,EAAkFC,QAAQ,oBAA1F,EAA1C,CAAX;AACA;AACA;AACAqL,4BAAYC,WAAZ,CAAwBL,KAAMlO,EAAEmD,MAAF,CAAS,EAAT,EAAY6K,UAAZ,EAAuB,EAACG,OAAMd,SAAP,EAAvB,CAAN,CAAxB;;AAEA;AACH,aARD;;AAUA;AACAF,uBAAW/M,EAAX,CAAc,MAAd,EAAqB,YAAW;AAC5B;AACA;;AAEA,oBAAIyN,YAAYV,WAAWW,KAAX,GAAmBC,GAAnB,CAAuB,WAAvB,CAAhB;AAAA,oBACIS,SAASF,YAAYnM,QAAZ,CAAqB,OAArB,EAA8B1B,IAA9B,CAAmC,IAAnC,CADb;AAAA,oBAEIuN,aAAaV,GAAGC,KAAH,CAASS,UAAT,CAAoBQ,MAApB,CAFjB;AAGA;AACA;AACAR,2BAAW9C,KAAX;AACA2C,0BAAUY,GAAV,CAAeT,aAAa,CAAEA,UAAF,CAAb,GAA8B,EAA7C;AACH,aAXD;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEAb,uBAAWkB,IAAX;AACH,SAhED;;AAqEA;AACArO,UAAE+B,QAAF,EAAY3B,EAAZ,CAAe,OAAf,EAAuB,iBAAvB,EAAyC,UAASC,CAAT,EAAW;AAChDA,cAAEC,cAAF;AACAD,cAAEqO,eAAF;AACA1O,cAAE,IAAF,EAAQiC,OAAR,CAAgB,oBAAhB,EAAsCT,MAAtC;AACH,SAJD;;AAOAxB,UAAE,kBAAF,EAAsBsE,IAAtB,CAA2B,YAAU;AACjCtE,cAAE,IAAF,EAAQ2O,aAAR;AACH,SAFD;AAIH,KAlKD;AAsKH,CAxKD,EAwKG1B,MAxKH","file":"addons-admin.min.js","sourcesContent":["(function($) {\n\t\"use strict\";\n\n\tvar CTBModal = {};\n    CTBModal.hide = function () {\n        $('.ctb-modal').fadeOut();\n    };\n\n    $('.ctb-modal-open').on(\"click\", function (e) {\n        e.preventDefault();\n        $('.ctb-modal').fadeIn();\n    });\n\n    $('.ctb-modal-close').on(\"click\", function () {\n        CTBModal.hide();\n    });\n\n\n    // create new stripe plan\n    $(\"#create-stripe-plan-form\").on('submit', function (e) {\n        e.preventDefault()\n        var $form = $(this),\n            data = $form.serialize()\n        $('#stripe_submit').attr('disabled', true).addClass('submitted')\n        $.ajax({\n            method: \"POST\",\n            url: ajaxurl,\n            data: data + '&action=create_stripe_plan'\n        })\n        // end $.ajax\n        .done(function( data ) {\n            if(data.success == false){\n                if(typeof data.error != 'undefined') $form.before(`<div class=\"stripe-plan-message\">${data.error}</div>`);\n                $('#stripe_submit').attr('disabled', false).removeClass('submitted')\n            }else{\n                if(typeof data.plan_id != 'undefined'){\n                    $('#_cth_stripe_plan_id').val(data.plan_id)\n                }\n                CTBModal.hide();\n\n                $form.remove()\n            }\n        })\n        // emd done \n        .fail(function(jqXHR, textStatus, errorThrown ){\n            console.log(jqXHR)\n        });\n        // end fail\n    });\n\n    // repeat field for additional submit form\n    $(document).on('click','.repeater-fields-wrap .addfield',function(e){\n        e.preventDefault()\n        var wrapper         = $(this).closest('.repeater-fields-wrap'),\n            fields          = wrapper.children('.repeater-fields'),\n            widgets         = $(this).closest('.repeater-widgets-wrap'),\n            index           = $(this).data('index')? $(this).data('index') : (fields.children().length?fields.children().length: 0),\n            parentindex     = $(this).data('parent-index')? $(this).data('parent-index') : (typeof widgets != 'undefined'? widgets.children('.repeater-widgets').children().length : 1),\n            childFieldName  = typeof $(this).data('name') != 'undefined'? $(this).data('name') : 'add_widget_child_name',\n            tmplName        = wrapper.data('tmpl'),\n            tmplData        = wrapper.data('tmpl_data')?wrapper.data('tmpl_data'):{},\n            template        = _.template( $('#'+tmplName).html(), {\n                variable: 'data',\n\n                evaluate: /<#([\\s\\S]+?)#>/g,\n                interpolate: /{{{([\\s\\S]+?)}}}/g, \n                escape: /{{([^}]+?)}}(?!})/g, \n            });\n\n            // console.log(parentindex)\n        \n        fields.append( template( $.extend({ index: ++index, parentindex: parentindex, child_field_name: childFieldName },tmplData) ) )\n        $(this).data('index',index)\n        $(this).data('parent-index',parentindex)\n        \n    })\n    $(document).on('click','.repeater-fields-wrap .rmfield',function(e){\n        e.preventDefault()\n        $(this).closest('.entry').remove()\n    })\n\n    // repeat widget for additional submit form\n    $(document).on('click','.repeater-widgets-wrap .addwidget',function(e){\n        e.preventDefault()\n        var wrapper = $(this).closest('.repeater-widgets-wrap'),\n            fields = wrapper.children('.repeater-widgets'),\n            index = $(this).data('index')? $(this).data('index') : (fields.children().length?fields.children().length: 0),\n            fieldName = typeof $(this).data('name') != 'undefined'? $(this).data('name') : 'add_widget_name',\n            tmplName = wrapper.data('tmpl'),\n            tmplData = wrapper.data('tmpl_data')?wrapper.data('tmpl_data'):{},\n            template = _.template( $('#'+tmplName).html(), {\n                variable: 'data',\n\n                evaluate: /<#([\\s\\S]+?)#>/g,\n                interpolate: /{{{([\\s\\S]+?)}}}/g, \n                escape: /{{([^}]+?)}}(?!})/g, \n            });\n        // console.log(\"tmpl data\",tmplData);\n        fields.append( template( $.extend({ index: ++index, field_name: fieldName },tmplData) ) )\n        $(this).data('index',index)\n        \n    })\n    $(document).on('click','.repeater-widgets-wrap .rmwidget',function(e){\n        e.preventDefault()\n        $(this).closest('.entry').remove()\n    })\n    \n    //repeat key mobile app\n    $(document).on('click','.repeater-key-wrap .addkeymobileapp',function(e){\n        e.preventDefault()\n        var wrapper = $(this).closest('.repeater-key-wrap'),\n            fields = wrapper.children('.repeater-key-mobile-app'),\n            index = $(this).data('index')?$(this).data('index'):(fields.children().length?fields.children().length:0),\n            fieldName = typeof $(this).data('name') != 'undefined'? $(this).data('name') : 'add_widget_name',\n            tmplName = wrapper.data('tmpl'),\n            key = btoa(Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)),\n            tmplData = wrapper.data('tmpl_data')?wrapper.data('tmpl_data'):{},\n            template = _.template( $('#'+tmplName).html(), {\n                variable: 'data',\n\n                evaluate: /<#([\\s\\S]+?)#>/g,\n                interpolate: /{{{([\\s\\S]+?)}}}/g, \n                escape: /{{([^}]+?)}}(?!})/g, \n            });\n        fields.append( template( $.extend({ index: ++index,key:key,field_name:fieldName},tmplData) ) )\n        $(this).data('index',index)\n    })\n    $(document).on('click','.repeater-key-wrap .rmkey',function(e){\n        e.preventDefault()\n        $(this).closest('.entry').remove()\n    })\n    // for tab back-end edit\n    $(document).on('click', '.tabs-menu a', function(e){\n        e.preventDefault()\n\n\n        var $tab_a = $(this),\n            target = $tab_a.attr(\"href\")\n\n        $tab_a.parent().addClass('current')\n        $tab_a.parent().siblings().removeClass(\"current\")\n\n        $tab_a.closest('.tabs-wrapper').find('.tab-content').not(target).removeClass(\"current\");\n        $tab_a.closest('.tabs-wrapper').find(target).addClass('current')\n    })\n\n    \n    if(_townhub_add_ons_admin.free_map){\n        //Osm map\n        let appOSM={}, \n            inherits = ol.inherits,\n            PointerInteraction = ol.interaction.Pointer,\n            defaultInteractions = ol.interaction.defaults;\n        appOSM.Drag = function() {\n\n            PointerInteraction.call(this, {\n                handleDownEvent: appOSM.Drag.prototype.handleDownEvent,\n                handleDragEvent: appOSM.Drag.prototype.handleDragEvent,\n                handleMoveEvent: appOSM.Drag.prototype.handleMoveEvent,\n                handleUpEvent: appOSM.Drag.prototype.handleUpEvent\n            });\n\n            /**\n             * @type {module:ol/pixel~Pixel}\n             * @private\n             */\n            this.coordinate_ = null;\n\n            /**\n             * @type {string|undefined}\n             * @private\n             */\n            this.cursor_ = 'pointer';\n\n            /**\n             * @type {module:ol/Feature~Feature}\n             * @private\n             */\n            this.feature_ = null;\n\n            /**\n             * @type {string|undefined}\n             * @private\n             */\n            this.previousCursor_ = undefined;\n\n        };\n        inherits(appOSM.Drag, PointerInteraction); \n\n        /**\n        * @param {module:ol/MapBrowserEvent~MapBrowserEvent} evt Map browser event.\n        * @return {boolean} `true` to start the drag sequence.\n        */\n        appOSM.Drag.prototype.handleDownEvent = function(evt) {\n            let map = evt.map;\n\n            let feature = map.forEachFeatureAtPixel(evt.pixel, function(feature) {\n                    return feature;\n            });\n            // console.log(feature)\n            if (feature) {\n                this.coordinate_ = evt.coordinate;\n                this.feature_ = feature;\n            }\n\n            // console.log(this.coordinate_)\n\n            return !!feature;\n        };\n\n\n        /**\n        * @param {module:ol/MapBrowserEvent~MapBrowserEvent} evt Map browser event.\n        */\n        appOSM.Drag.prototype.handleDragEvent = function(evt) {\n            var deltaX = evt.coordinate[0] - this.coordinate_[0];\n            var deltaY = evt.coordinate[1] - this.coordinate_[1];\n\n            var geometry = this.feature_.getGeometry();\n            geometry.translate(deltaX, deltaY);\n            // geometry: new ol.geom.Point(ol.proj.transform(mapCenter, 'EPSG:4326', 'EPSG:3857')),\n            this.coordinate_[0] = evt.coordinate[0];\n            this.coordinate_[1] = evt.coordinate[1];\n\n            // console.log(this.coordinate_)\n\n            if(this.coordinate_ != null) onOSMDragMarker(ol.proj.transform(this.coordinate_, 'EPSG:3857', 'EPSG:4326'))\n        };\n\n\n        /**\n        * @param {module:ol/MapBrowserEvent~MapBrowserEvent} evt Event.\n        */\n        appOSM.Drag.prototype.handleMoveEvent = function(evt) {\n            if (this.cursor_) {\n                var map = evt.map;\n                var feature = map.forEachFeatureAtPixel(evt.pixel,function(feature) {\n                    return feature;\n                }); \n                var element = evt.map.getTargetElement();\n                if (feature) {\n                    if (element.style.cursor != this.cursor_) {\n                      this.previousCursor_ = element.style.cursor;\n                      element.style.cursor = this.cursor_;\n                    }\n                } else if (this.previousCursor_ !== undefined) {\n                    element.style.cursor = this.previousCursor_;\n                    this.previousCursor_ = undefined;\n                }\n            }\n            // console.log(this.coordinate_)\n        };\n\n\n        /**\n        * @return {boolean} `false` to stop the drag sequence.\n        */\n        appOSM.Drag.prototype.handleUpEvent = function() {\n\n            this.coordinate_ = null;\n            this.feature_ = null;\n            // console.log(this.coordinate_)\n            return false;\n        };\n        // for edit listing map\n        function submitMapOSM(){\n            $('.submitMapOSM').each(function(){\n                let $that = $(this),\n                    ID = $that.attr('id'),\n                    mapCenter = [parseFloat(_townhub_add_ons_admin.center_lng), parseFloat(_townhub_add_ons_admin.center_lat)];\n                if($that.data('lat') && $that.data('lng')){\n                    mapCenter = [parseFloat($that.data('lng')), parseFloat($that.data('lat'))];\n                }\n\n                let sview = new ol.View({\n                    center: ol.proj.fromLonLat(mapCenter),\n                    zoom: parseInt(_townhub_add_ons_admin.map_zoom),\n                });\n\n                let sFeature = new ol.Feature({\n                    geometry: new ol.geom.Point(ol.proj.transform(mapCenter, 'EPSG:4326', 'EPSG:3857')),\n                });\n\n                let mkIcon = new ol.style.Style({\n                    image: new ol.style.Icon({\n                        anchor: [0.5, 0.5],\n                        anchorXUnits: 'fraction',\n                        anchorYUnits: 'fraction',\n                        src: _townhub_add_ons_admin.marker ,\n                        // color: '#4db7fe',\n                        crossOrigin: 'anonymous',\n                    })\n                });\n                sFeature.setStyle(mkIcon)\n\n                let svectorLayer = new ol.layer.Vector({\n                    source: new ol.source.Vector({\n                        features: [sFeature]\n                    }),\n                    // style: function(feature) {\n                    //      // hide geoMarker if animation is active\n                    //      if (animating && feature.get('type') === 'geoMarker') {\n                    //      return null;\n                    //      }\n                    //      return styles[feature.get('type')];\n                    // }\n                });\n\n                let osm_single_map = new ol.Map({\n                    interactions: defaultInteractions().extend([new appOSM.Drag()]),\n                    target: ID,\n                    view: sview,\n                    layers: [\n                        new ol.layer.Tile({\n                            preload: 3,\n                            source: new ol.source.OSM(),\n                        }), \n                        svectorLayer,\n                    ],\n                    loadTilesWhileAnimating: true,\n                });\n            })\n        }\n        function onOSMDragMarker(coordinates){\n            $('#latitude').val(coordinates[1])\n            $('#longitude').val(coordinates[0])\n            fetchAddress(coordinates)\n        }\n        if($('.submitMapOSM').length){\n            $( window ).load(function() {\n                submitMapOSM()\n            });\n        }\n\n    }else{\n        // for submit listing map\n        function submitMap(){\n            $('.submitMap').each(function(){\n                var $that = $(this),\n                    mapCenter = {lat: parseFloat(_townhub_add_ons_admin.center_lat), lng: parseFloat(_townhub_add_ons_admin.center_lng) };\n                if($that.data('lat') && $that.data('lng')){\n                    mapCenter = {\n                        lng: parseFloat($that.data('lng')),\n                        lat: parseFloat($that.data('lat')),\n                    }\n                }\n                var submit_map = new google.maps.Map($that[0], {\n                        zoom: 10,\n                        center: mapCenter,\n                        styles: [{\n                            \"featureType\": \"landscape\",\n                            \"elementType\": \"all\",\n                            \"stylers\": [{\n                                \"color\": \"#f2f2f2\"\n                            }]\n                        }]\n                    });\n\n                var submit_marker = new google.maps.Marker({\n                    position: mapCenter,\n                    map: submit_map,\n                    draggable: true,\n                });\n\n                submit_marker.addListener('dragend', (event)=>{\n                    $('#latitude').val(event.latLng.lat())\n                    $('#longitude').val(event.latLng.lng())\n                    let coordinate = [event.latLng.lng(),event.latLng.lat()]\n                    fetchAddress(coordinate)\n                });\n\n                $(document).on('webkitfullscreenchange mozfullscreenchange fullscreenchange', function() {\n                    var isFullScreen = document.fullScreen ||\n                        document.mozFullScreen ||\n                        document.webkitIsFullScreen;\n                    if (!isFullScreen) {\n                        submit_map.setCenter(submit_marker.position);\n                    }\n                });\n\n                // on auto complete place change\n                $(document).on('change', '#latitude, #longitude', function(){\n                    var latlng = new google.maps.LatLng( $('#latitude').val(), $('#longitude').val() );\n                    submit_marker.setPosition(latlng);\n                    submit_map.setCenter(latlng);\n                })\n                \n            });\n        }\n        if($('.submitMap').length){\n            $( window ).load(function() {\n                submitMap()\n            });\n        }\n    }\n    \n    //fetch address\n    function fetchAddress(coordinates){\n        let api = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${coordinates[1]}&lon=${coordinates[0]}&zoom=18&addressdetails=1`\n            // \"http://nominatim.openstreetmap.org/reverse?format=json&lat=\" + Double.toString(lat) + \"&lon=\" + Double.toString(lon) + \"&zoom=18&addressdetails=1\";\n        fetch(api)\n        .then(function(response) {\n            return response.json();\n        })\n        .then(function(address) {\n            if (address.display_name != null && address.display_name) $('#address').val(address.display_name)\n        });\n    }\n    // document ready\n    $(function(){\n        if (!_townhub_add_ons_admin.free_map){\n            var placesAutocompleteOptions = {types: ['geocode']} // geocode, address, establishment, regions, cities\n            // if(_townhub_add_ons_admin.country_restrictions){\n            //     var countries = _townhub_add_ons_admin.country_restrictions.filter(country => country)\n            //     if(countries) placesAutocompleteOptions.componentRestrictions = {country: countries}\n            // } \n            var submitAddressEle = document.getElementById('address');\n            if (submitAddressEle != undefined && submitAddressEle != null) {\n                var submitAddressAutocomplete = new google.maps.places.Autocomplete(\n                    /** @type {!HTMLInputElement} */\n                    submitAddressEle,\n                    placesAutocompleteOptions\n                    // {types: ['geocode']} // geocode, address, establishment, regions, cities\n                );\n\n                submitAddressAutocomplete.addListener('place_changed', function(){\n                    var place = submitAddressAutocomplete.getPlace();\n                    $('#latitude').val(place.geometry.location.lat()).trigger('change')\n                    $('#longitude').val(place.geometry.location.lng()).trigger('change')\n                });\n            }\n        }\n        \n\n        // location picker for listing submit\n        \n        // if($('.submitMap').length ){\n        //     google.maps.event.addDomListener(window, 'load', submitMap);\n        // }\n\n        $('#listing_expire_date').datetimepicker({\n            formatDate: 'Y-m-d',\n            formatTime: 'H:i:s',\n            format:'Y-m-d H:i:s',\n            allowBlank: true,\n            // validateOnBlur: true,\n        });\n        $('#expiry_date').datetimepicker({\n            formatDate: 'Y-m-d',\n            formatTime: 'H:i:s',\n            format:'Y-m-d H:i:s',\n            allowBlank: true,\n            // validateOnBlur: true,\n        });\n    })\n\n    var addons_referer = '';\n\n    // plugin options tab\n    $(document).on('click', '.cth-addons-tab', function(e){\n        e.preventDefault()\n        var $tab_a = $(this)\n        $('.cth-addons-tab').removeClass('nav-tab-active')\n        $tab_a.addClass('nav-tab-active')\n\n        $('.cth-addons-pane').removeClass('current');\n        $($tab_a.attr(\"href\")).addClass('current');\n\n\n\n        if($('#ctb-addons-options-form input[name=\"_wp_http_referer\"]').length){\n            if(addons_referer == '') addons_referer = $('#ctb-addons-options-form input[name=\"_wp_http_referer\"]').val()\n\n            // replace old tab value\n            addons_referer = addons_referer.replace(/&addonstab=\\w*/ig, '');\n            \n            $('#ctb-addons-options-form input[name=\"_wp_http_referer\"]').val(addons_referer+\"&addonstab=\"+$tab_a.data('tabid'))\n        }\n    })\n\n    $(function(){\n        // featured listing admin\n        $(document).on('click','.set-lfeatured',function(e){\n            e.preventDefault();\n            var $btn = $(this),\n                data = {\n                    action: 'admin_lfeatured',\n                    lid: $(this).data('id')\n                },\n                lfeatured = false;\n            if($btn.hasClass('lfeatured')){\n                lfeatured = true;\n                data['lfeatured'] = true;\n            }\n\n            $btn.addClass('do-process').attr('disabled',true);\n\n            $.ajax({\n                method: \"POST\",\n                url: ajaxurl,\n                data: data\n            })\n            // end $.ajax\n            .done(function( res ) {\n                // console.log(res)\n                if(res.success){\n                    if(lfeatured) \n                        $btn.removeClass('lfeatured');\n                    else \n                        $btn.addClass('lfeatured');\n                }\n                $btn.removeClass('do-process').attr('disabled',false);\n            })\n            // emd done \n            .fail(function(jqXHR, textStatus, errorThrown ){\n                // console.log(jqXHR)\n                $btn.removeClass('do-process').attr('disabled',false);\n            });\n            // end fail\n\n        })\n        // end featured listing admin\n        // claim listing admin status\n        $('#claim_status').on('change', function(){\n            if($(this).val() == 'asked_charge')\n                $('#claim_price_tr').addClass('claim-fee-asked');\n            else\n                $('#claim_price_tr').removeClass('claim-fee-asked');\n        });\n\n        // verify listing admin\n        $(document).on('click','.set-lverified',function(e){\n            e.preventDefault();\n            var $btn = $(this),\n                data = {\n                    action: 'admin_lverified',\n                    lid: $(this).data('id'),\n                    // lverified: false\n                },\n                lverified = false;\n            if($btn.hasClass('lverified')){\n                lverified = true;\n                data['lverified'] = true;\n            }\n\n            $btn.addClass('do-process').attr('disabled',true);\n\n            $.ajax({\n                method: \"POST\",\n                url: ajaxurl,\n                data: data\n            })\n            // end $.ajax\n            .done(function( res ) {\n                // console.log(res)\n                if(res.success){\n                    if(lverified) \n                        $btn.removeClass('lverified');\n                    else \n                        $btn.addClass('lverified');\n                }\n                $btn.removeClass('do-process').attr('disabled',false);\n            })\n            // emd done \n            .fail(function(jqXHR, textStatus, errorThrown ){\n                // console.log(jqXHR)\n                $btn.removeClass('do-process').attr('disabled',false);\n            });\n            // end fail\n\n        })\n    })\n\n\n\n})(jQuery);\n\n\n\n// handle media manager for backend edit listing\n(function($) {\n    // When the DOM is ready.\n    $(function() {\n        $( \".select-images-list\" ).sortable();\n        // var files_frame; // variable for the wp.media file_frame\n        var file_frame; // variable for the wp.media file_frame\n\n        // attach a click event (or whatever you want) to some element on your page\n        $( '.select-images-btn' ).on( 'click', function( event ) {\n            event.preventDefault();\n\n            var $btn = $(this),\n                is_multiple = $btn.data('single') == null ? true : false,\n                fieldname = $(this).data('field')\n\n            // console.log(fieldname)\n\n            // if the file_frame has already been created, just reuse it\n            // if ( file_frame ) {\n            //     // file_frame.options.multiple = true;\n            //     // var selection = file_frame.state().get('selection')\n            //     // selection.add([])\n            //     file_frame.open();\n            //     return;\n            // }\n\n            file_frame = wp.media.frames.file_frame = wp.media({\n                title: $btn.data( 'uploader_title' ),\n                button: {\n                    text: $btn.data( 'uploader_button_text' ),\n                },\n                multiple: is_multiple // set this to true for multiple file selection\n            });\n\n            file_frame.on( 'select', function() {\n                if(is_multiple){\n                    var selection = file_frame.state().get('selection');\n                    selection.map( function( attachment ) {\n                        attachment = attachment.toJSON();\n                        // console.log(attachment)\n\n                        var tmpl = _.template( $('#tmpl-imageslist').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n                        // add fieldname data\n                        // attachment.field = fieldname\n                            \n                        $btn.closest('.select-images-wrap').children('.select-images-list').append( tmpl( $.extend({},attachment,{field:fieldname}) ) )\n                    });\n                }else{\n                    var attachment = file_frame.state().get('selection').first().toJSON();\n                    var tmpl = _.template( $('#tmpl-imageslist').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n\n                    $btn.closest('.select-images-wrap').children('.select-images-list').html( tmpl( $.extend({},attachment,{field:fieldname}) ) )\n\n                    // custom for custom avatar upload\n                    if($btn.data('field') == 'custom_avatar'){\n                        $btn.closest('.edit-profile-photo').children('.profile-photo-wrap').html( '<img src=\"'+attachment.url+'\" class=\"avatar avatar-150 photo\">' )\n                    }\n                    \n                }\n                $btn.closest('.select-images-wrap').children('.select-images-list').sortable();\n            });\n\n            //reset selection in popup, when open the popup\n            // file_frame.on('open',function() {\n            //     var selection = file_frame.state().get('selection');\n\n            //     // ids = jQuery('#my_field_id').val().split(',');\n            //     [1908,1907].forEach(function(id) {\n            //         var attachment = wp.media.attachment(id);\n            //         attachment.fetch();\n            //         selection.add( attachment ? [ attachment ] : [] );\n\n            //     });\n                \n            // });\n\n            // Set post id - listing id - no needed for backend\n            // wp.media.model.settings.post.id = _townhub_submit.id\n\n            file_frame.open();\n        \n        });\n        // open reselect image\n        $(document).on( 'click' ,'.select-image-item', function( event ) {\n            event.preventDefault();\n            // event.stopPropagation()\n\n            var $selectedli = $(this),\n                fieldname = $(this).data('field')\n                // img_id = $(this).children('input').data('id')\n\n            // console.log(fieldname)\n            // console.log($selectedli)\n\n            // if the file_frame has already been created, just reuse it\n            // if ( file_frame ) {\n            //     // file_frame.options.multiple = false;\n            //     // setMediaSelectedImg()\n            //     file_frame.open();\n            //     return;\n            // }\n\n            file_frame = wp.media.frames.file_frame = wp.media({\n                title: $selectedli.data( 'uploader_title' ),\n                button: {\n                    text: $selectedli.data( 'uploader_button_text' ),\n                },\n                multiple: false // set this to true for multiple file selection\n            });\n\n            file_frame.on( 'select', function() {\n                var attachment = file_frame.state().get('selection').first().toJSON();\n                var tmpl = _.template( $('#tmpl-imageslist').html(), {variable: 'data', evaluate: /<#([\\s\\S]+?)#>/g, interpolate: /{{{([\\s\\S]+?)}}}/g, escape: /{{([^}]+?)}}(?!})/g,});\n                // add fieldname data\n                // attachment.field = fieldname\n                $selectedli.replaceWith(tmpl( $.extend({},attachment,{field:fieldname}) ))\n\n                // $selectedli.remove()\n            });\n\n            //reset selection in popup, when open the popup\n            file_frame.on('open',function() {\n                // file_frame.options.multiple = false;\n                // setMediaSelectedImg()\n\n                var selection = file_frame.state().get('selection'),\n                    img_id = $selectedli.children('input').data('id'),\n                    attachment = wp.media.attachment(img_id);\n                // console.log(img_id)\n                // console.log($selectedli.children('input'))\n                attachment.fetch();\n                selection.add( attachment ? [ attachment ] : [] );\n            });\n\n            // function setMediaSelectedImg(){\n            //     var selection = file_frame.state().get('selection'),\n            //         id = $selectedli.children('input').data('id'),\n            //         attachment = wp.media.attachment(id);\n            //     console.log(id)\n            //     attachment.fetch();\n            //     selection.add( attachment ? [ attachment ] : [] );\n            // }\n\n            // Set post id - listing id - no needed for backend\n            // wp.media.model.settings.post.id = _townhub_submit.id\n\n            file_frame.open();\n        });\n\n        \n\n\n        // remove image item\n        $(document).on('click','.remove-img-btn',function(e){\n            e.preventDefault();\n            e.stopPropagation()\n            $(this).closest('.select-image-item').remove()\n        })\n\n\n        $('.cth-color-field').each(function(){\n            $(this).wpColorPicker();\n        });\n\n    });\n\n\n\n})(jQuery);"]}